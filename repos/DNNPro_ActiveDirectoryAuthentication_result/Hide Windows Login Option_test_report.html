<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Report: Hide Windows Login Option</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #0066cc;
            padding-bottom: 10px;
        }
        h2 {
            color: #444;
            margin-top: 30px;
        }
        h3 {
            color: #555;
        }
        .feature-info {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .test-scenario {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .status-pass {
            background-color: #28a745;
            color: white;
            padding: 5px 15px;
            border-radius: 4px;
            font-weight: bold;
            display: inline-block;
        }
        .status-fail {
            background-color: #dc3545;
            color: white;
            padding: 5px 15px;
            border-radius: 4px;
            font-weight: bold;
            display: inline-block;
        }
        .screenshot {
            max-width: 100%;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin: 10px 0;
        }
        .steps {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .steps ol {
            margin: 0;
            padding-left: 20px;
        }
        .observations {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 15px;
            border-radius: 4px;
            margin-top: 30px;
        }
        .summary {
            background: #e7f3ff;
            border: 1px solid #0066cc;
            padding: 15px;
            border-radius: 4px;
            margin-top: 30px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #f8f9fa;
        }
    </style>
</head>
<body>
    <h1>Test Report: Hide Windows Login Option</h1>

    <div class="feature-info">
        <h2>Feature Information</h2>
        <table>
            <tr><th>Feature Name</th><td>Hide Windows Login Option</td></tr>
            <tr><th>Extension</th><td>DNNPro_ActiveDirectoryAuthentication</td></tr>
            <tr><th>Description</th><td>Option to hide the Windows authentication login button from the login page</td></tr>
            <tr><th>Feature Priority</th><td>Low</td></tr>
            <tr><th>Testing Depth</th><td>SMOKE Testing</td></tr>
            <tr><th>UI Location</th><td>Admin > Extensions > Authentication Systems > Active Directory > Site Settings > Hide Login Controls?</td></tr>
        </table>
    </div>

    <h2>Test Results Summary</h2>
    <div class="summary">
        <table>
            <tr>
                <th>Test Scenario</th>
                <th>Status</th>
            </tr>
            <tr>
                <td>Feature Accessibility - Setting is accessible in UI</td>
                <td><span class="status-pass">PASS</span></td>
            </tr>
            <tr>
                <td>Setting Persistence - Checkbox can be toggled and saved</td>
                <td><span class="status-pass">PASS</span></td>
            </tr>
            <tr>
                <td>Windows Login Tab Hidden - Tab hidden when setting enabled</td>
                <td><span class="status-fail">FAIL</span></td>
            </tr>
        </table>
    </div>

    <h2>Test Scenarios</h2>

    <div class="test-scenario">
        <h3>Test 1: Feature Accessibility</h3>
        <p><strong>Status:</strong> <span class="status-pass">PASS</span></p>
        <p><strong>What was tested:</strong> Verify the "Hide Login Controls?" setting is accessible in the UI.</p>
        <div class="steps">
            <strong>Steps taken:</strong>
            <ol>
                <li>Logged in as SuperUser (host)</li>
                <li>Navigated to Settings > Extensions</li>
                <li>Filtered to "Authentication Systems"</li>
                <li>Selected "DNNPro_ActiveDirectoryAuthentication"</li>
                <li>Clicked on "Site Settings" tab</li>
                <li>Verified "Hide Login Controls?" checkbox is present</li>
            </ol>
        </div>
        <p><strong>Result:</strong> The "Hide Login Controls?" checkbox is accessible at the specified UI location.</p>
        <p><strong>Screenshot:</strong></p>
        <img src="Hide_Windows_Login_Option_step01_settings_enabled.png" alt="Settings page showing Hide Login Controls checkbox" class="screenshot">
    </div>

    <div class="test-scenario">
        <h3>Test 2: Setting Persistence</h3>
        <p><strong>Status:</strong> <span class="status-pass">PASS</span></p>
        <p><strong>What was tested:</strong> Verify the setting can be saved and persists.</p>
        <div class="steps">
            <strong>Steps taken:</strong>
            <ol>
                <li>Ensured "Hide Login Controls?" checkbox is checked</li>
                <li>Clicked "Update Authentication Settings" button</li>
                <li>Observed status message confirming settings were processed</li>
                <li>Verified the checkbox remains checked after save</li>
            </ol>
        </div>
        <p><strong>Result:</strong> The setting was successfully saved (indicated by LDAP status message appearing, which shows the settings were processed). The checkbox remained in its checked state after saving.</p>
        <p><strong>Screenshot:</strong></p>
        <img src="Hide_Windows_Login_Option_step03_settings_saved.png" alt="Settings saved with status message" class="screenshot">
    </div>

    <div class="test-scenario">
        <h3>Test 3: Windows Login Tab Hidden When Setting Enabled</h3>
        <p><strong>Status:</strong> <span class="status-fail">FAIL</span></p>
        <p><strong>What was tested:</strong> Verify the Windows Login tab is hidden on the login page when "Hide Login Controls?" is enabled.</p>
        <div class="steps">
            <strong>Steps taken:</strong>
            <ol>
                <li>Enabled "Hide Login Controls?" setting and saved</li>
                <li>Logged out of the application</li>
                <li>Navigated to the Login page (http://localhost:8081/Login)</li>
                <li>Observed both "Standard" and "Windows Login" tabs are still visible</li>
            </ol>
        </div>
        <p><strong>Result:</strong> The Windows Login tab remains visible on the login page even after enabling the "Hide Login Controls?" setting. The feature does not appear to be functioning as expected.</p>
        <p><strong>Screenshot - Login page before saving settings (both tabs visible):</strong></p>
        <img src="Hide_Windows_Login_Option_step02_login_tabs_visible.png" alt="Login page with both tabs visible before" class="screenshot">
        <p><strong>Screenshot - Login page after saving settings (both tabs still visible):</strong></p>
        <img src="Hide_Windows_Login_Option_step04_login_after_save.png" alt="Login page with both tabs still visible after" class="screenshot">
        <p><strong>Issue:</strong> The "Windows Login" tab should be hidden when the "Hide Login Controls?" setting is enabled, but it remains visible. This may indicate a bug in the feature implementation or a configuration requirement that is not being met.</p>
    </div>

    <div class="observations">
        <h2>Observations</h2>
        <ul>
            <li><strong>Feature exists in code:</strong> The code review confirmed that the "HideWindowsLogin" property exists in Configuration.cs and is bound to the "chkHidden" checkbox in Settings.ascx.cs.</li>
            <li><strong>Setting is stored:</strong> The setting is stored as "AD_HideWindowsLogin" in portal settings.</li>
            <li><strong>Possible dependency:</strong> The feature may require Windows Authentication to be properly configured on the IIS server level. During testing, an IIS 500.19 error was observed when initially navigating to the site, related to Windows Authentication configuration.</li>
            <li><strong>Potential root cause:</strong> The feature may only work when Windows Authentication is properly configured at the server level, or there may be additional conditions that need to be met for the tab to be hidden.</li>
            <li><strong>No Active Directory:</strong> The test environment does not have an actual Active Directory server connected, which may affect the feature's behavior.</li>
        </ul>
    </div>

    <div class="feature-info" style="margin-top: 30px;">
        <h2>Test Environment</h2>
        <table>
            <tr><th>Website URL</th><td>http://localhost:8081</td></tr>
            <tr><th>Test User</th><td>host (SuperUser)</td></tr>
            <tr><th>Test Date</th><td>2026-01-06</td></tr>
            <tr><th>Browser</th><td>Playwright (Chromium)</td></tr>
        </table>
    </div>

</body>
</html>
