{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.Templates",
    "extension_type": "PersonaBar Module",
    "feature_name": "Delete Template",
    "feature_description": "Delete templates from the system with confirmation dialog, except default templates",
    "feature_priority": "High",
    "test_date": "2026-02-09T16:50:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Delete confirmation dialog appears",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Admin > Manage > Templates",
          "expected": "Templates page displays with list of available templates",
          "actual": "Templates page displayed with 3 templates: Cavalier - Main, Test Template Page, Test Template Valid",
          "screenshot": "Delete Template_step01_templates_list.png"
        },
        {
          "step_number": 2,
          "action": "Hover over Test Template Page and click Delete button",
          "expected": "Confirmation dialog appears asking to confirm deletion",
          "actual": "Confirmation dialog appeared with message 'Please confirm you wish to delete this template.' and Cancel/Delete buttons",
          "screenshot": "Delete Template_step03_confirmation_dialog.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Cancel deletion",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Cancel button on confirmation dialog",
          "expected": "Dialog closes and template remains in the list",
          "actual": "Dialog closed and Test Template Page remained in the list with all 3 templates still visible",
          "screenshot": "Delete Template_step04_cancel_dialog.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify template with default skin cannot be deleted",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to delete Test Template Page (uses default skin)",
          "expected": "Deletion should be blocked with error message",
          "actual": "Delete returned 422 Unprocessable Entity error. UI showed 'Failed...' error notification. Template was not deleted.",
          "screenshot": "Delete Template_step06_delete_failed_error.png"
        },
        {
          "step_number": 2,
          "action": "Hover over Cavalier - Main template (uses default skin)",
          "expected": "Delete button should not be visible for default skin templates",
          "actual": "Only Edit button is visible on Cavalier - Main template. No Delete button appears, preventing deletion attempts.",
          "screenshot": "Delete Template_step10_default_skin_no_delete.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Delete non-default template",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Hover over Test Template Valid (does not use default skin)",
          "expected": "Both Edit and Delete buttons should be visible",
          "actual": "Both Edit and Delete buttons appeared on the template card",
          "screenshot": "Delete Template_step07_test_template_valid_with_delete.png"
        },
        {
          "step_number": 2,
          "action": "Click Delete button for Test Template Valid",
          "expected": "Confirmation dialog appears",
          "actual": "Confirmation dialog appeared with message 'Please confirm you wish to delete this template.'",
          "screenshot": "Delete Template_step08_confirm_delete_valid_template.png"
        },
        {
          "step_number": 3,
          "action": "Click Delete button to confirm deletion",
          "expected": "Template is deleted successfully",
          "actual": "Template was successfully deleted. API returned 200 OK status.",
          "screenshot": "Delete Template_step09_after_successful_delete.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Update list after successful deletion",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Verify template list after deletion",
          "expected": "List should update to show remaining templates only",
          "actual": "List automatically updated from 3 templates to 2 templates. Test Template Valid is no longer visible. Only Cavalier - Main and Test Template Page remain.",
          "screenshot": "Delete Template_step11_final_state.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "Templates using the default portal skin are protected from deletion in two ways: (1) The Delete button is not shown in the UI (visible only Edit button), (2) If a delete is attempted via API, the server returns a 422 Unprocessable Entity error",
    "The confirmation dialog displays a generic message 'Please confirm you wish to delete this template.' without mentioning the specific template name in the dialog (the template name is replaced in the code but may not be visible in the final rendered message)",
    "Error handling for deletion of default-skin templates shows a generic 'Failed...' message rather than the specific localized error message 'PageTemplate_Cannot_Delete_Default_Template'"
  ],
  "summary": {
    "total_scenarios": 5,
    "passed": 5,
    "failed": 0,
    "pass_rate": "100%"
  }
}
