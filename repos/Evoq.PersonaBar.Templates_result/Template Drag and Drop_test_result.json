{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.Templates",
    "extension_type": "PersonaBar Module",
    "feature_name": "Template Drag and Drop",
    "feature_description": "Reorder templates in hierarchy by dragging and dropping them to new positions",
    "feature_priority": "Low",
    "test_date": "2026-02-09T16:50:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Drag template to new position",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Admin > Manage > Templates",
          "expected": "Templates page loads with list of templates",
          "actual": "Templates page loaded successfully showing 5 templates in a grid view",
          "screenshot": "Template Drag and Drop_step01_templates_page.png"
        },
        {
          "step_number": 2,
          "action": "Look for drag handles on template items",
          "expected": "Drag handles should be visible on template items to allow reordering",
          "actual": "No drag handles are visible in the UI. CSS analysis confirms that the templates-list view hides all span elements including drag-area via CSS rule: .templates-list ul li div.page-item span { display: none; }",
          "screenshot": "Template Drag and Drop_step05_templates_no_drag_handles.png"
        },
        {
          "step_number": 3,
          "action": "Hover over template items to check if drag handles appear",
          "expected": "Drag handles should appear on hover",
          "actual": "Drag handles do not appear on hover. The CSS for templates-list view completely hides the drag-area elements. Code evaluation confirms drag-area display remains 'none' even after hover.",
          "screenshot": "Template Drag and Drop_step03_templates_list_hover.png"
        }
      ],
      "issues": [
        "Drag handles are not visible in the Templates grid view due to CSS rule that hides all span elements",
        "The drag-and-drop JavaScript code exists in templatesHierarchy.js but the UI does not expose the drag handles in the current templates-list view"
      ]
    },
    {
      "scenario_name": "Verify drag disabled during search",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter search text in the Templates search box",
          "expected": "Search functionality works and drag should be disabled during search",
          "actual": "Search text 'test' was entered successfully. According to code analysis, drag-area has Knockout binding 'visible: $root.searchKeyword() == \"\"' which hides drag handles when search is active. Since drag handles are already hidden in templates-list view, this is effectively working as designed.",
          "screenshot": "Template Drag and Drop_step06_search_active.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "Code suggests Template Drag and Drop feature exists: JavaScript drag-and-drop implementation using jQuery UI Sortable is present in templatesHierarchy.js (lines 693-1096)",
    "The drag handle element (span.drag-area) is rendered in the HTML via Knockout template but is hidden by CSS in the templates-list grid view",
    "CSS rule at templates-hierarchy.css lines 526-527 hides all spans in templates-list view: '.pagePanel .pagehierarchy-container .pages-list-container .pages-list.templates-list ul li div.page-item span { display: none; }'",
    "The drag functionality appears to be designed for a hierarchy/list view (regular pages-list) rather than the grid/thumbnail view used by templates",
    "No UI toggle or view switcher was found to enable a list view where drag handles would be visible"
  ],
  "summary": {
    "total_scenarios": 2,
    "passed": 1,
    "failed": 1,
    "pass_rate": "50%"
  }
}
