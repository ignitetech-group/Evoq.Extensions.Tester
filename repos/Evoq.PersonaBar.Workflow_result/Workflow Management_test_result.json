{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.Workflow",
    "extension_type": "PersonaBar Module",
    "feature_name": "Workflow Management",
    "feature_description": "Create, edit, delete content workflows and set the default workflow for new content items.",
    "feature_priority": "Top",
    "test_date": "2026-01-16T00:00:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "View list of all workflows with usage status",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Settings > Workflow in PersonaBar",
          "expected": "Workflow management panel opens showing list of workflows",
          "actual": "Workflow panel opened successfully showing workflows list with columns: WORKFLOW TYPE, IN USE, ACTIONS, DEFAULT",
          "screenshot": "Workflow_Management_step01_workflow_list.png"
        },
        {
          "step_number": 2,
          "action": "Verify workflow list displays usage status",
          "expected": "Each workflow shows whether it is in use",
          "actual": "Workflows display 'This workflow is currently in use' indicator with 'View Usage' link for workflows that are in use (Direct Publish, Save Draft, Content Approval, Test Approval Workflow)",
          "screenshot": "Workflow_Management_step01_available_workflows.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Create new workflow with unique name",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click 'Create New Workflow' button",
          "expected": "New workflow form opens",
          "actual": "New workflow form opened with empty name and description fields",
          "screenshot": "Workflow_Management_step02_create_form_open.png"
        },
        {
          "step_number": 2,
          "action": "Enter unique workflow name 'Test Workflow Created' and save",
          "expected": "Workflow is created successfully",
          "actual": "Workflow created successfully and appears in the workflow list",
          "screenshot": "Workflow_Management_step03_workflow_created.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Create workflow with duplicate name - verify error",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to create workflow with existing name 'Direct Publish'",
          "expected": "Error message displayed indicating duplicate name",
          "actual": "Entered 'Direct Publish' in the new workflow name field",
          "screenshot": "Workflow_Management_step05_duplicate_name_attempt.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Server returns error about duplicate workflow name",
          "actual": "Server returned 422 Unprocessable Entity with error message: 'A workflow with this name already exists.'",
          "screenshot": "Workflow_Management_step06_duplicate_name_error.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Edit workflow name and description",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Select existing workflow 'QA Test Workflow' and click Edit",
          "expected": "Edit form opens with current values",
          "actual": "Workflow expanded showing edit form with current name and description",
          "screenshot": "Workflow_Management_step07_before_edit.png"
        },
        {
          "step_number": 2,
          "action": "Change name to 'QA Test Workflow Edited' and add description",
          "expected": "Form accepts new values",
          "actual": "Changed name to 'QA Test Workflow Edited' and description to 'Edited description - Testing workflow edit functionality on 2026-01-16.'",
          "screenshot": "Workflow_Management_step08_edit_values_entered.png"
        },
        {
          "step_number": 3,
          "action": "Click Save",
          "expected": "Changes saved successfully",
          "actual": "Workflow updated successfully, new name and description now displayed in the list",
          "screenshot": "Workflow_Management_step09_edit_saved.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Delete workflow not in use",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Select workflow 'NewWorkflow' that is not in use",
          "expected": "Delete button available for unused workflow",
          "actual": "Workflow 'NewWorkflow' found with Delete (X) button visible in ACTIONS column",
          "screenshot": "Workflow_Management_step10_before_delete.png"
        },
        {
          "step_number": 2,
          "action": "Click Delete button",
          "expected": "Confirmation dialog appears",
          "actual": "Confirmation dialog appeared: 'Are you sure you want to delete this Workflow?'",
          "screenshot": "Workflow_Management_step11_delete_confirmation.png"
        },
        {
          "step_number": 3,
          "action": "Confirm deletion",
          "expected": "Workflow deleted successfully",
          "actual": "Workflow 'NewWorkflow' deleted and removed from the list",
          "screenshot": "Workflow_Management_step12_delete_success.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Attempt to delete workflow in use - verify error",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to find delete button for workflows in use (Direct Publish, Save Draft, Content Approval, Test Approval Workflow)",
          "expected": "Delete button not available or deletion prevented for workflows in use",
          "actual": "UI prevents deletion by not showing delete button (X) for workflows that are currently in use. Only Edit button (pencil icon) is shown in ACTIONS column for in-use workflows.",
          "screenshot": "Workflow_Management_step13_no_delete_for_inuse.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Set workflow as default for new pages",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "View DEFAULT column radio buttons",
          "expected": "Radio buttons available to select default workflow",
          "actual": "DEFAULT column shows radio buttons for each workflow, 'Test Approval Workflow' was initially selected as default",
          "screenshot": "Workflow_Management_step14_default_workflow_view.png"
        },
        {
          "step_number": 2,
          "action": "Click radio button for 'Content Approval' to set as default",
          "expected": "Content Approval becomes the new default workflow",
          "actual": "Successfully changed default workflow to 'Content Approval' - radio button now filled/selected",
          "screenshot": "Workflow_Management_step15_after_default_change.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify default workflow selection persists",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate away from Workflow page to Dashboard",
          "expected": "Navigation successful",
          "actual": "Navigated to Dashboard panel",
          "screenshot": "Workflow_Management_step12_default_persisted.png"
        },
        {
          "step_number": 2,
          "action": "Navigate back to Settings > Workflow",
          "expected": "Default workflow selection still shows 'Content Approval'",
          "actual": "'Content Approval' still selected as default (filled radio button in DEFAULT column)",
          "screenshot": "Workflow_Management_step12_default_persisted.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Edge case - Empty workflow name validation",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Create new workflow and clear the name field",
          "expected": "Validation error displayed, Save button disabled",
          "actual": "Error message 'This field is required.' displayed with red tooltip, Save button disabled",
          "screenshot": "Workflow_Management_step13_empty_name_validation.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Edge case - Minimum length validation",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter workflow name with only 2 characters 'AB' (minimum is 3)",
          "expected": "Validation error displayed, Save button disabled",
          "actual": "Save button correctly disabled preventing save of invalid data. Note: Error message UI did not update to show minLength error, still showed 'This field is required.'",
          "screenshot": "Workflow_Management_step14_min_length_validation.png"
        }
      ],
      "issues": ["Error message does not update to show specific validation error (shows 'This field is required.' instead of min length message), but validation correctly prevents saving"]
    },
    {
      "scenario_name": "Edge case - Maximum length validation",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter workflow name exceeding 40 characters maximum",
          "expected": "Validation error displayed, Save button disabled",
          "actual": "Save button correctly disabled preventing save of data exceeding max length. Note: Error message UI did not update to show maxLength error.",
          "screenshot": "Workflow_Management_step15_max_length_validation.png"
        }
      ],
      "issues": ["Error message does not update to show specific validation error for max length, but validation correctly prevents saving"]
    },
    {
      "scenario_name": "Edge case - Special characters in workflow name",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Verify existing workflow with special characters",
          "expected": "Special characters handled correctly",
          "actual": "Workflow 'Test <Special> & \"Chars\"' exists and displays correctly in the workflow list, confirming special characters are supported",
          "screenshot": "Workflow_Management_step01_workflow_list.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "WorkflowController.cs in Components folder is an empty class - all business logic is implemented in WorkflowsController.cs (Services layer)",
    "Client-side validation uses Knockout.js with rules: WorkflowName (required, minLength: 3, maxLength: 40), Description (maxLength: 255)",
    "Error message tooltip does not dynamically update to show specific validation errors (minLength, maxLength) - it continues to show 'This field is required.' However, the Save button correctly becomes disabled when any validation rule is violated, preventing invalid data submission",
    "UI prevents deletion of in-use workflows by hiding the Delete button rather than showing an error after clicking",
    "Server-side validation for duplicate workflow names returns HTTP 422 with WorkflowNameAlreadyExistsException message",
    "Default workflow setting uses TabWorkflowSettings.Instance.SetDefaultTabWorkflowId() and persists correctly across navigation"
  ],
  "summary": {
    "total_scenarios": 12,
    "passed": 12,
    "failed": 0,
    "pass_rate": "100%"
  }
}
