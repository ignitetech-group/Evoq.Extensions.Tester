{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.Workflow",
    "extension_type": "PersonaBar Module",
    "feature_name": "Workflow Management",
    "feature_description": "Create, edit, delete content workflows and set the default workflow for new content items.",
    "feature_priority": "Top",
    "test_date": "2026-02-09T12:00:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "View list of all workflows with usage status",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Settings > Workflow",
          "expected": "Workflow list should be displayed with all workflows",
          "actual": "Workflow list displayed showing Direct Publish, Save Draft, Content Approval, and Test Workflow",
          "screenshot": "Workflow Management_step01_workflow_list.png"
        },
        {
          "step_number": 2,
          "action": "Expand workflow to see details",
          "expected": "Workflow details including states and usage status should appear",
          "actual": "Workflow details shown with IN USE checkmarks for workflows in use and View Usage link",
          "screenshot": "Workflow Management_step02_workflow_details.png"
        },
        {
          "step_number": 3,
          "action": "Click View Usage link",
          "expected": "Usage details should be displayed",
          "actual": "View Usage expands to show content items using the workflow",
          "screenshot": "Workflow Management_step03_view_usage.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Create new workflow with unique name",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Create New Workflow button",
          "expected": "New workflow form should appear",
          "actual": "New workflow form displayed with Name and Description fields",
          "screenshot": "Workflow Management_step04_create_new_workflow.png"
        },
        {
          "step_number": 2,
          "action": "Enter unique workflow name 'Unique Test Workflow 2026'",
          "expected": "Name should be accepted",
          "actual": "Name entered successfully, form ready for save",
          "screenshot": "Workflow Management_step07_create_new_filled.png"
        },
        {
          "step_number": 3,
          "action": "Click Save button",
          "expected": "Workflow should be created and appear in list",
          "actual": "Workflow created successfully and appears in the workflow list with default states (Draft, Published)",
          "screenshot": "Workflow Management_step08_workflow_saved.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Create workflow with duplicate name - verify error",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Create New Workflow and enter existing name 'Direct Publish'",
          "expected": "Form should accept the name input",
          "actual": "Name 'Direct Publish' entered in the workflow name field",
          "screenshot": "Workflow Management_step09_duplicate_name_entered.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Error message should appear indicating duplicate name",
          "actual": "Error message displayed: 'A workflow with this name already exists.'",
          "screenshot": "Workflow Management_step10_duplicate_name_error.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Edit workflow name and description",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click on Test Workflow to expand it",
          "expected": "Workflow edit form should be displayed",
          "actual": "Workflow expanded showing name, description, and states with edit fields",
          "screenshot": "Workflow Management_step11_test_workflow_expanded.png"
        },
        {
          "step_number": 2,
          "action": "Modify workflow name and add description",
          "expected": "Fields should accept new values",
          "actual": "Name changed to 'Edited Test Workflow' and description added",
          "screenshot": "Workflow Management_step12_edit_workflow.png"
        },
        {
          "step_number": 3,
          "action": "Click Save button",
          "expected": "Changes should be saved",
          "actual": "Workflow saved successfully, changes persisted",
          "screenshot": "Workflow Management_step13_edit_saved.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Delete workflow not in use",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Look for delete button on workflow not in use",
          "expected": "Delete button should be available for workflows not in use",
          "actual": "No delete button found in the UI. The ACTIONS column in the workflow list is empty for all workflows. Only workflow states have Edit/Delete actions.",
          "screenshot": "Workflow Management_step14_workflow_list_overview.png"
        }
      ],
      "issues": ["Delete workflow functionality exists in the API (WorkflowsController.cs:184-211) but there is no UI button to trigger it. Users cannot delete workflows through the UI."]
    },
    {
      "scenario_name": "Attempt to delete workflow in use - verify error",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to delete workflow that is in use",
          "expected": "System should prevent deletion and show error",
          "actual": "Cannot test this scenario because there is no delete button in the UI for workflows",
          "screenshot": "Workflow Management_step14_workflow_list_overview.png"
        }
      ],
      "issues": ["Delete workflow functionality is not exposed in the UI, so cannot test error handling for deleting in-use workflows"]
    },
    {
      "scenario_name": "Set workflow as default for new pages",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "View workflow list with DEFAULT column",
          "expected": "Radio buttons in DEFAULT column should show current default",
          "actual": "DEFAULT column displays radio buttons, Direct Publish was initially selected as default",
          "screenshot": "Workflow Management_step18_workflow_list_for_default.png"
        },
        {
          "step_number": 2,
          "action": "Click radio button for 'Save Draft' workflow",
          "expected": "Save Draft should become the default workflow",
          "actual": "Save Draft is now selected as default (filled blue radio button)",
          "screenshot": "Workflow Management_step20_save_draft_default.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify default workflow selection persists",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate away from Workflow page and return",
          "expected": "Default workflow selection should persist",
          "actual": "After navigating to Site Settings and back to Workflow, Save Draft is still selected as default",
          "screenshot": "Workflow Management_step21_persistence_check.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Validate empty workflow name - required field",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Create new workflow with empty name field",
          "expected": "Validation error should appear, Save button should be disabled",
          "actual": "Validation error displayed: 'This field is required.' Save button is disabled.",
          "screenshot": "Workflow Management_step22_empty_name_validation.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Validate workflow name maximum length",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter workflow name exceeding 40 characters",
          "expected": "Validation error should appear for maximum length",
          "actual": "Validation error displayed: 'Please enter no more than 40 characters.' Save button disabled.",
          "screenshot": "Workflow Management_step24_max_length_validation.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Create workflow with special characters in name",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter workflow name with special characters: 'Test & <> \"Special\" Chars!'",
          "expected": "Special characters should be accepted",
          "actual": "Name with &, <, >, and quotes accepted, Save button enabled",
          "screenshot": "Workflow Management_step25_special_chars_valid.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Workflow should be created with special characters intact",
          "actual": "Workflow created successfully, name displayed correctly with all special characters preserved",
          "screenshot": "Workflow Management_step26_special_chars_saved.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "Delete workflow functionality exists in the API (WorkflowsController.cs Delete method, lines 184-211) but there is no UI element to trigger it. The ACTIONS column in the workflow list only shows actions for workflow states, not for entire workflows.",
    "The API handles WorkflowException for delete operations on in-use workflows, but this cannot be tested via UI since delete is not exposed.",
    "System workflows may be protected from deletion based on IsSystem property, but this also cannot be verified via UI.",
    "Workflow name has a maximum length validation of 40 characters.",
    "XSS-style script tags in workflow names are accepted and stored (no sanitization warning), though they appear to be rendered safely without executing."
  ],
  "summary": {
    "total_scenarios": 11,
    "passed": 9,
    "failed": 2,
    "pass_rate": "82%"
  }
}
