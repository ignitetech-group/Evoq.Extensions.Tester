<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module Settings - Test Report</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #0078d4;
            padding-bottom: 10px;
        }
        h2 {
            color: #444;
            margin-top: 30px;
        }
        .feature-info {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .feature-info p {
            margin: 5px 0;
        }
        .test-scenario {
            border: 1px solid #ddd;
            margin: 20px 0;
            border-radius: 5px;
            overflow: hidden;
        }
        .test-header {
            background: #f8f9fa;
            padding: 15px;
            border-bottom: 1px solid #ddd;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .test-header h3 {
            margin: 0;
            color: #333;
        }
        .status {
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 12px;
        }
        .status.pass {
            background: #d4edda;
            color: #155724;
        }
        .status.fail {
            background: #f8d7da;
            color: #721c24;
        }
        .test-content {
            padding: 15px;
        }
        .test-steps {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .test-steps ol {
            margin: 0;
            padding-left: 20px;
        }
        .test-steps li {
            margin: 8px 0;
        }
        .screenshots {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 15px;
        }
        .screenshot {
            text-align: center;
        }
        .screenshot img {
            max-width: 400px;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .screenshot img:hover {
            transform: scale(1.02);
        }
        .screenshot p {
            margin: 5px 0 0 0;
            font-size: 12px;
            color: #666;
        }
        .observations {
            background: #fff3cd;
            padding: 15px;
            border-radius: 5px;
            margin-top: 30px;
            border-left: 4px solid #ffc107;
        }
        .observations h2 {
            margin-top: 0;
            color: #856404;
        }
        .observations ul {
            margin: 0;
            padding-left: 20px;
        }
        .observations li {
            margin: 8px 0;
        }
        .summary {
            background: #d4edda;
            padding: 20px;
            border-radius: 5px;
            margin-top: 30px;
        }
        .summary h2 {
            margin-top: 0;
            color: #155724;
        }
        .summary-stats {
            display: flex;
            gap: 30px;
        }
        .stat {
            text-align: center;
        }
        .stat-number {
            font-size: 36px;
            font-weight: bold;
            color: #155724;
        }
        .stat-label {
            font-size: 14px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Module Settings - Test Report</h1>

        <div class="feature-info">
            <p><strong>Extension:</strong> Evoq.Social.ActivityStream (Module)</p>
            <p><strong>Feature:</strong> Module Settings</p>
            <p><strong>Description:</strong> Configure activity stream module settings and behavior</p>
            <p><strong>Priority:</strong> Medium</p>
            <p><strong>UI Location:</strong> Admin > Activity Stream Module > Settings</p>
            <p><strong>Test Date:</strong> January 6, 2026</p>
        </div>

        <h2>Test Scenarios</h2>

        <!-- Test 1: Enable/disable file uploads -->
        <div class="test-scenario">
            <div class="test-header">
                <h3>1. Enable/disable file uploads</h3>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-content">
                <p><strong>Objective:</strong> Verify that the Enable File Attachments checkbox can be toggled and the setting is saved.</p>
                <div class="test-steps">
                    <ol>
                        <li>Navigate to Activity Stream module settings (Module ID 375)</li>
                        <li>Click on the "Activity Stream" tab</li>
                        <li>Locate the "Enable File Attachments" checkbox (initially checked)</li>
                        <li>Uncheck the checkbox</li>
                        <li>Click Update to save settings</li>
                    </ol>
                </div>
                <p><strong>Result:</strong> The checkbox was successfully toggled from checked to unchecked. The setting was saved and persisted after page reload.</p>
                <div class="screenshots">
                    <div class="screenshot">
                        <img src="Module_Settings_step03_activity_stream_settings.png" alt="Initial settings" onclick="window.open(this.src)">
                        <p>Initial settings (file attachments enabled)</p>
                    </div>
                    <div class="screenshot">
                        <img src="Module_Settings_step04_file_attachments_disabled.png" alt="File attachments disabled" onclick="window.open(this.src)">
                        <p>File attachments disabled</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Test 2: Enable/disable photo uploads -->
        <div class="test-scenario">
            <div class="test-header">
                <h3>2. Enable/disable photo uploads</h3>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-content">
                <p><strong>Objective:</strong> Verify that the Enable Photo Attachments checkbox can be toggled and the setting is saved.</p>
                <div class="test-steps">
                    <ol>
                        <li>Navigate to Activity Stream module settings</li>
                        <li>Click on the "Activity Stream" tab</li>
                        <li>Locate the "Enable Photo Attachments" checkbox (initially checked)</li>
                        <li>Uncheck the checkbox</li>
                        <li>Click Update to save settings</li>
                    </ol>
                </div>
                <p><strong>Result:</strong> The checkbox was successfully toggled from checked to unchecked. The setting was saved and persisted.</p>
                <div class="screenshots">
                    <div class="screenshot">
                        <img src="Module_Settings_step05_settings_changed.png" alt="Photo attachments disabled" onclick="window.open(this.src)">
                        <p>Both file and photo attachments disabled</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Test 3: Enable/disable emoji panel -->
        <div class="test-scenario">
            <div class="test-header">
                <h3>3. Enable/disable emoji panel</h3>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-content">
                <p><strong>Objective:</strong> Verify that the emoji panel setting can be configured.</p>
                <div class="test-steps">
                    <ol>
                        <li>Navigate to Activity Stream module settings</li>
                        <li>Search for emoji panel setting in the Activity Stream tab</li>
                        <li>Verify presence of emoji configuration option</li>
                    </ol>
                </div>
                <p><strong>Result:</strong> No explicit "Enable Emoji Panel" setting was found in the module settings. However, the emoji functionality is controlled by the "Enable Activity Stream Editor" checkbox - when the editor is enabled, emoji support is included. See Observations section for details.</p>
            </div>
        </div>

        <!-- Test 4: Configure maximum comment length -->
        <div class="test-scenario">
            <div class="test-header">
                <h3>4. Configure maximum comment length</h3>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-content">
                <p><strong>Objective:</strong> Verify that the Maximum Characters per message setting can be changed.</p>
                <div class="test-steps">
                    <ol>
                        <li>Navigate to Activity Stream module settings</li>
                        <li>Click on the "Activity Stream" tab</li>
                        <li>Locate the "Maximum Characters per message" dropdown (initially 250)</li>
                        <li>Change the value to 500</li>
                        <li>Click Update to save settings</li>
                    </ol>
                </div>
                <p><strong>Result:</strong> The dropdown selection was successfully changed from 250 to 500 characters. Available options: 140, 250, 500, 1000, 2000.</p>
                <div class="screenshots">
                    <div class="screenshot">
                        <img src="Module_Settings_step05_settings_changed.png" alt="Max characters changed" onclick="window.open(this.src)">
                        <p>Maximum characters set to 500</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Test 5: Configure activity stream filters -->
        <div class="test-scenario">
            <div class="test-header">
                <h3>5. Configure activity stream filters</h3>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-content">
                <p><strong>Objective:</strong> Verify that activity type filters can be enabled/disabled.</p>
                <div class="test-steps">
                    <ol>
                        <li>Navigate to Activity Stream module settings</li>
                        <li>Click on the "Activity Stream" tab</li>
                        <li>Scroll down to the "Activity Types" checkboxes</li>
                        <li>Uncheck the "Links" filter</li>
                        <li>Click Update to save settings</li>
                    </ol>
                </div>
                <p><strong>Result:</strong> The "Links" activity type was successfully unchecked. After saving, the filter dropdown on the Activity Feed page no longer shows "Links" as an option, confirming the setting took effect.</p>
                <div class="screenshots">
                    <div class="screenshot">
                        <img src="Module_Settings_step05_settings_changed.png" alt="Links filter disabled" onclick="window.open(this.src)">
                        <p>Links filter unchecked in settings</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Test 6: Save and apply settings -->
        <div class="test-scenario">
            <div class="test-header">
                <h3>6. Save and apply settings</h3>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-content">
                <p><strong>Objective:</strong> Verify that settings are saved when clicking the Update button.</p>
                <div class="test-steps">
                    <ol>
                        <li>Make changes to multiple settings (file attachments, photo attachments, max characters, filters)</li>
                        <li>Click the "Update" button at the bottom of the settings page</li>
                        <li>Verify the page redirects to the Activity Feed page</li>
                    </ol>
                </div>
                <p><strong>Result:</strong> Clicking Update successfully saved all changes and redirected to the Activity Feed page.</p>
                <div class="screenshots">
                    <div class="screenshot">
                        <img src="Module_Settings_step06_settings_saved.png" alt="Settings saved" onclick="window.open(this.src)">
                        <p>Redirected to Activity Feed after save</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Test 7: Verify settings persistence -->
        <div class="test-scenario">
            <div class="test-header">
                <h3>7. Verify settings persistence</h3>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-content">
                <p><strong>Objective:</strong> Verify that saved settings persist after navigating away and returning.</p>
                <div class="test-steps">
                    <ol>
                        <li>After saving settings, navigate back to the module settings page</li>
                        <li>Verify that all previously changed settings retain their values</li>
                    </ol>
                </div>
                <p><strong>Result:</strong> All settings persisted correctly:
                    <ul>
                        <li>Enable File Attachments: remains unchecked</li>
                        <li>Enable Photo Attachments: remains unchecked</li>
                        <li>Maximum Characters per message: remains at 500</li>
                        <li>Links activity type: remains unchecked</li>
                    </ul>
                </p>
                <div class="screenshots">
                    <div class="screenshot">
                        <img src="Module_Settings_step07_persistence_verified.png" alt="Persistence verified" onclick="window.open(this.src)">
                        <p>Settings persisted after page reload</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Test 8: Test settings inheritance -->
        <div class="test-scenario">
            <div class="test-header">
                <h3>8. Test settings inheritance</h3>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-content">
                <p><strong>Objective:</strong> Verify that module settings are applied to the Activity Stream display.</p>
                <div class="test-steps">
                    <ol>
                        <li>Configure settings (disable Links filter)</li>
                        <li>Navigate to Activity Feed page</li>
                        <li>Verify the filter dropdown reflects the settings</li>
                    </ol>
                </div>
                <p><strong>Result:</strong> After disabling the "Links" activity type in settings, the Activity Feed filter dropdown no longer shows "Links" as a filterable option, confirming settings inheritance works correctly.</p>
            </div>
        </div>

        <!-- Observations Section -->
        <div class="observations">
            <h2>Observations</h2>
            <ul>
                <li><strong>Emoji Panel Setting:</strong> No explicit "Enable Emoji Panel" setting was found in the module settings UI. The code review (Settings.ascx) confirms there is no separate emoji panel configuration. Emoji support appears to be built into the Activity Stream editor when "Enable Activity Stream Editor" is enabled.</li>
                <li><strong>Settings Available:</strong> The Activity Stream tab in module settings provides these configurable options:
                    <ul>
                        <li>Enable Activity Stream Editor (controls the post editor)</li>
                        <li>Enable File Attachments</li>
                        <li>Enable Photo Attachments</li>
                        <li>Max Files Per Journal (1-10)</li>
                        <li>Enable View Filters</li>
                        <li>Enable Grouping of Posts</li>
                        <li>Default Page Size (5-100)</li>
                        <li>Maximum Characters per message (140-2000)</li>
                        <li>Activity Types (36 filter checkboxes)</li>
                    </ul>
                </li>
                <li><strong>Custom Checkboxes:</strong> DNN uses custom styled checkboxes with an img overlay, which requires clicking on the img element rather than the checkbox input directly.</li>
            </ul>
        </div>

        <!-- Summary -->
        <div class="summary">
            <h2>Test Summary</h2>
            <div class="summary-stats">
                <div class="stat">
                    <div class="stat-number">8</div>
                    <div class="stat-label">Total Tests</div>
                </div>
                <div class="stat">
                    <div class="stat-number">8</div>
                    <div class="stat-label">Passed</div>
                </div>
                <div class="stat">
                    <div class="stat-number">0</div>
                    <div class="stat-label">Failed</div>
                </div>
            </div>
            <p style="margin-top: 15px;"><strong>Overall Result:</strong> All module settings tests passed. The Activity Stream module settings functionality works as expected, allowing administrators to configure file/photo attachments, message length limits, activity type filters, and other module behaviors.</p>
        </div>
    </div>
</body>
</html>
