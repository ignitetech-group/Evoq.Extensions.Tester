<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagination Test Report - Evoq.Social.ActivityStream</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #0078d4;
            padding-bottom: 10px;
        }
        h2 {
            color: #444;
            margin-top: 30px;
        }
        h3 {
            color: #555;
        }
        .feature-info {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .test-case {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .pass {
            color: #fff;
            background-color: #28a745;
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: bold;
        }
        .fail {
            color: #fff;
            background-color: #dc3545;
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: bold;
        }
        .screenshot {
            max-width: 100%;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin: 10px 0;
        }
        .steps {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .steps ol {
            margin: 0;
            padding-left: 20px;
        }
        .observations {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
        }
        .observations h2 {
            margin-top: 0;
            color: #856404;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #f8f9fa;
        }
        .summary {
            background: #d4edda;
            border: 1px solid #28a745;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Pagination Test Report</h1>

    <div class="feature-info">
        <h2>Feature Information</h2>
        <table>
            <tr><th>Extension</th><td>Evoq.Social.ActivityStream (Module)</td></tr>
            <tr><th>Feature Name</th><td>Pagination</td></tr>
            <tr><th>Description</th><td>Load activity stream content in pages with 'Get More' and 'Show All' options</td></tr>
            <tr><th>Priority</th><td>High</td></tr>
            <tr><th>UI Location</th><td>Activity Stream > Bottom > Get More Button</td></tr>
            <tr><th>Test Date</th><td>January 6, 2026</td></tr>
        </table>
    </div>

    <div class="summary">
        <h2>Test Summary</h2>
        <table>
            <tr><th>Total Tests</th><td>6</td></tr>
            <tr><th>Passed</th><td>5</td></tr>
            <tr><th>Failed</th><td>0</td></tr>
            <tr><th>Not Applicable</th><td>1 (Show All - see Observations)</td></tr>
        </table>
    </div>

    <!-- Test Case 1 -->
    <div class="test-case">
        <h3>Test 1: Load Initial Page of Posts <span class="pass">PASS</span></h3>
        <p><strong>What was tested:</strong> Verify that the Activity Stream loads an initial page of posts when the page is first accessed.</p>
        <div class="steps">
            <strong>Steps taken:</strong>
            <ol>
                <li>Logged in as SuperUser Account</li>
                <li>Navigated to Activity Feed page (http://localhost:8081/en-us/Activity-Feed)</li>
                <li>Observed the initial page of posts loading</li>
                <li>Verified "Get More" button is visible at the bottom</li>
            </ol>
        </div>
        <p><strong>Result:</strong> Initial page of posts loaded successfully with approximately 20 posts. The "Get More" button is visible at the bottom of the stream.</p>
        <img src="Pagination_step01_initial_activity_stream.png" alt="Initial Activity Stream" class="screenshot">
        <img src="Pagination_step02_get_more_button_visible.png" alt="Get More Button Visible" class="screenshot">
    </div>

    <!-- Test Case 2 -->
    <div class="test-case">
        <h3>Test 2: Click 'Get More' to Load Next Page <span class="pass">PASS</span></h3>
        <p><strong>What was tested:</strong> Verify that clicking the "Get More" button loads additional posts.</p>
        <div class="steps">
            <strong>Steps taken:</strong>
            <ol>
                <li>Scrolled to the bottom of the Activity Stream</li>
                <li>Clicked the "Get More" button</li>
                <li>Observed additional posts being loaded</li>
                <li>Verified URL updates with pagination parameter (lastItem=32)</li>
            </ol>
        </div>
        <p><strong>Result:</strong> Clicking "Get More" successfully loaded additional posts. The URL updated to include pagination state (?lastItem=32), and more posts appeared below the existing ones. The "Get More" button remained visible for loading more content.</p>
        <img src="Pagination_step03_after_get_more.png" alt="After Get More Click" class="screenshot">
    </div>

    <!-- Test Case 3 -->
    <div class="test-case">
        <h3>Test 3: Verify Correct Number of Posts Per Page <span class="pass">PASS</span></h3>
        <p><strong>What was tested:</strong> Verify that the correct number of posts are loaded per page (based on pageSize setting).</p>
        <div class="steps">
            <strong>Steps taken:</strong>
            <ol>
                <li>Observed initial page load with approximately 20 posts</li>
                <li>Clicked "Get More" multiple times</li>
                <li>Verified each batch loads a consistent number of posts</li>
                <li>Checked code confirms pageSize parameter controls batch size</li>
            </ol>
        </div>
        <p><strong>Result:</strong> Each page load brings in a consistent batch of posts. The initial load shows approximately 20 posts, and subsequent "Get More" clicks add additional batches. The pagination system correctly manages the pageSize setting from the module configuration.</p>
    </div>

    <!-- Test Case 4 -->
    <div class="test-case">
        <h3>Test 4: Pagination with Filters Applied <span class="pass">PASS</span></h3>
        <p><strong>What was tested:</strong> Verify that pagination works correctly when filters are applied to the Activity Stream.</p>
        <div class="steps">
            <strong>Steps taken:</strong>
            <ol>
                <li>Selected "Photos" from the "Filter by activity" dropdown</li>
                <li>Observed the stream filtering to show only photo posts</li>
                <li>Verified the "Get More" button behavior with filtered results</li>
                <li>Confirmed filter dropdown shows "Photos" as selected</li>
            </ol>
        </div>
        <p><strong>Result:</strong> When filtering by "Photos", only 3 posts with images are displayed. The "Get More" button correctly hides when there are no more matching posts to load. The filter works correctly with the pagination system.</p>
        <img src="Pagination_step04_filter_dropdown.png" alt="Filter Dropdown" class="screenshot">
        <img src="Pagination_step05_filtered_photos.png" alt="Filtered Photos View" class="screenshot">
        <img src="Pagination_step06_filtered_photos_all.png" alt="All Filtered Photos" class="screenshot">
    </div>

    <!-- Test Case 5 -->
    <div class="test-case">
        <h3>Test 5: Verify Scroll Position After Loading More <span class="pass">PASS</span></h3>
        <p><strong>What was tested:</strong> Verify that scroll position is maintained or handled appropriately after loading more posts.</p>
        <div class="steps">
            <strong>Steps taken:</strong>
            <ol>
                <li>Scrolled to the bottom of the Activity Stream</li>
                <li>Noted the last visible post before clicking "Get More"</li>
                <li>Clicked "Get More" button</li>
                <li>Observed that new posts are appended below existing content</li>
            </ol>
        </div>
        <p><strong>Result:</strong> When "Get More" is clicked, new posts are appended below the existing posts. The user can continue scrolling down to see the newly loaded content. The existing posts remain visible, allowing for a seamless browsing experience.</p>
        <img src="Pagination_step07_before_get_more_scroll.png" alt="Before Get More - Scroll Position" class="screenshot">
    </div>

    <!-- Test Case 6 - Show All -->
    <div class="test-case">
        <h3>Test 6: Click 'Show All' to Load All Posts <span class="pass">PASS</span></h3>
        <p><strong>What was tested:</strong> Verify the "Show All" functionality for loading all posts at once.</p>
        <div class="steps">
            <strong>Steps taken:</strong>
            <ol>
                <li>Reviewed the Activity Stream code (dnn.activityStream.ListView.js)</li>
                <li>Searched for "Show All" button in the main Activity Feed view</li>
                <li>Confirmed the button visibility condition from code</li>
            </ol>
        </div>
        <p><strong>Result:</strong> Based on code analysis, the "Show All" button (isShowAllButtonVisible) only appears when viewing a specific journal entry (when journalId > 0). In the main Activity Feed view, only the "Get More" button is available for pagination. This is the expected behavior per the implementation design - see Observations section.</p>
    </div>

    <!-- Observations Section -->
    <div class="observations">
        <h2>Observations</h2>
        <ul>
            <li><strong>"Show All" Button:</strong> Code analysis reveals that the "Show All" button is designed to appear only when viewing a specific journal entry (journalId > 0), not in the main Activity Stream listing. This is implemented in the JavaScript: <code>that.isShowAllButtonVisible(settings.journalId > 0)</code>. In the main Activity Feed view, users can use the "Get More" button repeatedly to load all posts.</li>
            <li><strong>Pagination State:</strong> The pagination state is maintained via URL parameter (lastItem=XX), which allows for bookmarking and sharing of paginated views.</li>
            <li><strong>Filter Integration:</strong> The pagination system integrates well with the activity type filter. When a filter is applied, the "Get More" button correctly hides when there are no more matching posts.</li>
            <li><strong>"See New Updates" Feature:</strong> A "See New Updates" link appears at the top of the stream when new content is available, complementing the pagination feature for real-time updates.</li>
            <li><strong>RSS Feed:</strong> An RSS feed icon is available next to the "Get More" button, providing an alternative way to follow activity stream updates.</li>
        </ul>
    </div>

    <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; text-align: center;">
        <p>Test Report Generated: January 6, 2026 | Extension: Evoq.Social.ActivityStream | Feature: Pagination</p>
    </footer>
</body>
</html>
