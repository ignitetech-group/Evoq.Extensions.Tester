{
  "metadata": {
    "extension_name": "Evoq.Social.ActivityStream",
    "extension_type": "Module",
    "feature_name": "URL Preview",
    "feature_description": "Automatically generate rich previews for URLs shared in posts",
    "feature_priority": "High",
    "test_date": "2026-02-09T16:27:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Preview valid URL",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Community page with Activity Stream",
          "expected": "Activity Stream post creation area is visible",
          "actual": "Activity Stream post creation area with 'Tell the world something...' placeholder is visible",
          "screenshot": "URL Preview_step00_login_and_activity_stream.png"
        },
        {
          "step_number": 2,
          "action": "Click on post area to activate it",
          "expected": "Post area expands with Share button and icons",
          "actual": "Post area expanded with Share button and attachment icons visible",
          "screenshot": "URL Preview_step01_post_area_clicked.png"
        },
        {
          "step_number": 3,
          "action": "Type a valid URL (https://www.wikipedia.org) in the post area",
          "expected": "URL preview card appears with title, description, and image",
          "actual": "URL preview appeared showing 'Wikipedia, the free encyclopedia' title, description about Wikipedia being a free online encyclopedia, and Wikipedia logo image",
          "screenshot": "URL Preview_step03_wikipedia_preview_visible.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Preview multiple URLs in single post",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Type text with two different URLs: https://www.wikipedia.org and https://www.example.com",
          "expected": "System handles multiple URLs appropriately",
          "actual": "System shows preview for the first URL only (Wikipedia). This is expected behavior - the URL preview system processes and displays only the first detected URL",
          "screenshot": "URL Preview_step04_multiple_urls_first_shown.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Preview invalid URL",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Type an invalid/non-existent URL (https://thisdoesnotexist12345.com)",
          "expected": "System handles the invalid URL gracefully without errors",
          "actual": "No preview is displayed for the invalid URL. The system gracefully handles the unreachable URL by simply not showing a preview card",
          "screenshot": "URL Preview_step05_invalid_url_no_preview.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Preview URL with no metadata",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Type URL to a site with minimal metadata (https://example.com)",
          "expected": "Preview shows whatever metadata is available",
          "actual": "Preview displayed with just the page title 'Example Domain'. No description or image shown since example.com has minimal metadata. The system extracted the title from the HTML title tag",
          "screenshot": "URL Preview_step06_minimal_metadata.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Preview URL with images",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Type URL to a site with OG:image metadata (https://www.wikipedia.org)",
          "expected": "Preview shows the image from the URL's OG:image metadata",
          "actual": "Preview displayed with Wikipedia logo image extracted from OG:image meta tag, along with title and description",
          "screenshot": "URL Preview_step03_wikipedia_preview_visible.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Remove URL preview before posting",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Type a URL that generates a preview",
          "expected": "URL preview card appears with close button",
          "actual": "Wikipedia URL preview appeared with close (X) button visible in top-right corner",
          "screenshot": "URL Preview_step07_before_remove_preview.png"
        },
        {
          "step_number": 2,
          "action": "Click the close button on the URL preview",
          "expected": "URL preview is removed while post text remains",
          "actual": "URL preview card was removed. The post text 'Check out https://www.wikipedia.org' remains in the post area but without the preview card",
          "screenshot": "URL Preview_step08_after_remove_preview.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Preview URL from different domains",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Type URL from BBC domain (https://www.bbc.com)",
          "expected": "Preview works for different domain with proper metadata extraction",
          "actual": "Preview displayed correctly showing BBC title 'BBC Home - Breaking News, World News, US News, Sports, Business, Innovation, Climate, Culture, Travel, Video & Audio' and description about trusted reporting",
          "screenshot": "URL Preview_step09_different_domain_bbc.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "The URL Preview feature uses the PreviewURL API endpoint which fetches HTML from the target URL and parses OG meta tags (og:title, og:description, og:image) and standard meta tags",
    "When no OG tags are present, the system falls back to extracting the title from the HTML title tag and tries to get description from the first paragraph with text",
    "The system only generates preview for the first URL found in the post text when multiple URLs are present",
    "External URLs that cannot be fetched (network errors, blocked sites) result in no preview being shown rather than an error message",
    "The URL preview includes a close button allowing users to remove the preview while keeping the URL in the post text",
    "The GitHub URL (https://github.com) returned no metadata, possibly due to anti-scraping protections, while Wikipedia and BBC worked correctly"
  ],
  "summary": {
    "total_scenarios": 7,
    "passed": 7,
    "failed": 0,
    "pass_rate": "100%"
  }
}
