{
  "metadata": {
    "extension_name": "Evoq.Social.ActivityStream",
    "extension_type": "Module",
    "feature_name": "Profanity Filtering",
    "feature_description": "Automatically filter and moderate profane content in posts and comments",
    "feature_priority": "Medium",
    "test_date": "2026-01-16T07:59:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Verify profanity filter settings location",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Settings > Community in Persona Bar",
          "expected": "Community settings panel opens with Profanity Filtering option visible",
          "actual": "Community settings panel opened successfully. Found 'Profanity Filtering' dropdown under 'Miscellaneous Community Settings' with three options: 'Filter Content', 'Prohibit Content', and 'No Filtering'",
          "screenshot": "Profanity_Filtering_step01_settings_found.png"
        },
        {
          "step_number": 2,
          "action": "Scroll to view Profanity Filtering dropdown",
          "expected": "Profanity Filtering dropdown is visible with current setting displayed",
          "actual": "Profanity Filtering dropdown visible showing 'Filter Content' as the default/current setting",
          "screenshot": "Profanity_Filtering_step01b_settings_scrolled.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Post with profane content (Filter Content mode)",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Confirm profanity filter is set to 'Filter Content' mode",
          "expected": "Setting shows 'Filter Content' selected",
          "actual": "Profanity Filtering dropdown shows 'Filter Content' as the selected option",
          "screenshot": "Profanity_Filtering_step01b_settings_scrolled.png"
        },
        {
          "step_number": 2,
          "action": "Enter post with profane words: 'ass - Testing profanity filter with damn word'",
          "expected": "Text is entered in the Activity Stream post input",
          "actual": "Text was successfully entered in the input field",
          "screenshot": "Profanity_Filtering_step02_input_with_profanity.png"
        },
        {
          "step_number": 3,
          "action": "Click Share to submit the post",
          "expected": "Profane words should be filtered/masked (e.g., replaced with asterisks)",
          "actual": "Post was submitted but profane words 'ass' and 'damn' were NOT filtered - they appear exactly as typed in the post",
          "screenshot": "Profanity_Filtering_step03_post_not_filtered.png"
        }
      ],
      "issues": ["Profanity filter is not functioning in 'Filter Content' mode - profane words are not being masked or filtered. The ProfanityFilter word list appears to be empty."]
    },
    {
      "scenario_name": "Test different profanity filter levels (Prohibit Content)",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Change profanity filter setting to 'Prohibit Content' mode",
          "expected": "Setting is changed and saved successfully",
          "actual": "Setting was changed to 'Prohibit Content' and saved successfully with 'Item successfully saved' confirmation",
          "screenshot": "Profanity_Filtering_step04_prohibit_mode_saved.png"
        },
        {
          "step_number": 2,
          "action": "Post with profane content: 'Testing prohibit mode with damn profanity'",
          "expected": "Post should be blocked/rejected with an error message about profanity",
          "actual": "Post was submitted successfully without being blocked - profane word 'damn' was not detected",
          "screenshot": "Profanity_Filtering_step05_prohibit_mode_not_blocking.png"
        }
      ],
      "issues": ["Profanity filter is not functioning in 'Prohibit Content' mode - posts with profane words are not being blocked. The ProfanityFilter word list appears to be empty."]
    }
  ],
  "observations": [
    "Code review confirms profanity filtering logic exists in ActivityStreamServicesController.cs (lines 163-179) with three modes: FilterContent (masks words), ProhibitContent (blocks post), NoFiltering (no action)",
    "The profanity filter uses DNN's PortalSecurity.InputFilter with NoProfanity flag and checks against a 'ProfanityFilter' list in the ListController",
    "ProfanityHelper.cs contains the ContainsProfanity() method that uses PortalSecurity.Instance.Remove() to detect profanity",
    "The profanity filter UI settings are accessible and can be changed, but the actual filtering does not work",
    "The most likely cause is that the 'ProfanityFilter' list in DNN's ListController is empty - no profanity words have been configured",
    "No UI was found in Persona Bar to configure the profanity word list itself - this would typically be done through Admin > Lists in older DNN versions or via direct database configuration",
    "Test scenario 'Configure profanity word list' could not be tested via UI as no configuration interface was found in the accessible admin areas"
  ],
  "summary": {
    "total_scenarios": 3,
    "passed": 1,
    "failed": 2,
    "pass_rate": "33%"
  }
}
