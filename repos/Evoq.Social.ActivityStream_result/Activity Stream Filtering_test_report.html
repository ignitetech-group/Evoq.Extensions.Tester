<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activity Stream Filtering - Test Report</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #0078d4;
            padding-bottom: 10px;
        }
        h2 {
            color: #444;
            margin-top: 30px;
        }
        h3 {
            color: #555;
            margin-top: 20px;
        }
        .feature-info {
            background-color: #e7f3ff;
            border-left: 4px solid #0078d4;
            padding: 15px;
            margin-bottom: 20px;
        }
        .test-case {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .pass {
            color: #107c10;
            font-weight: bold;
            background-color: #dff6dd;
            padding: 5px 15px;
            border-radius: 4px;
            display: inline-block;
        }
        .fail {
            color: #d13438;
            font-weight: bold;
            background-color: #fde7e9;
            padding: 5px 15px;
            border-radius: 4px;
            display: inline-block;
        }
        .steps {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .steps ol {
            margin: 0;
            padding-left: 20px;
        }
        .screenshot {
            max-width: 100%;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin: 10px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .screenshot-container {
            text-align: center;
            margin: 15px 0;
        }
        .screenshot-caption {
            font-style: italic;
            color: #666;
            margin-top: 5px;
        }
        .observations {
            background-color: #fff4ce;
            border-left: 4px solid #ffb900;
            padding: 15px;
            margin-top: 30px;
        }
        .summary {
            background-color: #f0f0f0;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
        }
        .summary-stats {
            display: flex;
            gap: 30px;
            margin-top: 15px;
        }
        .stat {
            text-align: center;
            padding: 15px 25px;
            border-radius: 8px;
        }
        .stat-pass {
            background-color: #dff6dd;
        }
        .stat-fail {
            background-color: #fde7e9;
        }
        .stat-number {
            font-size: 36px;
            font-weight: bold;
        }
        .stat-label {
            font-size: 14px;
            color: #666;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>
    <h1>Activity Stream Filtering - Test Report</h1>

    <div class="feature-info">
        <h2>Feature Information</h2>
        <table>
            <tr><th>Extension</th><td>Evoq.Social.ActivityStream (Module)</td></tr>
            <tr><th>Feature Name</th><td>Activity Stream Filtering</td></tr>
            <tr><th>Description</th><td>Filter activity stream by various criteria and activity types</td></tr>
            <tr><th>Priority</th><td>High</td></tr>
            <tr><th>UI Location</th><td>Activity Stream > Filter Options</td></tr>
            <tr><th>Test Date</th><td>2026-01-06</td></tr>
        </table>
    </div>

    <h2>Test Results Summary</h2>
    <div class="summary">
        <div class="summary-stats">
            <div class="stat stat-pass">
                <div class="stat-number" style="color: #107c10;">7</div>
                <div class="stat-label">PASSED</div>
            </div>
            <div class="stat stat-fail">
                <div class="stat-number" style="color: #d13438;">1</div>
                <div class="stat-label">FAILED</div>
            </div>
        </div>
    </div>

    <h2>Test Cases</h2>

    <!-- Test Case 1: Filter by Activity Type -->
    <div class="test-case">
        <h3>Test 1: Filter by Activity Type</h3>
        <p><strong>Status:</strong> <span class="pass">PASS</span></p>
        <p><strong>Description:</strong> Test filtering the activity stream by different activity types using the dropdown filter.</p>

        <div class="steps">
            <strong>Steps Taken:</strong>
            <ol>
                <li>Navigated to the Community page with Activity Stream</li>
                <li>Located the "Filter by activity" dropdown combobox</li>
                <li>Selected "Photos" filter - stream filtered to show only photo activities</li>
                <li>Selected "Badge" filter - stream filtered to show only badge activities</li>
            </ol>
        </div>

        <p><strong>Result:</strong> The activity stream successfully filters by activity type. When selecting "Photos", only photo-related activities are displayed. When selecting "Badge", only badge-related activities are shown.</p>

        <div class="screenshot-container">
            <img src="Activity_Stream_Filtering_step02_filter_by_photos.png" alt="Filter by Photos" class="screenshot">
            <p class="screenshot-caption">Activity Stream filtered by Photos</p>
        </div>

        <div class="screenshot-container">
            <img src="Activity_Stream_Filtering_step03_filter_by_badge.png" alt="Filter by Badge" class="screenshot">
            <p class="screenshot-caption">Activity Stream filtered by Badge</p>
        </div>
    </div>

    <!-- Test Case 2: Filter by Date Range -->
    <div class="test-case">
        <h3>Test 2: Filter by Date Range</h3>
        <p><strong>Status:</strong> <span class="fail">FAIL</span></p>
        <p><strong>Description:</strong> Test filtering the activity stream by date range.</p>

        <div class="steps">
            <strong>Steps Taken:</strong>
            <ol>
                <li>Examined the Activity Stream filtering UI</li>
                <li>Checked the dropdown filter options</li>
                <li>Opened the "Create New Feed" dialog</li>
                <li>Searched for date range filtering options in the Custom Feed Builder</li>
            </ol>
        </div>

        <p><strong>Result:</strong> Date range filtering is NOT available in the Activity Stream Filtering UI. The filter options include activity types (Posts, Photos, Videos, etc.), Authors, and Groups, but no date-based filtering capability was found.</p>

        <p><strong>Issue:</strong> Feature not implemented in UI. The code files (ActivityFilter.ascx, ActivityFilterBuilder.ascx, ActivityFilterSettings.ascx) do not contain any date range filtering functionality.</p>
    </div>

    <!-- Test Case 3: Filter by User -->
    <div class="test-case">
        <h3>Test 3: Filter by User (Authors)</h3>
        <p><strong>Status:</strong> <span class="pass">PASS</span></p>
        <p><strong>Description:</strong> Test filtering the activity stream by specific users/authors.</p>

        <div class="steps">
            <strong>Steps Taken:</strong>
            <ol>
                <li>Clicked "Create New Feed" link in the Activity Stream Filters section</li>
                <li>The Custom Feed Builder dialog opened</li>
                <li>Located the "Activity Authors" field for filtering by user</li>
                <li>Verified the field accepts user input</li>
            </ol>
        </div>

        <p><strong>Result:</strong> The Custom Feed Builder includes an "Activity Authors" field that allows filtering by specific users. This field supports user selection for creating author-specific activity filters.</p>

        <div class="screenshot-container">
            <img src="Activity_Stream_Filtering_step05_create_new_feed_dialog.png" alt="Create New Feed Dialog" class="screenshot">
            <p class="screenshot-caption">Custom Feed Builder with Activity Authors field visible</p>
        </div>
    </div>

    <!-- Test Case 4: Filter by Group -->
    <div class="test-case">
        <h3>Test 4: Filter by Group</h3>
        <p><strong>Status:</strong> <span class="pass">PASS</span></p>
        <p><strong>Description:</strong> Test filtering the activity stream by group membership.</p>

        <div class="steps">
            <strong>Steps Taken:</strong>
            <ol>
                <li>Opened the Custom Feed Builder dialog via "Create New Feed"</li>
                <li>Located the "Activity Groups" field for filtering by group</li>
                <li>Verified the field accepts group input</li>
            </ol>
        </div>

        <p><strong>Result:</strong> The Custom Feed Builder includes an "Activity Groups" field that allows filtering activities by specific groups. This enables users to create feeds focused on particular group activities.</p>

        <div class="screenshot-container">
            <img src="Activity_Stream_Filtering_step05_create_new_feed_dialog.png" alt="Create New Feed Dialog with Groups" class="screenshot">
            <p class="screenshot-caption">Custom Feed Builder with Activity Groups field visible</p>
        </div>
    </div>

    <!-- Test Case 5: Apply Multiple Filters -->
    <div class="test-case">
        <h3>Test 5: Apply Multiple Filters</h3>
        <p><strong>Status:</strong> <span class="pass">PASS</span></p>
        <p><strong>Description:</strong> Test applying multiple filter criteria simultaneously.</p>

        <div class="steps">
            <strong>Steps Taken:</strong>
            <ol>
                <li>Opened the Custom Feed Builder dialog</li>
                <li>Entered "Test User Filter" as the filter name</li>
                <li>Selected multiple activity types: "Posts" and "Photos"</li>
                <li>Saved the filter</li>
                <li>Applied the filter to verify it works with multiple criteria</li>
            </ol>
        </div>

        <p><strong>Result:</strong> Successfully created and applied a filter with multiple activity types (Posts and Photos). The Custom Feed Builder allows selecting multiple activity types simultaneously, and the saved filter correctly applies all selected criteria.</p>

        <div class="screenshot-container">
            <img src="Activity_Stream_Filtering_step06_feed_builder_filled.png" alt="Multiple Filters Applied" class="screenshot">
            <p class="screenshot-caption">Custom Feed Builder with Posts and Photos selected</p>
        </div>
    </div>

    <!-- Test Case 6: Clear All Filters -->
    <div class="test-case">
        <h3>Test 6: Clear All Filters</h3>
        <p><strong>Status:</strong> <span class="pass">PASS</span></p>
        <p><strong>Description:</strong> Test clearing all applied filters to return to unfiltered view.</p>

        <div class="steps">
            <strong>Steps Taken:</strong>
            <ol>
                <li>Applied a filter (Photos) from the dropdown</li>
                <li>Selected "Filter by activity" (the default option) from the dropdown</li>
                <li>Verified the activity stream returned to showing all activity types</li>
            </ol>
        </div>

        <p><strong>Result:</strong> Selecting "Filter by activity" (the default/placeholder option) successfully clears the filter and returns the activity stream to showing all activities without filtering.</p>

        <div class="screenshot-container">
            <img src="Activity_Stream_Filtering_step04_filter_cleared.png" alt="Filters Cleared" class="screenshot">
            <p class="screenshot-caption">Activity Stream with filters cleared (showing all activities)</p>
        </div>
    </div>

    <!-- Test Case 7: Save Filter Preferences -->
    <div class="test-case">
        <h3>Test 7: Save Filter Preferences</h3>
        <p><strong>Status:</strong> <span class="pass">PASS</span></p>
        <p><strong>Description:</strong> Test saving custom filter configurations for later use.</p>

        <div class="steps">
            <strong>Steps Taken:</strong>
            <ol>
                <li>Opened the Custom Feed Builder via "Create New Feed"</li>
                <li>Entered "Test User Filter" as the filter name</li>
                <li>Selected "Posts" and "Photos" activity types</li>
                <li>Clicked "Create" to save the filter</li>
                <li>Verified the filter appeared in the Activity Stream Filters sidebar</li>
            </ol>
        </div>

        <p><strong>Result:</strong> Successfully created and saved a custom filter named "Test User Filter". The filter immediately appeared in the Activity Stream Filters section in the sidebar, ready for use.</p>

        <div class="screenshot-container">
            <img src="Activity_Stream_Filtering_step07_filter_saved.png" alt="Filter Saved" class="screenshot">
            <p class="screenshot-caption">Saved filter "Test User Filter" appearing in the sidebar</p>
        </div>
    </div>

    <!-- Test Case 8: Filter Persistence Across Sessions -->
    <div class="test-case">
        <h3>Test 8: Filter Persistence Across Sessions</h3>
        <p><strong>Status:</strong> <span class="pass">PASS</span></p>
        <p><strong>Description:</strong> Test that saved filters persist after page refresh/reload.</p>

        <div class="steps">
            <strong>Steps Taken:</strong>
            <ol>
                <li>Created and saved "Test User Filter" with Posts and Photos</li>
                <li>Applied the saved filter by clicking on it</li>
                <li>Refreshed the page (browser reload)</li>
                <li>Verified the saved filter still exists in the Activity Stream Filters section</li>
            </ol>
        </div>

        <p><strong>Result:</strong> After page refresh, the saved filter "Test User Filter" persisted and was still visible in the Activity Stream Filters sidebar. Custom filters are stored server-side per user and survive page reloads and session changes.</p>

        <div class="screenshot-container">
            <img src="Activity_Stream_Filtering_step08_saved_filter_applied.png" alt="Filter Applied" class="screenshot">
            <p class="screenshot-caption">Saved filter applied to Activity Stream</p>
        </div>

        <div class="screenshot-container">
            <img src="Activity_Stream_Filtering_step09_filters_persist.png" alt="Filters Persist After Refresh" class="screenshot">
            <p class="screenshot-caption">Filter persists after page refresh</p>
        </div>
    </div>

    <!-- Observations Section -->
    <div class="observations">
        <h2>Observations</h2>
        <ul>
            <li><strong>Date Range Filtering Not Available:</strong> The code files (ActivityFilter.ascx, ActivityFilterBuilder.ascx, ActivityFilterSettings.ascx) do not contain any date range filtering functionality. The Custom Feed Builder only supports filtering by Authors, Groups, and Activity Types. This is a missing feature that may need to be implemented.</li>
            <li><strong>Two Filtering Mechanisms:</strong> The Activity Stream provides two ways to filter:
                <ul>
                    <li>A quick dropdown filter for immediate single-type filtering</li>
                    <li>A Custom Feed Builder for creating saved filters with multiple criteria</li>
                </ul>
            </li>
            <li><strong>User-Specific Filters:</strong> Saved filters are stored per user and persist across sessions, indicating server-side storage.</li>
            <li><strong>Edit Functionality:</strong> Each saved filter has an edit icon (pencil) allowing users to modify existing filters.</li>
            <li><strong>Knockout.js Integration:</strong> The filtering UI uses Knockout.js for data binding (data-bind attributes), providing reactive updates to the filter list.</li>
        </ul>
    </div>

    <h2>Setup Screenshots</h2>
    <p>The following screenshots document the test environment setup (not counted as tests):</p>

    <div class="screenshot-container">
        <img src="Activity_Stream_Filtering_step00_login_confirmed.png" alt="Login Confirmed" class="screenshot">
        <p class="screenshot-caption">Login confirmed - SuperUser Account</p>
    </div>

    <div class="screenshot-container">
        <img src="Activity_Stream_Filtering_step01_community_page.png" alt="Community Page" class="screenshot">
        <p class="screenshot-caption">Community page with Activity Stream module</p>
    </div>

    <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; text-align: center;">
        <p>Test Report Generated: 2026-01-06 | Extension: Evoq.Social.ActivityStream | Feature: Activity Stream Filtering</p>
    </footer>
</body>
</html>
