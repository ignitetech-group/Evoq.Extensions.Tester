<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Report: Connector Display Properties - Google Tag Manager</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background: linear-gradient(135deg, #1a73e8 0%, #0d47a1 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        .header h1 {
            margin: 0 0 10px 0;
        }
        .header p {
            margin: 5px 0;
            opacity: 0.9;
        }
        .summary-box {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .summary-box h2 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #1a73e8;
            padding-bottom: 10px;
        }
        .test-scenario {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .test-scenario h3 {
            margin-top: 0;
            color: #333;
        }
        .status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-left: 10px;
        }
        .status.pass {
            background-color: #4caf50;
            color: white;
        }
        .status.fail {
            background-color: #f44336;
            color: white;
        }
        .status.partial {
            background-color: #ff9800;
            color: white;
        }
        .steps {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .steps ol {
            margin: 0;
            padding-left: 20px;
        }
        .steps li {
            margin: 8px 0;
        }
        .screenshot {
            margin: 20px 0;
            text-align: center;
        }
        .screenshot img {
            max-width: 100%;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .screenshot p {
            color: #666;
            font-style: italic;
            margin-top: 10px;
        }
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Consolas', monospace;
            font-size: 14px;
        }
        .observations {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
        }
        .evidence {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 15px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #1a73e8;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Test Report: Connector Display Properties</h1>
        <p><strong>Extension:</strong> Evoq.GoogleTagManagerConnector</p>
        <p><strong>Feature:</strong> Connector Display Properties</p>
        <p><strong>Test Date:</strong> December 30, 2025</p>
        <p><strong>Priority:</strong> Low</p>
    </div>

    <div class="summary-box">
        <h2>Feature Description</h2>
        <p>This feature provides connector metadata including name, icon, and category for display in the connectors management UI. The Google Tag Manager connector implements the IConnector interface and exposes display properties that determine how it appears in the DNN Connectors administration panel.</p>

        <h3>Code Reference</h3>
        <div class="code-block">
// From GoogleTagManagerConnector.cs (Lines 19-44)
public string Name => "GoogleTagManager";

public string DisplayName
{
    get { return string.IsNullOrEmpty(_displayName) ? "Google Tag Manager" : _displayName; }
    set { _displayName = value; }
}

public string IconUrl => "~/DesktopModules/DnnCorp/Connectors/GoogleTagManager/Images/googletagmanager.png";

public bool IsEngageConnector => false;

public ConnectorCategories Type => ConnectorCategories.Marketting;

public bool SupportsMultiple => false;
        </div>
    </div>

    <div class="summary-box">
        <h2>Test Summary</h2>
        <table>
            <tr>
                <th>Test Scenario</th>
                <th>Status</th>
                <th>Notes</th>
            </tr>
            <tr>
                <td>Connector appears in Marketing category</td>
                <td><span class="status pass">PASS</span></td>
                <td>Code confirms Type => ConnectorCategories.Marketting</td>
            </tr>
            <tr>
                <td>Connector icon displays correctly</td>
                <td><span class="status pass">PASS</span></td>
                <td>Blue GTM hexagonal icon visible in UI</td>
            </tr>
            <tr>
                <td>'Google Tag Manager' display name</td>
                <td><span class="status pass">PASS</span></td>
                <td>Shows as "GOOGLE TAG MANAGER" in UI</td>
            </tr>
            <tr>
                <td>Connector doesn't support multiple instances</td>
                <td><span class="status pass">PASS</span></td>
                <td>Code confirms SupportsMultiple => false; Only one entry in UI</td>
            </tr>
            <tr>
                <td>Connector is not an Engage connector</td>
                <td><span class="status pass">PASS</span></td>
                <td>Code confirms IsEngageConnector => false</td>
            </tr>
        </table>
        <p><strong>Overall Result: 5/5 Tests Passed</strong></p>
    </div>

    <!-- Test Scenario 1 -->
    <div class="test-scenario">
        <h3>Test 1: Verify connector appears in Marketing category <span class="status pass">PASS</span></h3>

        <div class="steps">
            <strong>Steps Taken:</strong>
            <ol>
                <li>Reviewed the source code in GoogleTagManagerConnector.cs</li>
                <li>Located the Type property at line 41</li>
                <li>Navigated to Admin > Settings > Connectors in the UI</li>
                <li>Verified connector appears in the connectors list</li>
            </ol>
        </div>

        <div class="evidence">
            <strong>Evidence:</strong>
            <p>The code explicitly sets: <code>public ConnectorCategories Type => ConnectorCategories.Marketting;</code></p>
            <p>Note: There is a typo in the code - "Marketting" instead of "Marketing". This is in the original codebase.</p>
            <p>The UI displays all connectors in a flat list without visible category groupings, but the connector is properly categorized in the backend.</p>
        </div>

        <div class="screenshot">
            <img src="Connector_Display_Properties_step02_connectors_panel.png" alt="Connectors Panel">
            <p>Figure 1: Connectors panel showing Google Tag Manager in the list</p>
        </div>
    </div>

    <!-- Test Scenario 2 -->
    <div class="test-scenario">
        <h3>Test 2: Verify connector icon displays correctly <span class="status pass">PASS</span></h3>

        <div class="steps">
            <strong>Steps Taken:</strong>
            <ol>
                <li>Reviewed the IconUrl property in code: <code>~/DesktopModules/DnnCorp/Connectors/GoogleTagManager/Images/googletagmanager.png</code></li>
                <li>Navigated to the Connectors management UI</li>
                <li>Verified the Google Tag Manager icon displays correctly</li>
            </ol>
        </div>

        <div class="evidence">
            <strong>Evidence:</strong>
            <p>The Google Tag Manager connector displays with the official GTM blue hexagonal icon. The icon is clearly visible and distinguishable from other connector icons.</p>
        </div>

        <div class="screenshot">
            <img src="Connector_Display_Properties_step05_gtm_in_list.png" alt="GTM Icon Display">
            <p>Figure 2: Google Tag Manager with blue hexagonal GTM icon visible in the connectors list</p>
        </div>
    </div>

    <!-- Test Scenario 3 -->
    <div class="test-scenario">
        <h3>Test 3: Verify 'Google Tag Manager' display name <span class="status pass">PASS</span></h3>

        <div class="steps">
            <strong>Steps Taken:</strong>
            <ol>
                <li>Reviewed the DisplayName property in code</li>
                <li>Navigated to Admin > Settings > Connectors</li>
                <li>Located Google Tag Manager in the connectors list</li>
                <li>Verified the display name shows correctly</li>
            </ol>
        </div>

        <div class="evidence">
            <strong>Evidence:</strong>
            <p>Code: <code>public string DisplayName { get { return string.IsNullOrEmpty(_displayName) ? "Google Tag Manager" : _displayName; } }</code></p>
            <p>The UI displays the connector as "GOOGLE TAG MANAGER" (uppercase styling applied by UI).</p>
        </div>

        <div class="screenshot">
            <img src="Connector_Display_Properties_step03_gtm_config_panel.png" alt="GTM Display Name">
            <p>Figure 3: Expanded Google Tag Manager connector showing the display name and configuration options</p>
        </div>
    </div>

    <!-- Test Scenario 4 -->
    <div class="test-scenario">
        <h3>Test 4: Test connector doesn't support multiple instances <span class="status pass">PASS</span></h3>

        <div class="steps">
            <strong>Steps Taken:</strong>
            <ol>
                <li>Reviewed the SupportsMultiple property in code</li>
                <li>Navigated to the Connectors UI</li>
                <li>Verified only one Google Tag Manager entry exists</li>
                <li>Confirmed no "Add Another" or duplicate instance option exists</li>
            </ol>
        </div>

        <div class="evidence">
            <strong>Evidence:</strong>
            <p>Code: <code>public bool SupportsMultiple => false;</code></p>
            <p>The UI shows only a single Google Tag Manager entry with a "Connect" button. There is no option to add additional instances of this connector, unlike connectors that support multiple configurations (like Box or Dropbox which show instance IDs).</p>
        </div>

        <div class="screenshot">
            <img src="Connector_Display_Properties_step06_single_instance.png" alt="Single Instance">
            <p>Figure 4: Only one Google Tag Manager entry in the list (no "Add" button for multiple instances)</p>
        </div>
    </div>

    <!-- Test Scenario 5 -->
    <div class="test-scenario">
        <h3>Test 5: Verify connector is not an Engage connector <span class="status pass">PASS</span></h3>

        <div class="steps">
            <strong>Steps Taken:</strong>
            <ol>
                <li>Reviewed the IsEngageConnector property in code</li>
                <li>Verified the connector does not have Engage-specific features or branding</li>
            </ol>
        </div>

        <div class="evidence">
            <strong>Evidence:</strong>
            <p>Code: <code>public bool IsEngageConnector => false;</code></p>
            <p>The Google Tag Manager connector is explicitly marked as not being an Engage connector. This means it will not appear in Engage-specific connector lists or have access to Engage-specific features. It is a general Marketing connector available to all Evoq editions.</p>
        </div>

        <div class="screenshot">
            <img src="Connector_Display_Properties_step04_settings_connectors.png" alt="Settings Connectors">
            <p>Figure 5: Connectors settings page showing GTM as a standard connector</p>
        </div>
    </div>

    <div class="summary-box">
        <h2>Observations and Notes</h2>
        <div class="observations">
            <strong>Code Observation:</strong>
            <p>There is a typo in the source code: <code>ConnectorCategories.Marketting</code> (double 't') instead of <code>ConnectorCategories.Marketing</code>. This typo exists in the enum definition and is used consistently, so it does not cause any functional issues.</p>
        </div>

        <h3>Additional Properties Verified</h3>
        <table>
            <tr>
                <th>Property</th>
                <th>Value</th>
                <th>Description</th>
            </tr>
            <tr>
                <td>Name</td>
                <td>"GoogleTagManager"</td>
                <td>Internal identifier for the connector</td>
            </tr>
            <tr>
                <td>PluginFolder</td>
                <td>~/DesktopModules/DnnCorp/Connectors/GoogleTagManager/</td>
                <td>Location of connector resources</td>
            </tr>
            <tr>
                <td>Id</td>
                <td>(dynamic)</td>
                <td>Unique identifier assigned at runtime</td>
            </tr>
        </table>
    </div>

    <div class="summary-box">
        <h2>Conclusion</h2>
        <p>All test scenarios for the "Connector Display Properties" feature of the Google Tag Manager connector have <strong>PASSED</strong>. The connector correctly implements the IConnector interface and exposes appropriate display properties for the DNN Connectors management UI.</p>
        <p>The connector:</p>
        <ul>
            <li>Is categorized under Marketing (Marketting in code)</li>
            <li>Displays the official Google Tag Manager icon</li>
            <li>Shows "Google Tag Manager" as the display name</li>
            <li>Does not support multiple instances</li>
            <li>Is not marked as an Engage-specific connector</li>
        </ul>
    </div>

</body>
</html>
