{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.AccountSettings",
    "extension_type": "PersonaBar Module",
    "feature_name": "Module Resources and Localization",
    "feature_description": "Validates resource files and localization support",
    "feature_priority": "Medium",
    "test_date": "2026-01-16T12:00:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Verify resource file loads correctly",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Login as SuperUser and navigate to PersonaBar",
          "expected": "PersonaBar displays with Accounts menu item showing localized text 'Accounts'",
          "actual": "PersonaBar displays but Accounts menu item shows raw resource key 'nav_Accounts' instead of localized value",
          "screenshot": "Module_Resources_and_Localization_step00_setup_login.png"
        },
        {
          "step_number": 2,
          "action": "Hover over Accounts menu item to view tooltip/label",
          "expected": "Menu item shows 'Accounts' as the label",
          "actual": "Menu item shows 'nav_Accounts' - the raw resource key is displayed instead of the localized value",
          "screenshot": "Module_Resources_and_Localization_step01_nav_accounts_hover.png"
        }
      ],
      "issues": [
        "Localization is broken - PersonaBar shows raw resource key 'nav_Accounts' instead of 'Accounts'",
        "Root cause: DNN manifest uses resourceKey='nav_Accounts' but resource file only contains 'nav_AccountSettings.Text'. This is a configuration mismatch."
      ]
    },
    {
      "scenario_name": "Test nav_AccountSettings.Text resource returns 'Accounts'",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Review resource file AccountSettings.resx",
          "expected": "Resource file contains nav_AccountSettings.Text with value 'Accounts'",
          "actual": "Resource file DOES contain nav_AccountSettings.Text = 'Accounts', but this resource is NOT being used",
          "screenshot": "Module_Resources_and_Localization_step02_accounts_panel_open.png"
        },
        {
          "step_number": 2,
          "action": "Verify UI displays localized value from resource",
          "expected": "PersonaBar menu shows 'Accounts' from nav_AccountSettings.Text resource",
          "actual": "UI shows 'nav_Accounts' because the manifest references resourceKey='nav_Accounts' which does not exist in the resource file. The existing resource key is 'nav_AccountSettings.Text' - a mismatch.",
          "screenshot": "Module_Resources_and_Localization_step02_accounts_panel_open.png"
        }
      ],
      "issues": [
        "Configuration mismatch between DNN manifest and resource file",
        "Manifest uses: resourceKey='nav_Accounts'",
        "Resource file has: nav_AccountSettings.Text='Accounts'",
        "The resource key names do not match, causing localization failure"
      ]
    },
    {
      "scenario_name": "Check module icon file exists and displays",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Verify module icon file exists in codebase",
          "expected": "Icon file module_icon_32x32.png exists in images folder",
          "actual": "Icon file exists at src/Modules/Evoq.PersonaBar.AccountSettings/images/module_icon_32x32.png, but manifest references a different icon: ~/Images/icon-personabarapp-32px.png",
          "screenshot": "Module_Resources_and_Localization_step01_nav_accounts_hover.png"
        },
        {
          "step_number": 2,
          "action": "Check if icon displays in PersonaBar for Accounts menu item",
          "expected": "Accounts menu item in PersonaBar shows an icon like other menu items (Dashboard, Content, etc.)",
          "actual": "Accounts menu item has NO icon displayed. Accessibility snapshot shows the listitem is empty (no img element) while other items like Dashboard have img elements with alt text. The icon is missing from the UI.",
          "screenshot": "Module_Resources_and_Localization_step02_accounts_panel_open.png"
        }
      ],
      "issues": [
        "Module icon is NOT displayed in PersonaBar",
        "Other PersonaBar items (Dashboard, Content, Manage, etc.) have proper icons",
        "Accounts menu item has no img element - the icon is missing",
        "The manifest points to ~/Images/icon-personabarapp-32px.png but the CSS class 'useravatar' may be overriding this"
      ]
    },
    {
      "scenario_name": "Test localization in different languages",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Check for language-specific resource files in codebase",
          "expected": "Multiple language versions exist (e.g., AccountSettings.es-AR.resx, AccountSettings.de-DE.resx)",
          "actual": "Only one resource file exists: AccountSettings.resx (default/English). No other language translations are available.",
          "screenshot": "Module_Resources_and_Localization_step03_spanish_locale.png"
        },
        {
          "step_number": 2,
          "action": "Switch site to Spanish (es-AR) locale and verify Accounts menu localization",
          "expected": "Accounts menu should show localized text (either Spanish translation or fallback to English 'Accounts')",
          "actual": "In Spanish locale, PersonaBar still shows 'nav_Accounts' raw resource key. The base English localization is broken, so other languages cannot work either.",
          "screenshot": "Module_Resources_and_Localization_step03_spanish_locale.png"
        }
      ],
      "issues": [
        "No language-specific resource files exist for translations",
        "Base English localization is broken due to resource key mismatch",
        "All languages display raw resource key 'nav_Accounts' instead of localized text"
      ]
    }
  ],
  "observations": [
    "Critical configuration mismatch: DNN manifest (Evoq.PersonaBar.AccountSettings.dnn) uses resourceKey='nav_Accounts' but the resource file (AccountSettings.resx) only defines 'nav_AccountSettings.Text'. This causes the localization framework to fail to find the resource and display the raw key instead.",
    "The module_icon_32x32.png file exists in the source code but the manifest references a different icon path (~/Images/icon-personabarapp-32px.png). The CSS class 'useravatar' is used which may render a user silhouette instead of a custom icon.",
    "No internationalization support exists - only the default English resource file is present with no translations for Spanish, French, German, or Arabic despite the site supporting these languages.",
    "The resource file structure is correct (valid .resx XML format with proper headers) but the resource key naming does not match what is expected by the DNN manifest configuration."
  ],
  "summary": {
    "total_scenarios": 4,
    "passed": 0,
    "failed": 4,
    "pass_rate": "0%"
  }
}
