{
  "metadata": {
    "extension_name": "Publisher",
    "extension_type": "Module",
    "feature_name": "Publishing Workflow",
    "feature_description": "Manage post states through draft, review, and publish workflow stages",
    "feature_priority": "Top",
    "test_date": "2026-02-28T09:23:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Submit post for review",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Publisher module on News page",
          "expected": "Publisher module with Create Post button visible",
          "actual": "Publisher module displayed with Create Post button and latest posts list",
          "screenshot": "Publishing Workflow_step01_news_page_publisher.png"
        },
        {
          "step_number": 2,
          "action": "Click Create Post to create a new post",
          "expected": "Post creation form opens",
          "actual": "Post creation form opened with title field, content editor, and workflow buttons",
          "screenshot": "Publishing Workflow_step02_create_post_form.png"
        },
        {
          "step_number": 3,
          "action": "Fill in title and content for the post",
          "expected": "Form fields populated with test data",
          "actual": "Title 'Workflow Test - Submit for Review' and content entered successfully",
          "screenshot": "Publishing Workflow_step03_post_form_filled.png"
        },
        {
          "step_number": 4,
          "action": "Click Submit button to submit post for review",
          "expected": "Post submitted and shows awaiting moderation message",
          "actual": "Post submitted successfully, 'This post is currently awaiting moderation' message displayed",
          "screenshot": "Publishing Workflow_step04_submitted_for_review.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Approve post for publishing",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Edit the submitted post to access review actions",
          "expected": "Edit view with Publish, Reject, Discard buttons visible",
          "actual": "Edit view opened with workflow action buttons: Publish, Reject, Discard, Save",
          "screenshot": "Publishing Workflow_step05_review_state_with_actions.png"
        },
        {
          "step_number": 2,
          "action": "Click Publish button to approve and publish the post",
          "expected": "Post published successfully",
          "actual": "Success dialog appeared confirming post published, post now visible in published list",
          "screenshot": "Publishing Workflow_step07_publish_success_dialog.png"
        },
        {
          "step_number": 3,
          "action": "Verify post is now published and visible",
          "expected": "Post appears in the published posts list without moderation message",
          "actual": "Post 'Workflow Test - Submit for Review' now visible in Latest posts without moderation message",
          "screenshot": "Publishing Workflow_step08_post_published.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Reject post with comments",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Change Publisher workflow to Content Approval",
          "expected": "Content Approval workflow selected in settings",
          "actual": "Content Approval workflow successfully selected in Publisher Settings dropdown",
          "screenshot": "Publishing Workflow_step11_content_approval_workflow.png"
        },
        {
          "step_number": 2,
          "action": "Create new post and fill in details",
          "expected": "Post form populated with test data",
          "actual": "Title 'Workflow Test - Reject Scenario' and content entered in creation form",
          "screenshot": "Publishing Workflow_step12_reject_post_form.png"
        },
        {
          "step_number": 3,
          "action": "Submit post for review",
          "expected": "Post submitted and shows awaiting moderation",
          "actual": "Post submitted, displaying 'This post is currently awaiting moderation' message",
          "screenshot": "Publishing Workflow_step13_post_awaiting_moderation.png"
        },
        {
          "step_number": 4,
          "action": "Edit post to access Reject button",
          "expected": "Edit view with Reject button visible",
          "actual": "Edit view opened showing Publish, Reject, Discard, Save buttons",
          "screenshot": "Publishing Workflow_step14_edit_with_reject_button.png"
        },
        {
          "step_number": 5,
          "action": "Click Reject button",
          "expected": "Reject dialog opens with comment field",
          "actual": "Reject Change dialog opened with textarea for rejection comment",
          "screenshot": "Publishing Workflow_step15_reject_dialog.png"
        },
        {
          "step_number": 6,
          "action": "Enter rejection comment and click Reject Changes",
          "expected": "Rejection comment entered and submission successful",
          "actual": "Comment 'This post needs more details and better formatting. Please revise the content before resubmitting for review.' entered successfully",
          "screenshot": "Publishing Workflow_step16_reject_comment_entered.png"
        },
        {
          "step_number": 7,
          "action": "Verify post returned to draft state",
          "expected": "Post goes back to draft/editing state",
          "actual": "Post returned to edit mode with Discard and Publish buttons, indicating draft state",
          "screenshot": "Publishing Workflow_step17_post_rejected.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Publish post immediately (Direct Publish workflow)",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Create new post with Direct Publish workflow",
          "expected": "Post form shows only Publish and Discard buttons",
          "actual": "Post form opened with Publish and Discard buttons (no Submit button in Direct Publish workflow)",
          "screenshot": "Publishing Workflow_step09_direct_publish_form.png"
        },
        {
          "step_number": 2,
          "action": "Click Publish to publish post immediately",
          "expected": "Post published immediately without review",
          "actual": "Post 'Workflow Test - Direct Publish' published immediately, now visible in Latest posts",
          "screenshot": "Publishing Workflow_step10_direct_publish_success.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Discard draft post",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Create new post and enter title",
          "expected": "Post form with title entered",
          "actual": "Title 'Workflow Test - Discard Draft' entered in creation form",
          "screenshot": "Publishing Workflow_step20_discard_new_post.png"
        },
        {
          "step_number": 2,
          "action": "Click Discard button",
          "expected": "Discard confirmation dialog appears",
          "actual": "Discard dialog appeared with message 'Are you sure you want to discard the changes?'",
          "screenshot": "Publishing Workflow_step21_discard_new_confirmation.png"
        },
        {
          "step_number": 3,
          "action": "Confirm discard by clicking Discard button",
          "expected": "Post discarded and redirected to News page",
          "actual": "Post discarded successfully, redirected to News page, draft not saved",
          "screenshot": "Publishing Workflow_step22_discard_success.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Schedule post for future publication",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Search for scheduling option in post creation form",
          "expected": "Scheduling UI with date/time picker for future publication",
          "actual": "No scheduling UI found in Publisher module post creation form. Only immediate publish options available.",
          "screenshot": "Publishing Workflow_step09_direct_publish_form.png"
        }
      ],
      "issues": ["Scheduling feature not found in Publisher module UI. Code review of PublishingPostController.cs and PublishingManager.cs shows no scheduling-related endpoints or functionality."]
    },
    {
      "scenario_name": "View workflow state history",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Search for workflow state history in post edit view",
          "expected": "Workflow history panel showing state transitions",
          "actual": "No workflow state history UI found in post edit view. Only current workflow action buttons visible.",
          "screenshot": "Publishing Workflow_step14_edit_with_reject_button.png"
        }
      ],
      "issues": ["Workflow state history feature not visible in Publisher module UI. The feature may exist in a different location (e.g., admin panel workflows) but is not accessible from the Publisher post editing interface."]
    },
    {
      "scenario_name": "Error handling for workflow state conflicts",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to discard a post that has been modified by another action",
          "expected": "Error message indicating state conflict",
          "actual": "Error dialog displayed: 'Another user has taken action on the page and its state has been changed. Please, refresh the page to see the current state.'",
          "screenshot": "Publishing Workflow_step19_discard_error.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "The Publisher module supports multiple workflow types: Direct Publish (1 state), Save Draft (2 states), and Content Approval (multi-state).",
    "Workflow selection is configured in Publisher Settings panel accessible from the News page edit bar.",
    "The Submit button only appears when using workflows with review stages (e.g., Content Approval). Direct Publish workflow shows only Publish and Discard buttons.",
    "The Reject functionality includes a required comment field to explain the rejection reason.",
    "Rejected posts return to draft state and can be edited and resubmitted.",
    "Code suggests 'Schedule post for future publication' feature does not exist in the current Publisher implementation - no scheduling-related methods found in PublishingPostController.cs or PublishingManager.cs.",
    "Workflow state history is tracked internally by the WorkflowEngine but no dedicated UI was found in the Publisher module to view the history.",
    "Role-based workflow permissions are configured at the DNN workflow level (WorkflowSecurity.HasStateReviewerPermission), not directly testable from Publisher UI without creating test users with different roles.",
    "Notification on state changes is handled by the DNN Workflow Engine and would require checking the Notifications system separately."
  ],
  "summary": {
    "total_scenarios": 8,
    "passed": 6,
    "failed": 2,
    "pass_rate": "75%"
  }
}
