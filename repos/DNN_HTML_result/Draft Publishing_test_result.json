{
  "metadata": {
    "extension_name": "DNN_HTML",
    "extension_type": "Module",
    "feature_name": "Draft Publishing",
    "feature_description": "Publish draft content to make it live and visible to users",
    "feature_priority": "High",
    "test_date": "2026-01-16T12:00:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Publish current draft via page-level Publish button",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigated to Publish Test Page and entered Edit mode",
          "expected": "Page enters edit mode with HTML module visible",
          "actual": "Page entered edit mode successfully, HTML module with content '[Updated for publish test]' visible in LeftPane",
          "screenshot": "Draft Publishing_step01_edit_mode.png"
        },
        {
          "step_number": 2,
          "action": "Located HTML module content and inline editor toolbar",
          "expected": "HTML module content editable via inline editor",
          "actual": "Found HTML module 957 with existing content, inline editor toolbar appeared",
          "screenshot": "Draft Publishing_step03_html_module_content.png"
        },
        {
          "step_number": 3,
          "action": "Modified content by adding '[Updated for publish test]' text",
          "expected": "Content modified and ready for publishing",
          "actual": "Content was modified successfully, Publish button became available at bottom of page",
          "screenshot": "Draft Publishing_step05_content_modified.png"
        },
        {
          "step_number": 4,
          "action": "Clicked Publish button to publish the draft content",
          "expected": "Content published successfully, page returns to view mode",
          "actual": "Error dialog appeared: 'Another user has taken action on the page and its state has been changed. Please, refresh the page to see the current state.'",
          "screenshot": "Draft Publishing_step06_publish_error.png"
        },
        {
          "step_number": 5,
          "action": "Refreshed page and retried publishing",
          "expected": "Publishing succeeds after refresh",
          "actual": "Same error occurred on retry: 'Another user has taken action on the page and its state has been changed.'",
          "screenshot": "Draft Publishing_step07_publish_error_retry.png"
        },
        {
          "step_number": 6,
          "action": "Investigated page settings via Content > Pages panel",
          "expected": "Find page configuration to understand publish failure",
          "actual": "Discovered page has 'Versioning: Off' and 'Workflow: Off' settings, which explains the publish conflict errors",
          "screenshot": "Draft Publishing_step09_page_details_versioning_off.png"
        }
      ],
      "issues": [
        "Page-level Publish button fails with 'Another user has taken action' error when page versioning is disabled",
        "The Publish/Discard buttons appear in Edit mode even when page versioning is Off, creating confusing UX",
        "Error message is misleading - suggests concurrent user conflict when actual issue is versioning configuration"
      ]
    },
    {
      "scenario_name": "Schedule publishing",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempted to locate schedule publishing option in page settings",
          "expected": "Find 'Enable Scheduling' option to test scheduled publishing",
          "actual": "Found 'Enable Scheduling: Off' toggle in page details panel but could not test as page versioning is disabled",
          "screenshot": "Draft Publishing_step09_page_details_versioning_off.png"
        }
      ],
      "issues": [
        "Cannot test schedule publishing because page versioning is disabled",
        "Enable Scheduling toggle exists but requires versioning to be enabled"
      ]
    },
    {
      "scenario_name": "View published vs draft content",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempted to compare published and draft versions",
          "expected": "See difference between published and draft content",
          "actual": "Cannot compare versions because page versioning is disabled (Versioning: Off). With versioning off, there is no draft/published distinction at page level.",
          "screenshot": "Draft Publishing_step09_page_details_versioning_off.png"
        }
      ],
      "issues": [
        "Page versioning disabled prevents testing published vs draft comparison",
        "No UI indication that versioning is off until checking page settings"
      ]
    },
    {
      "scenario_name": "Verify page versioning configuration",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Accessed Content > Pages panel in persona bar",
          "expected": "View page configuration settings",
          "actual": "Successfully accessed Pages panel showing page list",
          "screenshot": "Draft Publishing_step09_page_details_versioning_off.png"
        },
        {
          "step_number": 2,
          "action": "Selected Publish Test Page and viewed Details tab",
          "expected": "See versioning and workflow settings",
          "actual": "Page details showed: Page ID: 73, Versioning: Off, Workflow: Off, Workflow type: Direct Publish",
          "screenshot": "Draft Publishing_step09_page_details_versioning_off.png"
        },
        {
          "step_number": 3,
          "action": "Checked Version Test Page configuration",
          "expected": "Verify if other test pages have versioning enabled",
          "actual": "Version Test Page also has Versioning: Off and Workflow: Off",
          "screenshot": "Draft Publishing_step10_version_test_page_versioning_off.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Edit HTML content via inline editor",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Clicked on HTML module content in Edit mode to activate inline editor",
          "expected": "Inline WYSIWYG editor appears with formatting toolbar",
          "actual": "Inline editor activated with toolbar showing Bold, Italic, Underline, Lists, Link, HTML, Insert Image, Advanced Editor options",
          "screenshot": "Draft Publishing_step04_before_publish.png"
        },
        {
          "step_number": 2,
          "action": "Typed new content into the inline editor",
          "expected": "Content updates in real-time",
          "actual": "Content '[Updated for publish test]' was added successfully",
          "screenshot": "Draft Publishing_step05_content_modified.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "Page versioning is disabled (Versioning: Off) on test pages including 'Publish Test Page' and 'Version Test Page'",
    "Page workflow is set to 'Direct Publish' which means no approval workflow is required",
    "The Publish/Discard buttons appear in Edit mode even when page versioning is disabled, which is misleading",
    "The error message 'Another user has taken action on the page' appears when attempting to publish with versioning disabled - this is a confusing error message that doesn't indicate the actual configuration issue",
    "Code review shows VersionController.cs implements PublishVersion(), GetPublishedVersion(), and RollBackVersion() methods for module content versioning, but these require page versioning to be enabled",
    "HtmlTextController.cs implements IVersionable interface with module-level versioning support",
    "The HTML module inline editor works correctly for content editing, but the page-level publish workflow fails",
    "Schedule publishing feature exists (Enable Scheduling toggle) but could not be tested due to versioning being disabled",
    "Multiple HTML modules (957, 958, 1148) exist on the test page"
  ],
  "summary": {
    "total_scenarios": 5,
    "passed": 2,
    "failed": 3,
    "pass_rate": "40%"
  }
}
