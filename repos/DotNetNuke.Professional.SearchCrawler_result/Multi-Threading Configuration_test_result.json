{
  "metadata": {
    "extension_name": "DotNetNuke.Professional.SearchCrawler",
    "extension_type": "Module",
    "feature_name": "Multi-Threading Configuration",
    "feature_description": "Configures multi-threaded crawling for improved performance.",
    "feature_priority": "Low",
    "test_date": "2026-02-09T15:29:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Verify Multi-Threading Configuration UI Accessibility",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Settings > Scheduler to locate SearchCrawler task settings",
          "expected": "Scheduler page should load with list of scheduled tasks including SearchCrawler tasks",
          "actual": "Scheduler page loaded successfully showing Search: Site Crawler, Search: File Crawler, and Search: Url Crawler tasks with global thread settings (Max Threads: 1)",
          "screenshot": "Multi-Threading Configuration_step01_scheduler_page.png"
        },
        {
          "step_number": 2,
          "action": "Click SCHEDULER tab and locate Search: Url Crawler task",
          "expected": "List of scheduler tasks displayed with Edit option for each task",
          "actual": "SCHEDULER tab displayed all tasks including Search: File Crawler, Search: Site Crawler, and Search: Url Crawler with edit icons",
          "screenshot": "Multi-Threading Configuration_step02_scheduler_tasks_list.png"
        },
        {
          "step_number": 3,
          "action": "Click Edit Task for Search: Url Crawler to view task settings",
          "expected": "Task edit dialog should show IndexThreads or thread count configuration option",
          "actual": "Task edit dialog displayed standard scheduler settings (Friendly Name, Frequency, Retry Time Lapse, etc.) but NO thread count configuration field was found",
          "screenshot": "Multi-Threading Configuration_step03_url_crawler_settings.png"
        },
        {
          "step_number": 4,
          "action": "Navigate to Site Settings > Search > Crawling tab",
          "expected": "Crawling settings page should show thread configuration for multi-threaded crawling",
          "actual": "Crawling settings page displayed URL Paths, Duplicates regex patterns, Included/Excluded Directories, but NO thread count configuration option",
          "screenshot": "Multi-Threading Configuration_step04_crawling_settings.png"
        },
        {
          "step_number": 5,
          "action": "Review global scheduler thread settings in Task Queue view",
          "expected": "Thread configuration options should be visible and configurable",
          "actual": "Global scheduler displays Max Threads: 1, Active Threads: 0, Free Threads: 1 - these are read-only display values for the global scheduler thread pool, not the SearchCrawler-specific IndexThreads setting",
          "screenshot": "Multi-Threading Configuration_step05_global_thread_settings.png"
        }
      ],
      "issues": [
        "The IndexThreads setting exists in code (ScheduleHistoryItemsSettings.cs line 18, SearchSpiderHelper.cs line 588) but is NOT exposed through any admin UI",
        "No UI field found in Scheduler task edit dialog for configuring crawler thread count",
        "No UI field found in Site Settings > Search > Crawling for thread configuration",
        "The feature exists in code but cannot be configured by administrators without direct database modification"
      ]
    }
  ],
  "observations": [
    "Code analysis confirms IndexThreads property exists in ScheduleHistoryItemsSettings class (line 18) and is read via SearchSpiderHelper.GetScheduleHistoryItemsSettings() at line 588",
    "The IndexThreads value defaults to 1 and is passed to Spider.Start() method at line 85 in UrlIndexer.cs",
    "Spider.cs line 355 uses the threads parameter to create multiple DocumentWorker instances for parallel crawling",
    "The setting is stored in ScheduleItemSettings database table but there is no UI to modify it",
    "Global scheduler Max Threads setting (visible in Scheduler UI) controls the overall DNN scheduler thread pool, NOT the per-task crawling threads",
    "FileCrawlerFileEventsHandler.cs shows a separate MaxIndexingThreads setting controlled by host setting 'FileCrawlerFileEventsMaxThreads' (defaults to processor count)"
  ],
  "summary": {
    "total_scenarios": 1,
    "passed": 0,
    "failed": 1,
    "pass_rate": "0%"
  }
}
