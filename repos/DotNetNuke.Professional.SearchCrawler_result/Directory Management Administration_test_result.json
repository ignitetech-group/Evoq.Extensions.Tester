{
  "metadata": {
    "extension_name": "DotNetNuke.Professional.SearchCrawler",
    "extension_type": "Module",
    "feature_name": "Directory Management Administration",
    "feature_description": "Configures which directories to include or exclude from file crawling operations.",
    "feature_priority": "High",
    "test_date": "2026-02-09T15:31:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Get list of included directories",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Site Settings > Search > Crawling tab",
          "expected": "Included Directories section displays with current directories",
          "actual": "Included Directories section displayed showing 'Site Root' as an included directory",
          "screenshot": "Directory Management Administration_step03_included_directories.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Get list of excluded directories",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "View Excluded Directories section on Crawling tab",
          "expected": "Excluded Directories section displays with current directories",
          "actual": "Excluded Directories section displayed, initially empty",
          "screenshot": "Directory Management Administration_step02_directories_sections.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify parent/child folder conflict prevention",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "With Site Root already included, click Add Directory for Included Directories",
          "expected": "Folder picker opens",
          "actual": "Folder picker opened showing folder tree",
          "screenshot": "Directory Management Administration_step04_add_directory_picker.png"
        },
        {
          "step_number": 2,
          "action": "Select Images folder (child of Site Root) and click Save",
          "expected": "Error message about parent folder already included",
          "actual": "Error displayed: 'Directory included. This directory Images/ is already included by an ancestor directory'",
          "screenshot": "Directory Management Administration_step06_parent_child_conflict_error.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Remove included directory",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click delete icon for Site Root in Included Directories",
          "expected": "Confirmation dialog appears",
          "actual": "Confirmation dialog appeared asking 'Are you sure you want to delete Site Root?'",
          "screenshot": "Directory Management Administration_step07_delete_confirmation.png"
        },
        {
          "step_number": 2,
          "action": "Click Yes to confirm deletion",
          "expected": "Site Root removed from Included Directories",
          "actual": "Site Root was removed, Included Directories section now empty",
          "screenshot": "Directory Management Administration_step08_site_root_deleted.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Add included directory",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add Directory for Included Directories",
          "expected": "Folder picker opens",
          "actual": "Folder picker opened showing folder tree (Site Root > Badges, Images, Templates, Users)",
          "screenshot": "Directory Management Administration_step05_images_folder_selected.png"
        },
        {
          "step_number": 2,
          "action": "Select Images folder and click Save",
          "expected": "Images directory added to Included Directories",
          "actual": "Images successfully added to Included Directories list with delete icon",
          "screenshot": "Directory Management Administration_step09_images_added.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test duplicate directory prevention",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "With Images already included, try to add Images again via Add Directory",
          "expected": "Error message about duplicate directory",
          "actual": "Error displayed: 'Directory duplicated. This directory Images/ is already added'",
          "screenshot": "Directory Management Administration_step10_duplicate_error.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Add excluded directory",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add Directory for Excluded Directories",
          "expected": "Folder picker opens",
          "actual": "Folder picker opened showing folder tree",
          "screenshot": "Directory Management Administration_step11_add_excluded_template.png"
        },
        {
          "step_number": 2,
          "action": "Select Templates folder and click Save",
          "expected": "Templates directory added to Excluded Directories",
          "actual": "Templates successfully added to Excluded Directories list with delete icon",
          "screenshot": "Directory Management Administration_step12_templates_excluded.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Remove excluded directory",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click delete icon for Templates in Excluded Directories",
          "expected": "Confirmation dialog appears",
          "actual": "Confirmation dialog appeared asking 'Are you sure you want to delete Templates?'",
          "screenshot": "Directory Management Administration_step14_delete_excluded_confirmation.png"
        },
        {
          "step_number": 2,
          "action": "Click Yes to confirm deletion",
          "expected": "Templates removed from Excluded Directories",
          "actual": "Templates was removed, Excluded Directories section now empty",
          "screenshot": "Directory Management Administration_step15_templates_removed.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "Code in SearchSpiderHelper.cs confirms automatic exclusion of Containers and Skins folders is implemented but this functionality works at the API level during crawling, not visible in the UI configuration.",
    "Folder path resolution works correctly - folder IDs are resolved to human-readable paths like 'Images/' in the UI.",
    "The folder picker UI has some interaction challenges with overlapping elements, but the functionality works correctly.",
    "Parent/child conflict prevention throws DirectoryIncludedException with localized error message when attempting to add a child folder when parent is already included."
  ],
  "summary": {
    "total_scenarios": 8,
    "passed": 8,
    "failed": 0,
    "pass_rate": "100%"
  }
}
