{
  "metadata": {
    "extension_name": "Evoq.Social.Wiki",
    "extension_type": "Module",
    "feature_name": "Primary Article Management",
    "feature_description": "Manage the primary/home article for the wiki module",
    "feature_priority": "Medium",
    "test_date": "2026-02-09T15:49:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Set primary article - UI access",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Logged in as SuperUser and navigated to Wiki Test page",
          "expected": "Wiki Test page loads successfully",
          "actual": "Wiki Test page loaded with Wiki module visible",
          "screenshot": "Primary Article Management_step00_login_confirmed.png"
        },
        {
          "step_number": 2,
          "action": "Entered Edit mode by clicking Edit button",
          "expected": "Edit mode enabled showing module controls",
          "actual": "Edit mode enabled, showing 'Create article for front page...' link for primary article creation",
          "screenshot": "Primary Article Management_step02_edit_mode.png"
        },
        {
          "step_number": 3,
          "action": "Clicked 'Create article for front page...' link",
          "expected": "Primary article creation dialog opens",
          "actual": "Dialog opened with Content field only (no Title field), confirming primary articles use module title",
          "screenshot": "Primary Article Management_step07_rich_editor_dialog.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Primary article without title",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Opened primary article creation dialog",
          "expected": "Dialog should not show Title field for primary articles",
          "actual": "Dialog shows only Content field with WYSIWYG editor; Title field is not displayed for primary articles, confirming code behavior that primary articles use module title",
          "screenshot": "Primary Article Management_step03_create_primary_dialog.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Content validation for primary article",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Opened primary article dialog without entering content",
          "expected": "Validation message should appear for empty content",
          "actual": "Validation message 'Text is required' displayed in red tooltip",
          "screenshot": "Primary Article Management_step07_rich_editor_dialog.png"
        },
        {
          "step_number": 2,
          "action": "Entered content in the rich text editor",
          "expected": "Validation message should disappear",
          "actual": "After entering content and triggering blur event, validation message disappeared",
          "screenshot": "Primary Article Management_step11_after_blur_publish.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Publish primary article",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Entered content 'This is the primary article content for the Wiki front page.'",
          "expected": "Content should be accepted by the editor",
          "actual": "Content was successfully entered in the rich text editor",
          "screenshot": "Primary Article Management_step10_keyboard_content.png"
        },
        {
          "step_number": 2,
          "action": "Clicked Publish button to create primary article",
          "expected": "Primary article should be created and dialog should close",
          "actual": "Dialog remained open after clicking Publish. No API call to Wiki/Content/Publish endpoint was observed in network requests. The publish action did not complete successfully.",
          "screenshot": "Primary Article Management_step11_after_blur_publish.png"
        }
      ],
      "issues": [
        "Publish button click does not trigger the expected API call to create the primary article",
        "Dialog remains open after clicking Publish, indicating the action did not complete",
        "Possible JavaScript error or Knockout.js binding issue preventing the publish action from executing"
      ]
    },
    {
      "scenario_name": "Edit primary article",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempted to test editing an existing primary article",
          "expected": "Should be able to access and edit an existing primary article",
          "actual": "Unable to test edit functionality because no primary article could be created due to the publish issue. The 'Create article for front page...' link is the only visible option, suggesting no primary article exists for this module.",
          "screenshot": "Primary Article Management_step12_current_state.png"
        }
      ],
      "issues": [
        "Cannot test edit functionality because primary article creation fails",
        "No existing primary article was found in either Wiki module instance on the page"
      ]
    },
    {
      "scenario_name": "Change primary article",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempted to test changing the primary article",
          "expected": "Should be able to change primary article to a different one",
          "actual": "Unable to test change functionality because no primary article exists. The feature depends on having a primary article set first.",
          "screenshot": "Primary Article Management_step12_current_state.png"
        }
      ],
      "issues": [
        "Cannot test change functionality due to inability to create initial primary article",
        "No UI visible for selecting existing article as primary (may require primary article to exist first)"
      ]
    }
  ],
  "observations": [
    "Code review confirms that primary articles are designed to not have a separate title - they use the module's title (ActiveModule.ModuleTitle) as their title",
    "The ContentController.cs code shows SetPrimaryArticle is called after successful article creation via ListController.Instance.SetPrimaryArticle()",
    "Two Wiki module instances exist on the test page (ctr478 with 0 articles, ctr473 with 6 articles), both showing 'Create article for front page...' option",
    "The rich text editor (Redactor) properly loads with formatting toolbar for content creation",
    "Content validation works correctly, showing 'Text is required' when content is empty",
    "A 404 error for json2.js was observed in console, which may contribute to JavaScript functionality issues",
    "The Knockout.js-based content editor model may have binding issues preventing the publish action from completing"
  ],
  "summary": {
    "total_scenarios": 6,
    "passed": 3,
    "failed": 3,
    "pass_rate": "50%"
  }
}
