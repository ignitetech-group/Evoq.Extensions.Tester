{
  "metadata": {
    "extension_name": "Evoq.Social.Wiki",
    "extension_type": "Module",
    "feature_name": "Table of Contents",
    "feature_description": "Automatically generate and display table of contents for articles",
    "feature_priority": "Low",
    "test_date": "2026-02-09T15:47:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Enable TOC option in article creation",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Wiki Test page and enable Edit mode",
          "expected": "Wiki module list appears with article creation option",
          "actual": "Wiki module displayed with 4 existing articles and Create article button",
          "screenshot": "Table of Contents_step05_wiki_articles_list.png"
        },
        {
          "step_number": 2,
          "action": "Click Create article button",
          "expected": "Article creation dialog opens with TOC option",
          "actual": "Create an article dialog opened with 'Display a Table of Contents' checkbox visible and checked by default",
          "screenshot": "Table of Contents_step07_create_article_dialog.png"
        },
        {
          "step_number": 3,
          "action": "Fill article form with title, type, content with h2/h3 headings, and tags",
          "expected": "Form accepts HTML content with headings",
          "actual": "Form accepted all inputs including HTML content with h2 and h3 heading tags. TOC checkbox remained checked.",
          "screenshot": "Table of Contents_step08_article_filled.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify TOC generation from headings",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Wiki article detail page",
          "expected": "Article content with Table of Contents displayed",
          "actual": "Wiki article detail pages render as empty - no content visible. The page loads but only shows header/footer with no Wiki module content.",
          "screenshot": "Table of Contents_step04_wiki_article_view.png"
        }
      ],
      "issues": ["Wiki article detail pages do not render any content in View mode. The Wiki module appears to be misconfigured or the article detail view control is not properly loaded on the page template."]
    }
  ],
  "observations": [
    "The 'Display a Table of Contents' checkbox is present in the article creation dialog and is enabled by default",
    "Code review confirms TableOfContentsController.cs parses h2, h3, h4 headings to generate a tree structure for TOC",
    "Contents.ascx control renders TOC using CSS class 'wiki-toc-container' with JavaScript-based navigation",
    "Wiki article detail pages render empty content - only header/footer visible, preventing TOC verification",
    "The article creation form accepts HTML content with heading tags but publish action may have issues"
  ],
  "summary": {
    "total_scenarios": 2,
    "passed": 1,
    "failed": 1,
    "pass_rate": "50%"
  }
}
