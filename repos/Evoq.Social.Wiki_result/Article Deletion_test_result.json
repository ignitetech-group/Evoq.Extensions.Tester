{
  "metadata": {
    "extension_name": "Evoq.Social.Wiki",
    "extension_type": "Module",
    "feature_name": "Article Deletion",
    "feature_description": "Delete wiki articles with proper cleanup of related data",
    "feature_priority": "High",
    "test_date": "2026-02-09T16:05:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Delete published article via UI",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Wiki Test page and enable edit mode",
          "expected": "Wiki module with articles should be visible",
          "actual": "Wiki module visible in LeftPane showing 6 articles",
          "screenshot": "Article Deletion_step12_wiki_edit_mode_articles.png"
        },
        {
          "step_number": 2,
          "action": "Click on 'Test Article Draft' to access article detail view",
          "expected": "Article detail page should render with article content and Delete button visible for moderators",
          "actual": "Article detail page at /en-us/Wiki-Test/Test-Article-Draft renders empty - no Wiki module content displays. Only header, navigation, trial warning, and footer are visible.",
          "screenshot": "Article Deletion_step16_page_closed_panel.png"
        },
        {
          "step_number": 3,
          "action": "Look for Delete button in article detail view",
          "expected": "Delete button should be visible in the article info panel (for users with CanModerate permission)",
          "actual": "Unable to locate Delete button because article detail page content area is completely empty. The Wiki module is not rendering on article detail pages.",
          "screenshot": "Article Deletion_step14_article_detail_empty.png"
        }
      ],
      "issues": [
        "Article detail pages do not render Wiki module content, preventing access to the Delete button",
        "The Delete functionality exists in code (Article.ascx line 85-87, deleteWiki element) but cannot be tested via UI due to empty article detail pages"
      ]
    },
    {
      "scenario_name": "Delete draft article",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to article detail view for draft article",
          "expected": "Draft article detail page should render with Delete option",
          "actual": "Article detail page is empty - cannot access delete functionality",
          "screenshot": "Article Deletion_step11_article_detail_view.png"
        }
      ],
      "issues": [
        "Cannot test draft article deletion because article detail pages do not render content"
      ]
    },
    {
      "scenario_name": "Test delete confirmation dialog",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Delete button to trigger confirmation dialog",
          "expected": "dnnConfirm dialog should appear with Yes/No options",
          "actual": "Cannot test - Delete button is not accessible because article detail pages render empty",
          "screenshot": "Article Deletion_step16_page_closed_panel.png"
        }
      ],
      "issues": [
        "Cannot test delete confirmation because Delete button is unreachable"
      ]
    },
    {
      "scenario_name": "Verify article removal from list after deletion",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Delete an article and return to article list",
          "expected": "Deleted article should no longer appear in the article list",
          "actual": "Cannot test - prerequisite delete action cannot be performed via UI",
          "screenshot": "Article Deletion_step03_wiki_edit_mode_articles.png"
        }
      ],
      "issues": [
        "Cannot verify article removal because deletion cannot be performed via UI"
      ]
    },
    {
      "scenario_name": "Test cascading deletes (comments, likes)",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Delete an article with associated comments and likes",
          "expected": "All related data (comments, likes, subscriptions, journal entries, revisions) should be removed",
          "actual": "Cannot test via UI - delete action is not accessible",
          "screenshot": "Article Deletion_step16_page_closed_panel.png"
        }
      ],
      "issues": [
        "Cannot test cascading deletes because primary delete action cannot be triggered via UI"
      ]
    },
    {
      "scenario_name": "Delete from notification",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Access notification-based delete functionality",
          "expected": "Ability to delete article from a notification action",
          "actual": "Cannot test - no applicable notifications found and article detail pages do not render",
          "screenshot": "Article Deletion_step16_page_closed_panel.png"
        }
      ],
      "issues": [
        "Notification-based deletion cannot be tested without triggering notifications and having access to article detail view"
      ]
    },
    {
      "scenario_name": "Test delete permissions",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Verify Delete button visibility based on CanModerate permission",
          "expected": "Delete button should only be visible to users with CanModerate permission",
          "actual": "Cannot verify - article detail page does not render any content including the Delete button",
          "screenshot": "Article Deletion_step14_article_detail_empty.png"
        }
      ],
      "issues": [
        "Permission-based visibility of Delete button cannot be tested due to empty article detail pages"
      ]
    }
  ],
  "observations": [
    "Article deletion functionality exists in code: ArticleController.Delete() method (lines 287-331) performs comprehensive cleanup including removing notifications, revisions, comments, journal entries, scoring actions, and subscriptions",
    "Delete button is defined in Article.ascx (lines 85-87) with id='deleteWiki' and is conditionally rendered only when CanModerate is true",
    "Delete confirmation uses dnnConfirm dialog (dnn.wiki.Article.js lines 82-108) which calls the DeletePage API endpoint",
    "DeletePage API endpoint in ContentController.cs (lines 422-443) handles the server-side deletion",
    "NotificationServiceController.cs contains DeleteArticle method (lines 93-122) for notification-based deletion",
    "CRITICAL ISSUE: Article detail pages (e.g., /en-us/Wiki-Test/Test-Article-Draft) do not render any Wiki module content - the main content area is completely empty. This appears to be a module configuration or routing issue.",
    "The Wiki module list view on the main Wiki Test page works correctly and shows 6 articles",
    "Code confirms 'restore deleted article' is NOT a feature - the Delete method permanently removes articles without soft-delete functionality"
  ],
  "summary": {
    "total_scenarios": 7,
    "passed": 0,
    "failed": 7,
    "pass_rate": "0%"
  }
}
