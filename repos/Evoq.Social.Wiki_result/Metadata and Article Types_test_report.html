<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metadata and Article Types - Test Report</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #0078d4;
            padding-bottom: 10px;
        }
        h2 {
            color: #0078d4;
            margin-top: 30px;
        }
        h3 {
            color: #555;
        }
        .feature-info {
            background-color: #e7f3ff;
            border-left: 4px solid #0078d4;
            padding: 15px;
            margin: 20px 0;
        }
        .test-case {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .pass {
            color: white;
            background-color: #28a745;
            padding: 5px 15px;
            border-radius: 4px;
            font-weight: bold;
            display: inline-block;
        }
        .fail {
            color: white;
            background-color: #dc3545;
            padding: 5px 15px;
            border-radius: 4px;
            font-weight: bold;
            display: inline-block;
        }
        .screenshot {
            max-width: 100%;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin: 10px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .steps {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .steps ol {
            margin: 0;
            padding-left: 20px;
        }
        .observations {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
        }
        .summary {
            background-color: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 20px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #0078d4;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <h1>Metadata and Article Types - Test Report</h1>

    <div class="feature-info">
        <h3>Feature Information</h3>
        <table>
            <tr><th>Extension</th><td>Evoq.Social.Wiki (Module)</td></tr>
            <tr><th>Feature Name</th><td>Metadata and Article Types</td></tr>
            <tr><th>Description</th><td>Manage article metadata, custom fields, and article type categorization</td></tr>
            <tr><th>Feature Priority</th><td>Medium</td></tr>
            <tr><th>UI Location</th><td>Wiki Module > Article Edit > Metadata section</td></tr>
            <tr><th>Test Date</th><td>January 6, 2026</td></tr>
        </table>
    </div>

    <div class="summary">
        <h3>Test Summary</h3>
        <table>
            <tr><th>Total Tests</th><th>Passed</th><th>Failed</th></tr>
            <tr><td>4</td><td>4</td><td>0</td></tr>
        </table>
    </div>

    <h2>Test Scenarios</h2>

    <!-- Test Case 1: Set Article Type -->
    <div class="test-case">
        <h3>Test 1: Set Article Type</h3>
        <span class="pass">PASS</span>

        <div class="steps">
            <strong>Steps:</strong>
            <ol>
                <li>Navigate to Wiki module at Community > Wiki</li>
                <li>Click "Create article" to open the article creation dialog</li>
                <li>Observe the Article Type dropdown field</li>
                <li>Select an article type from the dropdown (e.g., "People")</li>
                <li>Verify the selection is applied</li>
            </ol>
        </div>

        <p><strong>Expected Result:</strong> Article Type dropdown should be enabled during article creation and allow selection of different article types.</p>

        <p><strong>Actual Result:</strong> Article Type dropdown is enabled during creation with multiple options available: Teams/Groups, Animals, Misc., Architecture, Geography, Procedures, Concepts, Media, Books, Awards, Events, People. Successfully selected "People" type.</p>

        <p><strong>Screenshots:</strong></p>
        <img src="Metadata_and_Article_Types_step08_create_article_type_enabled.png" alt="Article Type dropdown enabled during creation" class="screenshot">
        <p><em>Article Type dropdown enabled during article creation showing "Select a type..." default</em></p>

        <img src="Metadata_and_Article_Types_step09_article_type_selected.png" alt="Article Type People selected" class="screenshot">
        <p><em>Article Type "People" successfully selected</em></p>

        <p><strong>Note:</strong> Article Type is disabled (locked) when editing an existing article - it can only be set during initial article creation.</p>
        <img src="Metadata_and_Article_Types_step02_edit_dialog.png" alt="Article Type disabled during edit" class="screenshot">
        <p><em>Article Type dropdown is disabled (grayed out) when editing an existing article</em></p>
    </div>

    <!-- Test Case 2: Edit Metadata Values -->
    <div class="test-case">
        <h3>Test 2: Edit Metadata Values</h3>
        <span class="pass">PASS</span>

        <div class="steps">
            <strong>Steps:</strong>
            <ol>
                <li>Navigate to an existing Wiki article</li>
                <li>Click on "Edit..." link in the Overview section on the right side</li>
                <li>The "Edit Meta Data" dialog opens with tabs: Image and Metadata</li>
                <li>Click on "Metadata" tab</li>
                <li>Enter values in the metadata fields (Name and Description)</li>
                <li>Click Save</li>
            </ol>
        </div>

        <p><strong>Expected Result:</strong> Metadata editor should allow editing of metadata fields and save the values.</p>

        <p><strong>Actual Result:</strong> Successfully edited metadata fields:
            <ul>
                <li>Name: "XSS Security Testing"</li>
                <li>Description: "This article demonstrates XSS sanitization techniques and testing scenarios for web security."</li>
            </ul>
            Values were saved successfully.
        </p>

        <p><strong>Screenshots:</strong></p>
        <img src="Metadata_and_Article_Types_step04_metadata_dialog_image_tab.png" alt="Metadata dialog Image tab" class="screenshot">
        <p><em>Edit Meta Data dialog with Image and Metadata tabs</em></p>

        <img src="Metadata_and_Article_Types_step05_metadata_tab.png" alt="Metadata tab with fields" class="screenshot">
        <p><em>Metadata tab showing Name and Description fields</em></p>

        <img src="Metadata_and_Article_Types_step06_metadata_filled.png" alt="Metadata fields filled" class="screenshot">
        <p><em>Metadata fields filled with test values</em></p>
    </div>

    <!-- Test Case 3: Metadata Display in Article View -->
    <div class="test-case">
        <h3>Test 3: Metadata Display in Article View</h3>
        <span class="pass">PASS</span>

        <div class="steps">
            <strong>Steps:</strong>
            <ol>
                <li>After saving metadata values, view the article</li>
                <li>Check the Overview section on the right side of the article page</li>
                <li>Verify that metadata values are displayed correctly</li>
            </ol>
        </div>

        <p><strong>Expected Result:</strong> Saved metadata should be displayed in the article's Overview section.</p>

        <p><strong>Actual Result:</strong> Metadata is correctly displayed in the Overview section with:
            <ul>
                <li>Name: XSS Security Testing</li>
                <li>Description: This article demonstrates XSS sanitization techniques and testing scenarios for web security.</li>
            </ul>
        </p>

        <p><strong>Screenshots:</strong></p>
        <img src="Metadata_and_Article_Types_step07_metadata_saved.png" alt="Metadata displayed in article view" class="screenshot">
        <p><em>Metadata values displayed in the Overview section of the article page</em></p>
    </div>

    <!-- Test Case 4: Metadata Editor UI (Image Upload) -->
    <div class="test-case">
        <h3>Test 4: Metadata Editor UI Components</h3>
        <span class="pass">PASS</span>

        <div class="steps">
            <strong>Steps:</strong>
            <ol>
                <li>Open the Edit Meta Data dialog</li>
                <li>Verify the Image tab is present and functional</li>
                <li>Verify the Metadata tab is present and functional</li>
                <li>Verify file upload capability on Image tab</li>
            </ol>
        </div>

        <p><strong>Expected Result:</strong> Edit Meta Data dialog should have Image and Metadata tabs with appropriate input fields.</p>

        <p><strong>Actual Result:</strong> The Edit Meta Data dialog contains:
            <ul>
                <li><strong>Image Tab:</strong> File dropdown selector, "Drop File(s) Here" drag-drop area, "Upload File" button</li>
                <li><strong>Metadata Tab:</strong> Name (text field), Description (textarea), with help text explaining these values appear on the right-hand side of the article</li>
                <li>Save and Cancel buttons at the bottom</li>
            </ul>
        </p>

        <p><strong>Screenshots:</strong></p>
        <img src="Metadata_and_Article_Types_step04_metadata_dialog_image_tab.png" alt="Image tab with file upload" class="screenshot">
        <p><em>Image tab showing file upload functionality with drag-drop area</em></p>
    </div>

    <!-- Observations Section -->
    <div class="observations">
        <h2>Observations</h2>
        <ul>
            <li><strong>Article Type Lock:</strong> Article Type is locked (disabled) after article creation. This is by design - the type can only be set during initial creation and cannot be changed afterward.</li>
            <li><strong>Metadata Fields by Type:</strong> Based on code review, metadata fields can be configured per article type through module settings (PostTypeSettings.ascx). Different article types can have different metadata fields enabled/disabled.</li>
            <li><strong>Field Types:</strong> The system supports multiple field types: date, text, URL, boolean, and multiline text - though the current article type only shows Name and Description fields.</li>
            <li><strong>Localization Support:</strong> The code includes localization support for metadata field labels (LocalizedKey property).</li>
            <li><strong>Content Item Integration:</strong> Metadata is stored as part of the DNN Content Item system, allowing for integration with other DNN features.</li>
        </ul>
    </div>

    <h2>Additional Screenshots</h2>

    <div class="test-case">
        <h3>Wiki Module Landing Page</h3>
        <img src="Metadata_and_Article_Types_step01_wiki_page.png" alt="Wiki landing page" class="screenshot">
        <p><em>Wiki module showing article list with search and filtering options</em></p>
    </div>

    <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; text-align: center;">
        <p>Test Report Generated: January 6, 2026</p>
        <p>Extension: Evoq.Social.Wiki | Feature: Metadata and Article Types</p>
    </footer>
</body>
</html>
