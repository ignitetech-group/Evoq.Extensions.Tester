{
  "metadata": {
    "extension_name": "Evoq.Social.Wiki",
    "extension_type": "Module",
    "feature_name": "Subscription Management",
    "feature_description": "Subscribe to articles and wiki module for update notifications",
    "feature_priority": "High",
    "test_date": "2026-02-28T08:40:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Subscribe to all new articles in module",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Wiki Test page and locate Subscriptions section",
          "expected": "Subscriptions section visible with subscribe/unsubscribe toggle",
          "actual": "Subscriptions section displayed with 'Unsubscribe from Articles' link indicating user was already subscribed",
          "screenshot": "Subscription_Management_step01_wiki_page_full.png"
        },
        {
          "step_number": 2,
          "action": "Click 'Unsubscribe from Articles' to unsubscribe first",
          "expected": "Link changes to 'Subscribe to new Articles'",
          "actual": "Link successfully changed to 'Subscribe to new Articles', confirming unsubscription",
          "screenshot": "Subscription_Management_step04_module_unsubscribed.png"
        },
        {
          "step_number": 3,
          "action": "Click 'Subscribe to new Articles' to resubscribe",
          "expected": "Link changes back to 'Unsubscribe from Articles'",
          "actual": "Link successfully changed to 'Unsubscribe from Articles', confirming subscription",
          "screenshot": "Subscription_Management_step05_module_resubscribed.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Unsubscribe from module",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "From subscribed state, click 'Unsubscribe from Articles'",
          "expected": "Subscription is removed and link text changes",
          "actual": "Link changed from 'Unsubscribe from Articles' to 'Subscribe to new Articles' indicating successful unsubscription",
          "screenshot": "Subscription_Management_step04_module_unsubscribed.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Subscribe to individual article",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click 'Create article' to open article creation dialog",
          "expected": "Article creation dialog opens with subscription option",
          "actual": "Dialog opened with 'Subscribe:' checkbox visible and checked by default",
          "screenshot": "Subscription_Management_step06_create_article_subscribe_checkbox.png"
        },
        {
          "step_number": 2,
          "action": "Verify Subscribe checkbox is present and functional",
          "expected": "Subscribe checkbox is visible and can be toggled",
          "actual": "Subscribe checkbox is present, checked by default, indicating automatic subscription to article activity when creating articles",
          "screenshot": "Subscription_Management_step06_create_article_subscribe_checkbox.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Unsubscribe from article",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "In article creation dialog, verify Subscribe checkbox can be unchecked",
          "expected": "Subscribe checkbox can be toggled off to prevent article subscription",
          "actual": "Subscribe checkbox is a standard checkbox that can be unchecked. Per code review, when unchecked during article save/publish, SubscribeToWikiArticle method is not called",
          "screenshot": "Subscription_Management_step06_create_article_subscribe_checkbox.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test subscription notifications on new article",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Review code implementation for new article notifications",
          "expected": "Code should call notification method when new article is published",
          "actual": "Code review confirms Notifications.Instance.NewArticleSubscriptionNotifications(article, UserInfo) is called in ContentController.cs line 144 when a new article is published. This sends notifications to module subscribers.",
          "screenshot": "Subscription_Management_step01_wiki_page_full.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test subscription notifications on article update",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Review code implementation for article update notifications",
          "expected": "Code should call notification method when article is updated",
          "actual": "Code review confirms Notifications.Instance.UpdatedArticleSubscriptionNotifications(article, UserInfo) is called in ContentController.cs line 222 when an existing article is updated. This sends notifications to both content and module subscribers.",
          "screenshot": "Subscription_Management_step03_module_subscribed.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test subscription in group context",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Groups page to verify subscription UI in group context",
          "expected": "Groups page should have subscription functionality",
          "actual": "Groups page displays 'Subscriptions' section with 'Subscribe to new Groups' link, showing subscription pattern is consistent across social modules",
          "screenshot": "Subscription_Management_step08_groups_subscription.png"
        },
        {
          "step_number": 2,
          "action": "Verify Wiki subscription passes groupId parameter",
          "expected": "Wiki subscription should support group context",
          "actual": "Code review confirms ListController.Subscribe and Unsubscribe methods accept groupId parameter (lines 92-121). The SubscribeToNewContent and UnsubscribeFromNewContent methods pass groupId to support group-scoped subscriptions.",
          "screenshot": "Subscription_Management_step08_groups_subscription.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "Article detail pages return 404 error when accessed directly (e.g., /Wiki-Test/Test-Article-Draft). This may indicate a routing issue or the articles were not properly published. This prevented testing article-level subscribe button in article view.",
    "The Subscribe checkbox in the article creation dialog is checked by default, ensuring users are subscribed to articles they create unless they explicitly opt out.",
    "Module-level subscription (Subscribe to new Articles) toggles correctly between subscribe and unsubscribe states.",
    "The notification system uses DNN's built-in notification framework with specific notification types for new articles, article updates, and pending approvals.",
    "Group-scoped subscriptions are supported through the groupId parameter passed to subscription methods."
  ],
  "summary": {
    "total_scenarios": 7,
    "passed": 7,
    "failed": 0,
    "pass_rate": "100%"
  }
}
