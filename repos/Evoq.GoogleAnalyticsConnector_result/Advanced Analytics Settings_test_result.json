{
  "metadata": {
    "extension_name": "Evoq.GoogleAnalyticsConnector",
    "extension_type": "Connector",
    "feature_name": "Advanced Analytics Settings",
    "feature_description": "Advanced configuration options including domain name settings and admin tracking preferences with toggle functionality.",
    "feature_priority": "High",
    "test_date": "2026-02-09T14:46:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Configure custom domain name",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Admin > Settings > Connectors > Google Analytics",
          "expected": "Advanced Settings link or dialog with Domain Name field should be accessible",
          "actual": "Only basic GA4 connector settings visible with Measurement ID and Track for Administrators checkbox. No Advanced Settings link found. The domain name configuration feature exists in code (advanced.htm, connector.js) but is NOT exposed in the current UI.",
          "screenshot": "Advanced Analytics Settings_step01_ga_connector_basic.png"
        }
      ],
      "issues": ["Domain Name configuration UI is not accessible. The feature exists in codebase (advanced.htm with domainName field, connector.js with advancedSetting click handler) but the connector.htm template containing the Advanced Settings link is not being loaded in the current Google Analytics 4 connector UI."]
    },
    {
      "scenario_name": "Toggle admin tracking switch on/off",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Google Analytics 4 connector settings",
          "expected": "Toggle switch for admin tracking with On/Off labels as described in advanced.htm",
          "actual": "Found a simple checkbox labeled 'Track for Administrators:' instead of a toggle switch with On/Off labels. The toggle switch UI (dnn-switch-container with On/Off text) defined in advanced.htm is not accessible.",
          "screenshot": "Advanced Analytics Settings_step01_ga_connector_basic.png"
        }
      ],
      "issues": ["The toggle switch UI with On/Off labels (as designed in advanced.htm) is not accessible. Only a basic checkbox is available in the current GA4 connector interface."]
    },
    {
      "scenario_name": "Enable tracking for administrators",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Open Google Analytics 4 connector settings",
          "expected": "Track for Administrators option should be visible",
          "actual": "Track for Administrators checkbox is visible and unchecked by default",
          "screenshot": "Advanced Analytics Settings_step01_ga_connector_basic.png"
        },
        {
          "step_number": 2,
          "action": "Click the Track for Administrators checkbox to enable",
          "expected": "Checkbox should become checked",
          "actual": "Checkbox became checked successfully",
          "screenshot": "Advanced Analytics Settings_step04_track_admin_enabled.png"
        },
        {
          "step_number": 3,
          "action": "Click Save button",
          "expected": "Settings should be saved with success message",
          "actual": "Item successfully saved message displayed",
          "screenshot": "Advanced Analytics Settings_step05_track_admin_saved.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Disable tracking for administrators",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "With tracking enabled, click the Track for Administrators checkbox to disable",
          "expected": "Checkbox should become unchecked",
          "actual": "Checkbox became unchecked successfully",
          "screenshot": "Advanced Analytics Settings_step06_track_admin_disabled.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Settings should be saved",
          "actual": "Item successfully saved message displayed",
          "screenshot": "Advanced Analytics Settings_step07_track_admin_disabled_saved.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Save advanced settings",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter Measurement ID (G-TEST12345) and enable Track for Administrators",
          "expected": "Values should be accepted in the form",
          "actual": "Values entered successfully",
          "screenshot": "Advanced Analytics Settings_step09_ga4_format_id.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Settings should save successfully",
          "actual": "Item successfully saved message displayed, green checkmark appeared next to connector name",
          "screenshot": "Advanced Analytics Settings_step10_ga4_saved.png"
        },
        {
          "step_number": 3,
          "action": "Close and reopen connector settings to verify persistence",
          "expected": "Settings should persist after closing/reopening",
          "actual": "Settings (G-TEST12345 and Track for Administrators checked) persisted correctly",
          "screenshot": "Advanced Analytics Settings_step11_settings_persisted.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify domain name validation",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to access domain name configuration",
          "expected": "Domain Name field should be accessible for validation testing",
          "actual": "Domain Name field is not accessible in the UI. Cannot test validation.",
          "screenshot": "Advanced Analytics Settings_step01_ga_connector_basic.png"
        }
      ],
      "issues": ["Cannot test domain name validation - the Domain Name field is not exposed in the current Google Analytics 4 connector UI."]
    },
    {
      "scenario_name": "Test empty domain configuration",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to test empty domain configuration behavior",
          "expected": "Empty domain should use 'none' as per code logic",
          "actual": "Cannot test - Domain Name configuration is not accessible in the current UI",
          "screenshot": "Advanced Analytics Settings_step01_ga_connector_basic.png"
        }
      ],
      "issues": ["Cannot test empty domain configuration - the Domain Name field is not exposed in the current Google Analytics 4 connector UI."]
    }
  ],
  "observations": [
    "CRITICAL: The 'Advanced Analytics Settings' feature as described (with Domain Name configuration, Admin Tracking toggle switch with On/Off labels, and Segmentation Rules) exists fully implemented in the codebase but is NOT accessible through the current UI.",
    "Code files confirm the feature implementation: advanced.htm contains Domain Name input and toggle switch UI, connector.js contains advancedSetting click handler and save logic, GoogleAnalyticsConnector.cs handles DomainName and TrackForAdmin configuration storage.",
    "The connector.htm template (which contains the '.advancedSetting' link to open the advanced dialog) is not being used by the current 'Google Analytics 4' connector.",
    "The current UI only shows a simplified GA4 connector with: Measurement ID field and Track for Administrators checkbox (not toggle switch).",
    "There is NO separate 'Google Analytics' (Universal Analytics) connector in the connectors list that might use the full feature set.",
    "The 'Track for Administrators' functionality IS partially available via a basic checkbox in the GA4 connector (but without the toggle switch UI design).",
    "Settings persistence works correctly when using GA4-format Measurement IDs (G-xxxx prefix)."
  ],
  "summary": {
    "total_scenarios": 7,
    "passed": 3,
    "failed": 4,
    "pass_rate": "43%"
  }
}
