{
  "metadata": {
    "extension_name": "ContentLayout",
    "extension_type": "Module",
    "feature_name": "Custom Column Sizing",
    "feature_description": "Allows users to set custom column widths beyond predefined templates using percentage values.",
    "feature_priority": "High",
    "test_date": "2026-01-16T12:27:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Update layout with custom column sizes",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigated to Home page and entered Edit Mode",
          "expected": "Page enters edit mode with Content Layout module visible",
          "actual": "Edit mode activated, Content Layout module (ctr364) with F30A_Pane1/F30A_Pane2 columns visible",
          "screenshot": "Custom Column Sizing_step01_edit_mode.png"
        },
        {
          "step_number": 2,
          "action": "Located Content Layout module with 2-column layout",
          "expected": "Content Layout module with resizable columns visible",
          "actual": "Found Content Layout module with columns showing 50%/50% default layout",
          "screenshot": "Custom Column Sizing_step02_content_layout_module.png"
        },
        {
          "step_number": 3,
          "action": "Hovered over resize handle between columns",
          "expected": "Percentage indicators should appear",
          "actual": "Percentage labels (50%/50%) appeared on both columns when hovering over resize handle",
          "screenshot": "Custom Column Sizing_step03_hover_shows_percentages.png"
        },
        {
          "step_number": 4,
          "action": "Dragged resize handle to change column sizes",
          "expected": "Columns resize to new custom percentages",
          "actual": "Successfully resized columns to 34%/66% via drag operation",
          "screenshot": "Custom Column Sizing_step04_after_resize.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Validate column size format",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Reviewed ColumnSizesHelper.cs IsValidColumnSizes method",
          "expected": "Validation should check for valid format: max 3 comma-separated values, positive numbers, total <= 99%",
          "actual": "Code confirms validation rules: max 3 values, positive numbers only, total must be <= 99%, uses invariant culture for parsing",
          "screenshot": "Custom Column Sizing_step05_new_custom_sizes_34_66.png"
        },
        {
          "step_number": 2,
          "action": "Observed UI applying valid custom sizes via drag resize",
          "expected": "Valid percentage values are accepted",
          "actual": "Custom sizes (34%/66%, 91%/9%) were successfully applied and saved via API",
          "screenshot": "Custom Column Sizing_step07_persistence_draft_state.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test invalid column size rejection",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Reviewed validation logic in ColumnSizesHelper.cs and ContentLayoutController.cs",
          "expected": "Invalid column sizes should be rejected with appropriate error",
          "actual": "Code confirms: empty/whitespace rejected, >3 columns rejected, non-numeric values rejected, negative/zero values rejected, total >99% rejected. ArgumentException thrown with localized error message.",
          "screenshot": "Custom Column Sizing_step08_css_class_verification.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify CSS class generation for custom sizes",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Inspected CSS classes on column panes via browser developer tools",
          "expected": "Bootstrap grid CSS classes should be applied",
          "actual": "Columns have Bootstrap classes: col-lg-6 col-md-6 col-sm-6 col-xs-12 (base responsive grid)",
          "screenshot": "Custom Column Sizing_step08_css_class_verification.png"
        },
        {
          "step_number": 2,
          "action": "Verified inline styles for custom widths",
          "expected": "Custom percentage widths applied via inline styles",
          "actual": "Inline styles correctly set: Pane1 has style='width: 91%', Pane2 has style='width: 9%'. Custom widths override Bootstrap grid percentages.",
          "screenshot": "Custom Column Sizing_step08_css_class_verification.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test responsive behavior with custom sizes",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Resized browser to mobile width (480px)",
          "expected": "Columns should respond to viewport change",
          "actual": "At 480px width, custom inline styles (91%/9%) are maintained, overriding Bootstrap col-xs-12 stacking. Pane1 computed to 308px, Pane2 to 30px.",
          "screenshot": "Custom Column Sizing_step09_responsive_mobile.png"
        },
        {
          "step_number": 2,
          "action": "Verified columns maintain custom proportions at mobile size",
          "expected": "Custom sizes persist at different viewport sizes",
          "actual": "Custom percentage ratios maintained via inline styles regardless of viewport size. This is expected behavior - inline styles take precedence over CSS classes.",
          "screenshot": "Custom Column Sizing_step09_responsive_mobile.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify custom size persistence",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "After resizing columns, reloaded the page",
          "expected": "Custom column sizes should persist after reload",
          "actual": "After page reload, columns displayed 91%/9% (draft state from versioning system). This confirms sizes are saved via UpdateLayoutWithColumnSizes API.",
          "screenshot": "Custom Column Sizing_step06_after_reload.png"
        },
        {
          "step_number": 2,
          "action": "Verified persisted sizes in edit mode",
          "expected": "Percentage labels should show saved values",
          "actual": "Edit mode shows 91%/9% column sizes with percentage labels visible on hover. Changes tracked in version controller for draft/publish workflow.",
          "screenshot": "Custom Column Sizing_step07_persistence_draft_state.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "Custom column sizes are saved via the UpdateLayoutWithColumnSizes API endpoint which calls ContentLayoutController.UpdateLayoutWithColumnSizes",
    "Validation is performed by ColumnSizesHelper.IsValidColumnSizes: max 3 columns, positive numbers, total <= 99%",
    "CSS class generation uses predefined mappings for common layouts (25%, 50%, 75%, 33,33, etc.) and falls back to equal-width columns for custom sizes",
    "Custom percentage widths are applied via inline styles which override Bootstrap grid classes",
    "Changes are tracked via VersionController for draft/publish workflow - unpublished changes persist in draft state",
    "The AreCustomColumnSizes flag is set to true when column sizes don't match any predefined template",
    "jQuery UI Resizable is used for interactive column resizing in edit mode, with minimum width constraints (5% minimum visible)"
  ],
  "summary": {
    "total_scenarios": 6,
    "passed": 6,
    "failed": 0,
    "pass_rate": "100%"
  }
}
