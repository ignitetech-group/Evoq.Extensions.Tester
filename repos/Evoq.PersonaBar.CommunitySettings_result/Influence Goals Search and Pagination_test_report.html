<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Report: Influence Goals Search and Pagination</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 15px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        h3 {
            color: #7f8c8d;
        }
        .summary {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .summary-item {
            display: inline-block;
            margin-right: 30px;
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: bold;
        }
        .pass { background: #27ae60; color: white; }
        .fail { background: #e74c3c; color: white; }
        .na { background: #95a5a6; color: white; }
        .info { background: #3498db; color: white; }
        .test-case {
            border: 1px solid #ddd;
            margin: 20px 0;
            border-radius: 5px;
            overflow: hidden;
        }
        .test-header {
            background: #34495e;
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .test-header .status {
            padding: 5px 15px;
            border-radius: 3px;
            font-weight: bold;
        }
        .test-header .status.pass { background: #27ae60; }
        .test-header .status.fail { background: #e74c3c; }
        .test-header .status.na { background: #95a5a6; }
        .test-body {
            padding: 20px;
        }
        .steps {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .steps ol {
            margin: 0;
            padding-left: 20px;
        }
        .steps li {
            margin: 8px 0;
        }
        .screenshot {
            margin: 15px 0;
            text-align: center;
        }
        .screenshot img {
            max-width: 100%;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .screenshot-caption {
            color: #7f8c8d;
            font-style: italic;
            margin-top: 10px;
        }
        .observation {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .observation-title {
            font-weight: bold;
            color: #856404;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background: #34495e;
            color: white;
        }
        tr:nth-child(even) {
            background: #f9f9f9;
        }
        .feature-info {
            background: #e8f4fd;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Test Report: Influence Goals Search and Pagination</h1>

        <div class="feature-info">
            <h3>Feature Information</h3>
            <table>
                <tr><th>Extension</th><td>Evoq.PersonaBar.CommunitySettings</td></tr>
                <tr><th>Feature Name</th><td>Influence Goals Search and Pagination</td></tr>
                <tr><th>Feature Priority</th><td>High</td></tr>
                <tr><th>UI Location</th><td>Admin > Settings > Community Settings > Influence tab</td></tr>
                <tr><th>Description</th><td>Search, sort, and paginate through influence goals with configurable page sizes and multi-column sorting.</td></tr>
                <tr><th>Test Date</th><td>December 30, 2025</td></tr>
            </table>
        </div>

        <div class="summary">
            <h3>Test Summary</h3>
            <span class="summary-item pass">Passed: 10</span>
            <span class="summary-item fail">Failed: 0</span>
            <span class="summary-item na">N/A: 1</span>
            <span class="summary-item info">Total: 11</span>
        </div>

        <h2>Test Results</h2>

        <!-- Test Case 1: Navigation -->
        <div class="test-case">
            <div class="test-header">
                <span>Test 1: Navigate to Influence Tab</span>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-body">
                <p><strong>Objective:</strong> Navigate to Admin > Settings > Community Settings > Influence tab</p>
                <div class="steps">
                    <ol>
                        <li>Logged in as host/superuser</li>
                        <li>Accessed PersonaBar Settings</li>
                        <li>Community Settings panel opened with Influence section visible</li>
                    </ol>
                </div>
                <div class="screenshot">
                    <img src="Influence_Goals_Search_and_Pagination_step01_login_page.png" alt="Login Page">
                    <p class="screenshot-caption">Step 1: Login page</p>
                </div>
                <div class="screenshot">
                    <img src="Influence_Goals_Search_and_Pagination_step02_influence_tab.png" alt="Influence Tab">
                    <p class="screenshot-caption">Step 2: Influence Goals tab showing 14 items with search, sort, and pagination controls</p>
                </div>
                <p><strong>Result:</strong> Successfully navigated to Influence Goals section. Table displays Goal Type, Weight, Value columns with 14 total items.</p>
            </div>
        </div>

        <!-- Test Case 2: Search by Keyword -->
        <div class="test-case">
            <div class="test-header">
                <span>Test 2: Search by Keyword</span>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-body">
                <p><strong>Objective:</strong> Verify search filters results by goal type/title keyword</p>
                <div class="steps">
                    <ol>
                        <li>Entered "likes" in the search filter box</li>
                        <li>Waited for search throttle (500ms) to trigger</li>
                        <li>Verified filtered results</li>
                    </ol>
                </div>
                <div class="screenshot">
                    <img src="Influence_Goals_Search_and_Pagination_step03_search_likes.png" alt="Search Results">
                    <p class="screenshot-caption">Search for "likes" returns 2 matching items</p>
                </div>
                <p><strong>Result:</strong> Search returned 2 items containing "likes": "The average number of likes per post..." and "The total number of likes..."</p>
            </div>
        </div>

        <!-- Test Case 3: Case-Insensitive Search -->
        <div class="test-case">
            <div class="test-header">
                <span>Test 3: Case-Insensitive Search</span>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-body">
                <p><strong>Objective:</strong> Verify search is case-insensitive</p>
                <div class="steps">
                    <ol>
                        <li>Searched with "LIKES" (uppercase)</li>
                        <li>Verified same results as lowercase search</li>
                    </ol>
                </div>
                <div class="screenshot">
                    <img src="Influence_Goals_Search_and_Pagination_step04_case_insensitive.png" alt="Case Insensitive Search">
                    <p class="screenshot-caption">"LIKES" (uppercase) returns same 2 items as "likes" (lowercase)</p>
                </div>
                <p><strong>Result:</strong> Case-insensitive search confirmed. Both "likes" and "LIKES" return identical results.</p>
            </div>
        </div>

        <!-- Test Case 4: Empty Search Results -->
        <div class="test-case">
            <div class="test-header">
                <span>Test 4: Empty Search Results Message</span>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-body">
                <p><strong>Objective:</strong> Verify empty search results display appropriate message</p>
                <div class="steps">
                    <ol>
                        <li>Searched for "xyznotfound" (non-existent term)</li>
                        <li>Verified empty results message</li>
                    </ol>
                </div>
                <div class="screenshot">
                    <img src="Influence_Goals_Search_and_Pagination_step05_empty_search.png" alt="Empty Search Results">
                    <p class="screenshot-caption">Search for non-existent term shows "Showing 0 items"</p>
                </div>
                <p><strong>Result:</strong> Empty search correctly displays "Showing 0 items" with empty table.</p>
            </div>
        </div>

        <!-- Test Case 5: Sort by Goal Type -->
        <div class="test-case">
            <div class="test-header">
                <span>Test 5: Sort by Goal Type (Descending)</span>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-body">
                <p><strong>Objective:</strong> Verify sorting by Goal Type column</p>
                <div class="steps">
                    <ol>
                        <li>Clicked on "Goal Type" column header</li>
                        <li>Toggled from ascending to descending order</li>
                        <li>Verified items sorted in reverse alphabetical order</li>
                    </ol>
                </div>
                <div class="screenshot">
                    <img src="Influence_Goals_Search_and_Pagination_step06_sort_goaltype_desc.png" alt="Sort Goal Type Descending">
                    <p class="screenshot-caption">Goal Type sorted descending - "The total number..." items appear first</p>
                </div>
                <p><strong>Result:</strong> Sorting by Goal Type works correctly. Toggle between ascending/descending on click.</p>
            </div>
        </div>

        <!-- Test Case 6: Sort by Weight -->
        <div class="test-case">
            <div class="test-header">
                <span>Test 6: Sort by Weight (Ascending)</span>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-body">
                <p><strong>Objective:</strong> Verify sorting by Weight column</p>
                <div class="steps">
                    <ol>
                        <li>Clicked on "Weight" column header</li>
                        <li>Verified items sorted by Weight value ascending</li>
                    </ol>
                </div>
                <div class="screenshot">
                    <img src="Influence_Goals_Search_and_Pagination_step07_sort_weight_asc.png" alt="Sort Weight Ascending">
                    <p class="screenshot-caption">Weight column sorted ascending (1, 1, 1, 1, 1, 2, 2, 2, 4, 10)</p>
                </div>
                <p><strong>Result:</strong> Sorting by Weight works correctly. Column header shows sort indicator.</p>
            </div>
        </div>

        <!-- Test Case 7: Sort by Value -->
        <div class="test-case">
            <div class="test-header">
                <span>Test 7: Sort by Value (Ascending)</span>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-body">
                <p><strong>Objective:</strong> Verify sorting by Value column</p>
                <div class="steps">
                    <ol>
                        <li>Clicked on "Value" column header</li>
                        <li>Verified items sorted by Value ascending</li>
                    </ol>
                </div>
                <div class="screenshot">
                    <img src="Influence_Goals_Search_and_Pagination_step08_sort_value_asc.png" alt="Sort Value Ascending">
                    <p class="screenshot-caption">Value column sorted ascending (1, 1, 1, 2, 3, 3, 5, 10, 25, 50)</p>
                </div>
                <p><strong>Result:</strong> Sorting by Value works correctly.</p>
            </div>
        </div>

        <!-- Test Case 8: Pagination - Next -->
        <div class="test-case">
            <div class="test-header">
                <span>Test 8: Pagination - Navigate to Next Page</span>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-body">
                <p><strong>Objective:</strong> Verify pagination navigation using Next button</p>
                <div class="steps">
                    <ol>
                        <li>Started on Page 1 of 2 (showing 1-10 of 13 items)</li>
                        <li>Clicked "Next" button</li>
                        <li>Verified navigation to Page 2</li>
                    </ol>
                </div>
                <div class="screenshot">
                    <img src="Influence_Goals_Search_and_Pagination_step09_pagination_page2.png" alt="Pagination Page 2">
                    <p class="screenshot-caption">Page 2 of 2 - Showing items 11-13 of 13</p>
                </div>
                <p><strong>Result:</strong> Next button successfully navigates to page 2, displaying remaining 3 items.</p>
            </div>
        </div>

        <!-- Test Case 9: Pagination - Previous -->
        <div class="test-case">
            <div class="test-header">
                <span>Test 9: Pagination - Navigate to Previous Page</span>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-body">
                <p><strong>Objective:</strong> Verify pagination navigation using Prev button</p>
                <div class="steps">
                    <ol>
                        <li>Started on Page 2 of 2</li>
                        <li>Clicked "Prev" button</li>
                        <li>Verified navigation back to Page 1</li>
                    </ol>
                </div>
                <div class="screenshot">
                    <img src="Influence_Goals_Search_and_Pagination_step10_pagination_page1.png" alt="Pagination Page 1">
                    <p class="screenshot-caption">Page 1 of 2 - Showing items 1-10 of 13</p>
                </div>
                <p><strong>Result:</strong> Prev button successfully navigates back to page 1.</p>
            </div>
        </div>

        <!-- Test Case 10: Search Throttling -->
        <div class="test-case">
            <div class="test-header">
                <span>Test 10: Search Throttling (500ms Delay)</span>
                <span class="status pass">PASS</span>
            </div>
            <div class="test-body">
                <p><strong>Objective:</strong> Verify search has throttling to prevent excessive API calls</p>
                <div class="steps">
                    <ol>
                        <li>Reviewed source code: CommunitySettings.js line 477</li>
                        <li>Confirmed: <code>searchTextThrottle = setTimeout(searchInfluenceStart, 500);</code></li>
                        <li>Observed throttled behavior during search testing</li>
                    </ol>
                </div>
                <p><strong>Result:</strong> Search throttling implemented with 500ms delay. Code confirmed in CommunitySettings.js.</p>
            </div>
        </div>

        <!-- Test Case 11: Page Size Changes -->
        <div class="test-case">
            <div class="test-header">
                <span>Test 11: Change Page Size</span>
                <span class="status na">N/A</span>
            </div>
            <div class="test-body">
                <p><strong>Objective:</strong> Verify ability to change page size to 5, 10, 25, 50 items</p>
                <div class="observation">
                    <p class="observation-title">Finding:</p>
                    <p>The Influence Goals table does NOT have a configurable page size selector in the UI. The page size is fixed at 10 items per page, as defined in code: <code>pager.init(influenceViewModel, 10, searchInfluence, ...)</code></p>
                    <p>The "Page Size" dropdown visible in the Miscellaneous Community Settings section is for other community features (content lists), not for the Influence Goals table.</p>
                </div>
                <p><strong>Result:</strong> Test scenario not applicable - page size is fixed at 10 items.</p>
            </div>
        </div>

        <!-- MinValue/MaxValue Sorting Note -->
        <div class="test-case">
            <div class="test-header">
                <span>Note: MinValue/MaxValue Sorting</span>
                <span class="status na">N/A</span>
            </div>
            <div class="test-body">
                <div class="observation">
                    <p class="observation-title">Finding:</p>
                    <p>The MinValue and MaxValue columns are NOT displayed in the Influence Goals table grid. These fields are only visible in the edit form when editing an individual influence goal. Therefore, sorting by MinValue/MaxValue cannot be tested from the main grid view.</p>
                </div>
            </div>
        </div>

        <h2>Summary & Conclusions</h2>
        <div class="feature-info">
            <h3>Test Coverage</h3>
            <table>
                <tr><th>Scenario</th><th>Status</th><th>Notes</th></tr>
                <tr><td>Search by goal type keyword</td><td class="pass">PASS</td><td>Working correctly</td></tr>
                <tr><td>Search by title keyword</td><td class="pass">PASS</td><td>Working correctly</td></tr>
                <tr><td>Case-insensitive search</td><td class="pass">PASS</td><td>Confirmed</td></tr>
                <tr><td>Empty search results message</td><td class="pass">PASS</td><td>Shows "Showing 0 items"</td></tr>
                <tr><td>Sort by GoalType</td><td class="pass">PASS</td><td>Ascending/Descending toggle works</td></tr>
                <tr><td>Sort by Weight</td><td class="pass">PASS</td><td>Working correctly</td></tr>
                <tr><td>Sort by Value</td><td class="pass">PASS</td><td>Working correctly</td></tr>
                <tr><td>Sort by MinValue</td><td>N/A</td><td>Column not visible in grid</td></tr>
                <tr><td>Sort by MaxValue</td><td>N/A</td><td>Column not visible in grid</td></tr>
                <tr><td>Pagination - Next</td><td class="pass">PASS</td><td>Working correctly</td></tr>
                <tr><td>Pagination - Previous</td><td class="pass">PASS</td><td>Working correctly</td></tr>
                <tr><td>Page size change</td><td>N/A</td><td>Fixed at 10 items, no selector</td></tr>
                <tr><td>Search throttling (500ms)</td><td class="pass">PASS</td><td>Confirmed in code</td></tr>
            </table>
        </div>

        <div class="observation">
            <p class="observation-title">Recommendations:</p>
            <ul>
                <li>Consider adding a page size selector for the Influence Goals table if users need to view more items per page</li>
                <li>Consider adding MinValue and MaxValue columns to the grid for better visibility without editing</li>
            </ul>
        </div>

        <p style="text-align: center; color: #7f8c8d; margin-top: 40px;">
            Report generated on December 30, 2025 | Evoq.PersonaBar.CommunitySettings Feature Testing
        </p>
    </div>
</body>
</html>
