{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.UrlManagement",
    "extension_type": "PersonaBar Module",
    "feature_name": "Custom URL Creation",
    "feature_description": "Create and manage custom friendly URLs for pages with support for multiple locales and portal aliases",
    "feature_priority": "Top",
    "test_date": "2026-02-09T12:00:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Create valid custom URL with standard path",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Content > Pages > Test Page One > Advanced > S.E.O. tab",
          "expected": "S.E.O. tab should display URLs for this page section",
          "actual": "S.E.O. tab displayed with URLs for this page section showing existing URLs",
          "screenshot": "Custom URL Creation_step02_page_seo_urls.png"
        },
        {
          "step_number": 2,
          "action": "Click Add URL button",
          "expected": "Add URL form should appear with Site Alias, URL Path, and URL Type fields",
          "actual": "Add URL form appeared with all expected fields",
          "screenshot": "Custom URL Creation_step03_add_url_form.png"
        },
        {
          "step_number": 3,
          "action": "Enter /my-custom-url in URL Path field",
          "expected": "URL path should be accepted and Save button should be enabled",
          "actual": "URL path entered successfully, Save button enabled",
          "screenshot": "Custom URL Creation_step04_url_entered.png"
        },
        {
          "step_number": 4,
          "action": "Click Save button",
          "expected": "Custom URL should be created and appear in the URL list",
          "actual": "Custom URL /my-custom-url created successfully with Active (200) status and SuperUser Account as generator",
          "screenshot": "Custom URL Creation_step05_url_created.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Create custom URL with special characters - URL cleaning",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add URL and enter /my special url & test! in URL Path field",
          "expected": "Form should accept the input",
          "actual": "Input accepted in the URL Path field",
          "screenshot": "Custom URL Creation_step06_special_chars_entered.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "System should clean the URL and suggest a valid alternative",
          "actual": "System detected special characters, showed error 'The submitted URL is not available' and suggested /my-special-url-test as the cleaned alternative",
          "screenshot": "Custom URL Creation_step07_special_chars_cleaned.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Attempt duplicate URL creation - verify error handling",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add URL and enter existing URL /my-custom-url",
          "expected": "System should detect the duplicate",
          "actual": "URL path entered in the form",
          "screenshot": "Custom URL Creation_step08_duplicate_error.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "System should reject duplicate and suggest alternative",
          "actual": "System displayed 'The submitted URL is not available' error and suggested /my-custom-url1 as alternative",
          "screenshot": "Custom URL Creation_step08_duplicate_error.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Create URL with different status codes (301 Redirect)",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add URL and change URL Type dropdown from Active (200) to Redirect (301)",
          "expected": "URL Type should change to Redirect (301) and Query String field should appear",
          "actual": "URL Type changed to Redirect (301) and Query String field appeared",
          "screenshot": "Custom URL Creation_step09_301_redirect.png"
        },
        {
          "step_number": 2,
          "action": "Enter /old-page-url in URL Path field",
          "expected": "URL path should be accepted",
          "actual": "URL path entered successfully",
          "screenshot": "Custom URL Creation_step10_301_with_querystring.png"
        },
        {
          "step_number": 3,
          "action": "Click Save button",
          "expected": "301 Redirect URL should be created",
          "actual": "URL /old-page-url created with Redirect (301) status",
          "screenshot": "Custom URL Creation_step11_301_saved.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Create URL with query string parameters",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Select Redirect (301) URL Type which reveals Query String field",
          "expected": "Query String field should be visible",
          "actual": "Query String field appeared when Redirect (301) was selected",
          "screenshot": "Custom URL Creation_step09_301_redirect.png"
        },
        {
          "step_number": 2,
          "action": "Enter ?ref=redirect in Query String field with /old-page-url path",
          "expected": "Query string should be accepted",
          "actual": "Query string ?ref=redirect entered successfully",
          "screenshot": "Custom URL Creation_step10_301_with_querystring.png"
        },
        {
          "step_number": 3,
          "action": "Click Save button",
          "expected": "URL with query string should be created",
          "actual": "URL created successfully with query string parameter",
          "screenshot": "Custom URL Creation_step11_301_saved.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Validate required fields - empty/minimal path",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add URL and observe the form with default / path",
          "expected": "Save button should be disabled with only / in the path",
          "actual": "Form opened with default / in URL Path, Save button initially disabled",
          "screenshot": "Custom URL Creation_step12_empty_path_disabled.png"
        },
        {
          "step_number": 2,
          "action": "Attempt to save with just / in the URL Path",
          "expected": "System should reject the root-only URL",
          "actual": "System rejected / as invalid, displayed 'The submitted URL is not available' and suggested /1 as alternative",
          "screenshot": "Custom URL Creation_step14_slash_error.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Edit existing custom URL",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click edit icon (second icon) on /my-custom-url entry",
          "expected": "Edit form should open with current URL details",
          "actual": "Edit form opened with Site Alias, URL Path (/my-custom-url), and URL Type (Active 200) fields",
          "screenshot": "Custom URL Creation_step16_edit_form_opened.png"
        },
        {
          "step_number": 2,
          "action": "Change URL Path from /my-custom-url to /my-custom-url-edited",
          "expected": "Save button should become enabled",
          "actual": "URL Path changed and Save button became enabled",
          "screenshot": "Custom URL Creation_step17_edit_url_changed.png"
        },
        {
          "step_number": 3,
          "action": "Click Save button",
          "expected": "URL should be updated",
          "actual": "URL updated successfully. System automatically created a 301 redirect from the old URL (/my-custom-url) to the new URL (/my-custom-url-edited)",
          "screenshot": "Custom URL Creation_step18_edit_saved_with_redirect.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Delete custom URL",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click delete icon (first icon) on /my-custom-url redirect entry",
          "expected": "Delete confirmation dialog should appear",
          "actual": "Confirmation dialog appeared with 'Are you sure you want to remove this URL?' message and Cancel/Delete buttons",
          "screenshot": "Custom URL Creation_step19_delete_confirmation.png"
        },
        {
          "step_number": 2,
          "action": "Click Delete button to confirm",
          "expected": "URL should be removed from the list",
          "actual": "URL /my-custom-url was removed from the list. Other URLs remain intact.",
          "screenshot": "Custom URL Creation_step20_url_deleted.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "Custom URLs are managed at the page level under Content > Pages > [Page] > Advanced > S.E.O. tab, not in a centralized URL Management section",
    "The URL cleaning functionality uses FriendlyUrlController.CleanNameForUrl() which removes special characters and replaces spaces with hyphens",
    "When editing a custom URL path, the system automatically creates a 301 redirect from the old URL to maintain backwards compatibility",
    "The Query String field only appears when URL Type is set to Redirect (301), not for Active (200) URLs",
    "The UI has two icons per custom URL: first icon is delete (trash), second icon is edit (pencil) - order is reversed from typical conventions",
    "Duplicate URL detection uses FriendlyUrlController.ValidateUrl() and suggests incrementing numbers as alternatives",
    "Site Alias dropdown allows selecting different portal aliases including language-specific ones (e.g., localhost:8081/en-us, localhost:8081/es-es)"
  ],
  "summary": {
    "total_scenarios": 8,
    "passed": 8,
    "failed": 0,
    "pass_rate": "100%"
  }
}
