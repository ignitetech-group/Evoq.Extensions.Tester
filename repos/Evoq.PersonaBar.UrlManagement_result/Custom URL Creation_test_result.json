{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.UrlManagement",
    "extension_type": "PersonaBar Module",
    "feature_name": "Custom URL Creation",
    "feature_description": "Create and manage custom friendly URLs for pages with support for multiple locales and portal aliases",
    "feature_priority": "Top",
    "test_date": "2026-01-16T12:00:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Create valid custom URL with standard path",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Content > Pages > URL Test Page > Advanced > S.E.O.",
          "expected": "URL Management panel should appear",
          "actual": "URL Management panel appeared with 'URLs for this page' section",
          "screenshot": "Custom_URL_Creation_step01_url_management_panel.png"
        },
        {
          "step_number": 2,
          "action": "Click 'Add URL' button",
          "expected": "Add URL form should appear",
          "actual": "Add URL form appeared with Site Alias, URL Path, and URL Type fields",
          "screenshot": "Custom_URL_Creation_step02_add_url_form.png"
        },
        {
          "step_number": 3,
          "action": "Enter '/my-test-custom-url-2026' in URL Path field",
          "expected": "URL path should be entered",
          "actual": "URL path was entered successfully",
          "screenshot": "Custom_URL_Creation_step03_valid_url_entered.png"
        },
        {
          "step_number": 4,
          "action": "Click Save button",
          "expected": "URL should be created and appear in the list",
          "actual": "URL was created successfully and appeared in the URLs list",
          "screenshot": "Custom_URL_Creation_step04_valid_url_created.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Create custom URL with special characters requiring cleaning",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add URL and enter '/test url with spaces & special! @#$'",
          "expected": "URL path with special characters should be entered",
          "actual": "URL path was entered",
          "screenshot": "Custom_URL_Creation_step05_special_chars_entered.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "System should clean the URL and show error with suggested path",
          "actual": "Error displayed: 'The custom URL path has been cleaned.' Suggested path: '/test-url-with-spaces-special'",
          "screenshot": "Custom_URL_Creation_step06_special_chars_cleaned.png"
        },
        {
          "step_number": 3,
          "action": "Accept the suggested cleaned URL by clicking Save again",
          "expected": "Cleaned URL should be created",
          "actual": "URL '/test-url-with-spaces-special' was created successfully",
          "screenshot": "Custom_URL_Creation_step07_special_chars_url_created.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Attempt to create duplicate URL and verify error handling",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add URL and enter '/URL-Test-Page' (existing automatic URL)",
          "expected": "System should allow creation since automatic URLs are not checked against custom URLs",
          "actual": "URL was created - system does not check against automatic URLs, only custom URLs",
          "screenshot": "Custom_URL_Creation_step09_duplicate_url_result.png"
        },
        {
          "step_number": 2,
          "action": "Try to add '/URL-Test-Page' again (now exists as custom URL)",
          "expected": "System should detect duplicate and show error",
          "actual": "Error displayed: 'The submitted URL is not available. If you wish to accept the suggested alternative, please click Save.' Suggested alternative: '/URL-Test-Page1'",
          "screenshot": "Custom_URL_Creation_step11_duplicate_error_message.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Create URL with Redirect (301) status code",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add URL, enter '/redirect-test-url-301', change URL Type to 'Redirect (301)'",
          "expected": "URL Type dropdown should show 301 option and Query String field should appear",
          "actual": "Selected Redirect (301) and Query String field appeared",
          "screenshot": "Custom_URL_Creation_step12_redirect_301_form.png"
        },
        {
          "step_number": 2,
          "action": "Click Save",
          "expected": "URL should be created with 301 redirect status",
          "actual": "URL '/redirect-test-url-301' created with Redirect (301) status",
          "screenshot": "Custom_URL_Creation_step13_redirect_301_created.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Validate required fields (empty path)",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add URL and observe Save button state with empty URL path",
          "expected": "Save button should be disabled when URL path is empty or just '/'",
          "actual": "Save button was disabled when URL path contained only '/'",
          "screenshot": "Custom_URL_Creation_step14_empty_path_save_disabled.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Create URL with query string parameters",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add URL, enter path '/query-string-test-url', select Redirect (301), enter query string 'param1=value1&param2=value2'",
          "expected": "Form should accept query string parameters",
          "actual": "Query string was entered successfully. System auto-prepended '?' to make '?param1=value1&param2=value2'",
          "screenshot": "Custom_URL_Creation_step15_query_string_form.png"
        },
        {
          "step_number": 2,
          "action": "Click Save",
          "expected": "URL should be created with query string parameters",
          "actual": "URL '/query-string-test-url' created with query string parameters",
          "screenshot": "Custom_URL_Creation_step16_query_string_created.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Edit existing custom URL",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click the edit icon (pencil) on '/query-string-test-url' row",
          "expected": "Edit form should open with existing URL details",
          "actual": "Edit form opened showing all URL properties including query string",
          "screenshot": "Custom_URL_Creation_step17_edit_form.png"
        },
        {
          "step_number": 2,
          "action": "Modify query string to '?param1=updated&newparam=test' and click Save",
          "expected": "Changes should be saved successfully",
          "actual": "URL was updated successfully with new query string parameters",
          "screenshot": "Custom_URL_Creation_step18_edit_saved.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Delete custom URL",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Click the delete icon (trash) on a custom URL row",
          "expected": "URL should be deleted or confirmation dialog should appear",
          "actual": "Both icons in the action column triggered the edit form instead of delete. Unable to successfully trigger the delete functionality through the UI icons.",
          "screenshot": "Custom_URL_Creation_step19_final_url_list.png"
        }
      ],
      "issues": [
        "Delete icon in URL row appears to have same behavior as edit icon - both open the edit form. Unable to delete URLs via the row action icons."
      ]
    }
  ],
  "observations": [
    "URL Management is accessed per-page via Content > Pages > [Page] > Advanced > S.E.O., not as a global setting",
    "The duplicate URL check only validates against existing custom URLs (TabUrls), not against system-generated automatic URLs. This allows creating a custom URL that matches an automatic URL.",
    "URL path cleaning using FriendlyUrlController.CleanNameForUrl removes special characters, spaces, and invalid URL characters, replacing them with hyphens",
    "Query String field only appears when URL Type is set to Redirect (301)",
    "The code suggests a DeleteCustomUrl method exists in UrlManagementServiceController.cs, but the UI delete icon behavior needs investigation",
    "Both status codes Active (200) and Redirect (301) work correctly for URL creation"
  ],
  "summary": {
    "total_scenarios": 8,
    "passed": 7,
    "failed": 1,
    "pass_rate": "87.5%"
  }
}
