{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.SiteSettings",
    "extension_type": "PersonaBar Module",
    "feature_name": "Page and File Versioning Configuration",
    "feature_description": "Manages version control settings for both pages and files, allowing administrators to enable/disable versioning and set maximum version limits",
    "feature_priority": "High",
    "test_date": "2026-01-16T18:36:00.000Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Disable page versioning and verify it saves correctly",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Site Settings > Site Behavior > More tab and locate Versioning section",
          "expected": "Versioning section is visible with page versioning toggle",
          "actual": "Versioning section displayed with Enable Page Versioning toggle showing 'On'",
          "screenshot": "Page_and_File_Versioning_Configuration_step01_versioning_section.png"
        },
        {
          "step_number": 2,
          "action": "Click the page versioning toggle to disable it",
          "expected": "Toggle switches to 'Off' state",
          "actual": "Toggle switched to 'Off', Save button became enabled",
          "screenshot": "Page_and_File_Versioning_Configuration_step02_page_versioning_disabled.png"
        },
        {
          "step_number": 3,
          "action": "Click Save button",
          "expected": "Settings save successfully with confirmation message",
          "actual": "Settings saved, 'Settings have been updated' message displayed",
          "screenshot": "Page_and_File_Versioning_Configuration_step03_disable_page_versioning_saved.png"
        },
        {
          "step_number": 4,
          "action": "Verify page versioning shows as disabled",
          "expected": "Page versioning toggle shows 'Off'",
          "actual": "Page versioning toggle confirmed showing 'Off' state",
          "screenshot": "Page_and_File_Versioning_Configuration_step04_page_versioning_off_confirmed.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Enable page versioning and verify it saves correctly",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click the page versioning toggle to enable it",
          "expected": "Toggle switches to 'On' state",
          "actual": "Toggle switched to 'On', Save button became enabled",
          "screenshot": "Page_and_File_Versioning_Configuration_step05_page_versioning_enabled.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Settings save successfully",
          "actual": "Settings saved successfully, page versioning now enabled",
          "screenshot": "Page_and_File_Versioning_Configuration_step05_page_versioning_enabled.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Set maximum page versions within valid range (1-20)",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter 15 in the Maximum Number of Page Versions Kept field",
          "expected": "Value 15 is accepted without validation error",
          "actual": "Value 15 entered successfully, no validation error displayed",
          "screenshot": "Page_and_File_Versioning_Configuration_step06_max_page_versions_15.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Settings save successfully with value 15",
          "actual": "Settings saved successfully with max page versions set to 15",
          "screenshot": "Page_and_File_Versioning_Configuration_step06_max_page_versions_15.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Attempt to set page versions outside valid range and verify validation error",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter 25 in the Maximum Number of Page Versions Kept field (outside valid range 1-20)",
          "expected": "Value 25 is entered in the field",
          "actual": "Value 25 entered in the field",
          "screenshot": "Page_and_File_Versioning_Configuration_step07_invalid_page_versions_25.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button to trigger validation",
          "expected": "Validation error appears indicating value is out of range",
          "actual": "Red exclamation mark validation error icon appeared next to the field, indicating invalid value",
          "screenshot": "Page_and_File_Versioning_Configuration_step08_validation_error_page_versions.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Disable file versioning and verify it saves correctly",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click the file versioning toggle to disable it",
          "expected": "Toggle switches to 'Off' state",
          "actual": "Toggle switched to 'Off', Save button became enabled",
          "screenshot": "Page_and_File_Versioning_Configuration_step09_file_versioning_disabled.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Settings save successfully",
          "actual": "Settings saved successfully, 'Settings have been updated' message displayed",
          "screenshot": "Page_and_File_Versioning_Configuration_step09_file_versioning_disabled.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Enable file versioning and verify it saves correctly",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click the file versioning toggle to enable it",
          "expected": "Toggle switches to 'On' state",
          "actual": "Toggle switched to 'On', Save button became enabled",
          "screenshot": "Page_and_File_Versioning_Configuration_step10_file_versioning_enabled.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Settings save successfully",
          "actual": "Settings saved successfully, 'Settings have been updated' message displayed",
          "screenshot": "Page_and_File_Versioning_Configuration_step10_file_versioning_enabled.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Set maximum file versions within valid range (5-25)",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter 20 in the Maximum Number of File Versions Kept field",
          "expected": "Value 20 is accepted without validation error",
          "actual": "Value 20 entered successfully, no validation error displayed",
          "screenshot": "step11_file_versions_20.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Settings save successfully with value 20",
          "actual": "Settings saved successfully, 'Settings have been updated' message displayed",
          "screenshot": "step12_file_versions_20_saved.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Attempt to set file versions outside valid range and verify validation error",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter 3 in the Maximum Number of File Versions Kept field (outside valid range 5-25)",
          "expected": "Value 3 is entered in the field",
          "actual": "Value 3 entered in the field",
          "screenshot": "step13_invalid_file_versions_3.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button to trigger validation",
          "expected": "Validation error appears indicating value is out of range",
          "actual": "Red exclamation mark validation error icon appeared next to the field, indicating invalid value",
          "screenshot": "step13_invalid_file_versions_3.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify changes persist after page refresh",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Refresh the page by navigating away and back to Site Settings",
          "expected": "Page reloads and settings are retained",
          "actual": "Page refreshed successfully",
          "screenshot": "step14_persistence_after_refresh.png"
        },
        {
          "step_number": 2,
          "action": "Navigate back to Versioning section and verify saved values",
          "expected": "Page Versioning: On, max 10; File Versioning: On, max 20",
          "actual": "All values persisted correctly - Page Versioning: On (max 10), File Versioning: On (max 20)",
          "screenshot": "step15_persistence_confirmed.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "Frontend validation uses range validation: Page versions must be 1-20, File versions must be 5-25",
    "Validation errors display as red exclamation mark icons next to invalid fields after attempting to save",
    "The validation is client-side only - the backend accepts any integer value but frontend prevents submission of invalid values",
    "The DNN Switch component requires clicking on the switch element itself (not the label text) to toggle state",
    "Settings changes are saved via POST to /API/PersonaBar/EvoqSiteSettings/SaveVersionDetails endpoint",
    "RequireHost attribute on API endpoints means versioning settings are only accessible to host/superuser accounts"
  ],
  "summary": {
    "total_scenarios": 9,
    "passed": 9,
    "failed": 0,
    "pass_rate": "100%"
  }
}
