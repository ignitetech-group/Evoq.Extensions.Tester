<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Report: Included File Extension Management</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #007bff;
            padding-bottom: 10px;
        }
        h2 {
            color: #444;
            margin-top: 30px;
        }
        h3 {
            color: #555;
        }
        .feature-info {
            background-color: #e9ecef;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .test-case {
            background-color: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .pass {
            color: white;
            background-color: #28a745;
            padding: 5px 15px;
            border-radius: 3px;
            font-weight: bold;
        }
        .fail {
            color: white;
            background-color: #dc3545;
            padding: 5px 15px;
            border-radius: 3px;
            font-weight: bold;
        }
        .steps {
            background-color: #f8f9fa;
            padding: 10px 20px;
            border-left: 3px solid #007bff;
            margin: 10px 0;
        }
        .screenshot {
            max-width: 100%;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 10px 0;
        }
        .observations {
            background-color: #fff3cd;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #ffc107;
            margin-top: 30px;
        }
        .summary {
            background-color: #d4edda;
            padding: 15px;
            border-radius: 5px;
            margin-top: 30px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #007bff;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
    <h1>Test Report: Included File Extension Management</h1>

    <div class="feature-info">
        <h2>Feature Information</h2>
        <table>
            <tr><th>Extension</th><td>Evoq.PersonaBar.SiteSettings</td></tr>
            <tr><th>Feature Name</th><td>Included File Extension Management</td></tr>
            <tr><th>Description</th><td>Manages file extensions that are allowed to be indexed and crawled by the search system</td></tr>
            <tr><th>UI Location</th><td>Admin > Settings > Site Settings > Search > File Extensions > Included Extensions</td></tr>
            <tr><th>Testing Priority</th><td>High (Thorough Testing)</td></tr>
            <tr><th>Test Date</th><td>January 6, 2026</td></tr>
        </table>
    </div>

    <h2>Test Results Summary</h2>
    <div class="summary">
        <table>
            <tr>
                <th>Test Case</th>
                <th>Status</th>
            </tr>
            <tr><td>View list of all included extensions</td><td><span class="pass">PASS</span></td></tr>
            <tr><td>Add extension not in whitelist (verify error)</td><td><span class="pass">PASS</span></td></tr>
            <tr><td>Add duplicate extension (verify error)</td><td><span class="pass">PASS</span></td></tr>
            <tr><td>Empty extension value validation</td><td><span class="pass">PASS</span></td></tr>
            <tr><td>Delete included file extension</td><td><span class="pass">PASS</span></td></tr>
            <tr><td>Verify IFilter information display</td><td><span class="pass">PASS</span></td></tr>
            <tr><td>Add new extension (whitelist restricted)</td><td><span class="pass">PASS</span></td></tr>
        </table>
        <p><strong>Overall Result: 7/7 Tests PASSED</strong></p>
    </div>

    <h2>Detailed Test Cases</h2>

    <!-- Test Case 1 -->
    <div class="test-case">
        <h3>Test 1: View List of All Included Extensions</h3>
        <p><strong>Status:</strong> <span class="pass">PASS</span></p>
        <p><strong>Description:</strong> Verify that the list of included file extensions is displayed correctly with all columns.</p>
        <div class="steps">
            <strong>Steps:</strong>
            <ol>
                <li>Navigate to Admin > Settings > Site Settings</li>
                <li>Click on Search tab</li>
                <li>Click on File Extensions sub-tab</li>
                <li>Observe the Included File Extensions list</li>
            </ol>
        </div>
        <p><strong>Expected Result:</strong> List displays File Extension, File Type (IFilter), and Content Crawling columns with data.</p>
        <p><strong>Actual Result:</strong> List displays correctly with .doc, .docx, .ppt, .pptx, .xls, .xlsx extensions. IFilter information shows "Microsoft Office Filter" or "Wordpad DOCX Filter" where available. Content Crawling column shows checkmarks for extensions with IFilter and warning icons for those without.</p>
        <img src="Included_File_Extension_Management_step01_file_extensions_list.png" alt="File Extensions List" class="screenshot">
    </div>

    <!-- Test Case 2 -->
    <div class="test-case">
        <h3>Test 2: Add Extension Not in Whitelist (Verify Error)</h3>
        <p><strong>Status:</strong> <span class="pass">PASS</span></p>
        <p><strong>Description:</strong> Verify that adding a file extension not in the allowed whitelist shows an error.</p>
        <div class="steps">
            <strong>Steps:</strong>
            <ol>
                <li>Click "Add File Type" button</li>
                <li>Enter "pdf" (without leading dot)</li>
                <li>Click Save</li>
                <li>Observe error indicator</li>
            </ol>
        </div>
        <p><strong>Expected Result:</strong> Error message displayed indicating the extension is not allowed.</p>
        <p><strong>Actual Result:</strong> Red error icon appears with tooltip "This field has an error." The extension was not added to the list.</p>
        <img src="Included_File_Extension_Management_step05_whitelist_error.png" alt="Whitelist Error" class="screenshot">
    </div>

    <!-- Test Case 3 -->
    <div class="test-case">
        <h3>Test 3: Add Duplicate Extension (Verify Error)</h3>
        <p><strong>Status:</strong> <span class="pass">PASS</span></p>
        <p><strong>Description:</strong> Verify that adding a duplicate file extension shows an error.</p>
        <div class="steps">
            <strong>Steps:</strong>
            <ol>
                <li>Click "Add File Type" button</li>
                <li>Enter "doc" (existing extension)</li>
                <li>Click Save</li>
                <li>Observe error indicator</li>
            </ol>
        </div>
        <p><strong>Expected Result:</strong> Error message displayed indicating duplicate extension.</p>
        <p><strong>Actual Result:</strong> Red error icon appears next to the input field. The duplicate extension was not added.</p>
        <img src="Included_File_Extension_Management_step07_duplicate_error.png" alt="Duplicate Error" class="screenshot">
    </div>

    <!-- Test Case 4 -->
    <div class="test-case">
        <h3>Test 4: Empty Extension Value Validation</h3>
        <p><strong>Status:</strong> <span class="pass">PASS</span></p>
        <p><strong>Description:</strong> Verify that submitting an empty extension value shows a validation error.</p>
        <div class="steps">
            <strong>Steps:</strong>
            <ol>
                <li>Click "Add File Type" button</li>
                <li>Leave the input field empty</li>
                <li>Click Save</li>
                <li>Observe error indicator</li>
            </ol>
        </div>
        <p><strong>Expected Result:</strong> Validation error displayed for empty input.</p>
        <p><strong>Actual Result:</strong> Red error icon appears next to the empty input field, preventing the submission.</p>
        <img src="Included_File_Extension_Management_step09_empty_error.png" alt="Empty Validation Error" class="screenshot">
    </div>

    <!-- Test Case 5 -->
    <div class="test-case">
        <h3>Test 5: Delete Included File Extension</h3>
        <p><strong>Status:</strong> <span class="pass">PASS</span></p>
        <p><strong>Description:</strong> Verify that file extensions can be deleted from the included list.</p>
        <div class="steps">
            <strong>Steps:</strong>
            <ol>
                <li>Locate .xlsx in the list</li>
                <li>Click the delete (trash) icon</li>
                <li>Confirm the deletion in the dialog</li>
                <li>Verify the extension is removed from the list</li>
            </ol>
        </div>
        <p><strong>Expected Result:</strong> Confirmation dialog appears, and after confirmation, the extension is removed.</p>
        <p><strong>Actual Result:</strong> Confirmation dialog "Are you sure you want to delete .xlsx?" appeared with Yes/No buttons. After clicking Yes, .xlsx was removed from the list.</p>
        <img src="Included_File_Extension_Management_step11_before_delete.png" alt="Before Delete" class="screenshot">
        <img src="Included_File_Extension_Management_step12_delete_confirmation.png" alt="Delete Confirmation" class="screenshot">
        <img src="Included_File_Extension_Management_step13_after_delete.png" alt="After Delete" class="screenshot">
    </div>

    <!-- Test Case 6 -->
    <div class="test-case">
        <h3>Test 6: Verify IFilter Information Display</h3>
        <p><strong>Status:</strong> <span class="pass">PASS</span></p>
        <p><strong>Description:</strong> Verify that IFilter information is correctly displayed for each extension.</p>
        <div class="steps">
            <strong>Steps:</strong>
            <ol>
                <li>View the File Extensions list</li>
                <li>Check the File Type column for IFilter information</li>
                <li>Check the Content Crawling column for availability indicators</li>
            </ol>
        </div>
        <p><strong>Expected Result:</strong> Extensions with available IFilter show filter name and checkmark. Extensions without IFilter show warning icon.</p>
        <p><strong>Actual Result:</strong>
            <ul>
                <li>.doc - "Microsoft Office Filter" with checkmark (IFilter available)</li>
                <li>.docx - "Wordpad DOCX Filter" with checkmark (IFilter available)</li>
                <li>.ppt - "Microsoft Office Filter" with checkmark (IFilter available)</li>
                <li>.pptx - Warning icon with tooltip "Content crawling is unavailable" (no IFilter)</li>
                <li>.xls - "Microsoft Office Filter" with checkmark (IFilter available)</li>
                <li>.xlsx - Warning icon (no IFilter)</li>
            </ul>
        </p>
        <img src="Included_File_Extension_Management_step01_file_extensions_list.png" alt="IFilter Display" class="screenshot">
    </div>

    <!-- Test Case 7 -->
    <div class="test-case">
        <h3>Test 7: Add New Extension (Whitelist Restricted)</h3>
        <p><strong>Status:</strong> <span class="pass">PASS</span></p>
        <p><strong>Description:</strong> Verify that the system properly restricts adding extensions to those in the allowed whitelist.</p>
        <div class="steps">
            <strong>Steps:</strong>
            <ol>
                <li>Click "Add File Type" button</li>
                <li>Attempt to add "txt" extension</li>
                <li>Click Save</li>
                <li>Observe the result</li>
            </ol>
        </div>
        <p><strong>Expected Result:</strong> Error shown if extension is not in whitelist; success if it is.</p>
        <p><strong>Actual Result:</strong> The "txt" extension is not in the allowed whitelist, so an error was displayed. This confirms the whitelist validation is working correctly. Only extensions configured in the system whitelist can be added.</p>
        <img src="Included_File_Extension_Management_step06_txt_error.png" alt="TXT Extension Error" class="screenshot">
    </div>

    <div class="observations">
        <h2>Observations</h2>
        <ul>
            <li><strong>Whitelist Restriction:</strong> The system uses a whitelist to control which file extensions can be added to the included list. Extensions like "pdf" and "txt" are not in the default whitelist, which may be configured at the host level.</li>
            <li><strong>IFilter Dependency:</strong> Content crawling capability depends on having an IFilter installed on the server. Extensions without IFilter (like .pptx, .xlsx) show a warning icon indicating content cannot be crawled.</li>
            <li><strong>Format Handling:</strong> The system accepts extensions both with and without leading dots (e.g., "doc" or ".doc"). The display always shows the extension with a leading dot.</li>
            <li><strong>UI Feedback:</strong> Error messages are displayed via red error icons with tooltips, providing clear feedback to users.</li>
            <li><strong>Delete Confirmation:</strong> A confirmation dialog is shown before deleting extensions, preventing accidental deletions.</li>
        </ul>
    </div>

</body>
</html>
