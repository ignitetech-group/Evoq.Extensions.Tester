{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.SiteSettings",
    "extension_type": "PersonaBar Module",
    "feature_name": "Included File Extension Management",
    "feature_description": "Manages file extensions that are allowed to be indexed and crawled by the search system",
    "feature_priority": "High",
    "test_date": "2026-01-16T12:00:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "View list of all included extensions",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Site Settings > Search > File Extensions",
          "expected": "Display list of included file extensions with File Extension, File Type, and Content Crawling columns",
          "actual": "List displayed correctly showing 5 extensions (.doc, .docx, .pdf, .ppt, .pptx) with all columns visible",
          "screenshot": "Included_File_Extension_Management_step01_file_extensions_list.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Add new included file extension with leading dot",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add File Type button",
          "expected": "Add form opens with File Extension input field",
          "actual": "Add form opened with File Extension textbox and Cancel/Save buttons",
          "screenshot": "Included_File_Extension_Management_step02_add_form_open.png"
        },
        {
          "step_number": 2,
          "action": "Enter .txt in the File Extension field",
          "expected": "Value .txt appears in the textbox",
          "actual": ".txt entered successfully",
          "screenshot": "Included_File_Extension_Management_step03_add_txt_extension.png"
        },
        {
          "step_number": 3,
          "action": "Click Save button",
          "expected": "Extension added to the list with IFilter information",
          "actual": ".txt extension added with 'Plain Text filter' as File Type and content crawling checkmark",
          "screenshot": "Included_File_Extension_Management_step04_txt_added_success.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Add duplicate included extension and verify error",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to add .txt again (duplicate)",
          "expected": "Error message displayed indicating duplicate extension",
          "actual": "Server returned 500 error rejecting the duplicate. The .txt extension was not added twice.",
          "screenshot": "Included_File_Extension_Management_step05_duplicate_error.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Add extension without leading dot (validation error)",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter 'pdf' (without leading dot) in the File Extension field and click Save",
          "expected": "Validation error displayed - extension must start with dot",
          "actual": "Red validation error icon appeared next to the textbox, save was prevented",
          "screenshot": "Included_File_Extension_Management_step06_no_leading_dot_error.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Add empty extension value (validation error)",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Clear the File Extension field and click Save",
          "expected": "Validation error displayed - extension cannot be empty",
          "actual": "Red validation error icon appeared next to the empty textbox, save was prevented",
          "screenshot": "Included_File_Extension_Management_step07_empty_value_error.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Delete included file extension",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click delete icon for .txt extension",
          "expected": "Confirmation dialog appears",
          "actual": "Confirmation dialog displayed: 'Are you sure you want to delete .txt?' with No/Yes buttons",
          "screenshot": "Included_File_Extension_Management_step08_delete_confirmation.png"
        },
        {
          "step_number": 2,
          "action": "Click Yes to confirm deletion",
          "expected": ".txt extension removed from the list",
          "actual": ".txt extension was successfully removed. List now shows only 5 original extensions",
          "screenshot": "Included_File_Extension_Management_step09_txt_deleted.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify IFilter information display for extensions",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "View the File Type and Content Crawling columns for all extensions",
          "expected": "Extensions with IFilters show filter name and checkmark; extensions without IFilters show warning",
          "actual": "IFilter information displayed correctly: .doc/.ppt show 'Microsoft Office Filter' with checkmark, .docx shows 'Wordpad DOCX Filter' with checkmark, .pdf/.pptx show info icon indicating 'Content crawling is unavailable'",
          "screenshot": "Included_File_Extension_Management_step10_ifilter_info_display.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "The validation regex requires extensions to start with a dot (.) and contain only letters (A-Za-z) after the dot",
    "Backend validates for duplicate extensions and returns appropriate error via SearchSpiderHelper.AddExtensionResult.Duplicate",
    "Backend validates against a whitelist of allowed extensions via SearchSpiderHelper.AddExtensionResult.NotInWhitelist",
    "IFilter availability is determined by FileCrawlerHelper.Instance.GetIFilterExtensionInfo() which checks if an IFilter is installed for the extension",
    "Delete operation shows a confirmation dialog before removing the extension",
    "The feature correctly displays both included and excluded file extensions sections"
  ],
  "summary": {
    "total_scenarios": 7,
    "passed": 7,
    "failed": 0,
    "pass_rate": "100%"
  }
}
