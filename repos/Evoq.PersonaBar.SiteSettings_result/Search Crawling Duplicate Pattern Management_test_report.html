<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Report: Search Crawling Duplicate Pattern Management</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
        }
        h3 {
            color: #7f8c8d;
        }
        .feature-info {
            background-color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .test-scenario {
            background-color: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .pass {
            color: #27ae60;
            font-weight: bold;
        }
        .fail {
            color: #e74c3c;
            font-weight: bold;
        }
        .status-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            color: white;
            font-size: 14px;
        }
        .status-pass {
            background-color: #27ae60;
        }
        .status-fail {
            background-color: #e74c3c;
        }
        img {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 10px 0;
        }
        .steps {
            background-color: #f9f9f9;
            padding: 10px;
            border-left: 3px solid #3498db;
            margin: 10px 0;
        }
        .summary {
            background-color: #2c3e50;
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
        }
        .summary h2 {
            color: white;
            margin-top: 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #3498db;
            color: white;
        }
        tr:hover {
            background-color: #f5f5f5;
        }
    </style>
</head>
<body>
    <h1>Test Report: Search Crawling Duplicate Pattern Management</h1>

    <div class="feature-info">
        <h2>Feature Information</h2>
        <table>
            <tr><th>Property</th><th>Value</th></tr>
            <tr><td><strong>Extension</strong></td><td>Evoq.PersonaBar.SiteSettings</td></tr>
            <tr><td><strong>Feature Name</strong></td><td>Search Crawling Duplicate Pattern Management</td></tr>
            <tr><td><strong>Description</strong></td><td>Manages regex patterns to identify and handle duplicate content during search crawling</td></tr>
            <tr><td><strong>UI Location</strong></td><td>Admin > Settings > Site Settings > Search > Crawling > Duplicates</td></tr>
            <tr><td><strong>Test Date</strong></td><td>December 30, 2025</td></tr>
            <tr><td><strong>Tester</strong></td><td>Automated Test (Claude)</td></tr>
        </table>
    </div>

    <h2>Test Scenarios</h2>

    <!-- Test 1 -->
    <div class="test-scenario">
        <h3>Test 1: Add New Duplicate Pattern</h3>
        <span class="status-badge status-pass">PASS</span>

        <h4>Objective</h4>
        <p>Verify that a new duplicate pattern can be added with a description and regex pattern.</p>

        <h4>Steps Taken</h4>
        <div class="steps">
            <ol>
                <li>Navigate to Site Settings > Search > Crawling</li>
                <li>Click "Add Regex Pattern" button</li>
                <li>Enter Description: "test automation pattern"</li>
                <li>Enter Regex Pattern: "testparam=(?&lt;id&gt;\d+)"</li>
                <li>Click Save button</li>
            </ol>
        </div>

        <h4>Expected Result</h4>
        <p>New pattern should be added to the duplicates list.</p>

        <h4>Actual Result</h4>
        <p class="pass">Pattern was successfully added and appeared in the list.</p>

        <h4>Screenshots</h4>
        <p><strong>Empty Add Form:</strong></p>
        <img src="Search Crawling Duplicate Pattern Management_step03_add_form_empty.png" alt="Empty add form">

        <p><strong>Filled Add Form:</strong></p>
        <img src="Search Crawling Duplicate Pattern Management_step04_add_form_filled.png" alt="Filled add form">

        <p><strong>Pattern Added Successfully:</strong></p>
        <img src="Search Crawling Duplicate Pattern Management_step05_pattern_added.png" alt="Pattern added">
    </div>

    <!-- Test 2 -->
    <div class="test-scenario">
        <h3>Test 2: Validation for Empty Fields</h3>
        <span class="status-badge status-pass">PASS</span>

        <h4>Objective</h4>
        <p>Verify that validation errors are displayed when trying to save with empty fields.</p>

        <h4>Steps Taken</h4>
        <div class="steps">
            <ol>
                <li>Click "Add Regex Pattern" button</li>
                <li>Leave both Description and Regex Pattern fields empty</li>
                <li>Click Save button</li>
            </ol>
        </div>

        <h4>Expected Result</h4>
        <p>Both fields should show validation errors (red borders/indicators).</p>

        <h4>Actual Result</h4>
        <p class="pass">Both fields displayed red border validation errors with exclamation icons.</p>

        <h4>Screenshots</h4>
        <img src="Search Crawling Duplicate Pattern Management_step06_validation_error.png" alt="Validation errors shown">
    </div>

    <!-- Test 3 -->
    <div class="test-scenario">
        <h3>Test 3: Edit Existing Duplicate Pattern</h3>
        <span class="status-badge status-pass">PASS</span>

        <h4>Objective</h4>
        <p>Verify that an existing duplicate pattern can be edited successfully.</p>

        <h4>Steps Taken</h4>
        <div class="steps">
            <ol>
                <li>Locate "test automation pattern" in the list</li>
                <li>Click the edit (pencil) icon</li>
                <li>Modify description to "test automation pattern EDITED"</li>
                <li>Click Save button</li>
            </ol>
        </div>

        <h4>Expected Result</h4>
        <p>Pattern should be updated with the new description.</p>

        <h4>Actual Result</h4>
        <p class="pass">Pattern was successfully updated and the new description is displayed in the list.</p>

        <h4>Screenshots</h4>
        <p><strong>Edit Form:</strong></p>
        <img src="Search Crawling Duplicate Pattern Management_step08_edit_form.png" alt="Edit form">

        <p><strong>Edit Successful:</strong></p>
        <img src="Search Crawling Duplicate Pattern Management_step09_edit_success.png" alt="Edit success">
    </div>

    <!-- Test 4 -->
    <div class="test-scenario">
        <h3>Test 4: Delete Duplicate Pattern</h3>
        <span class="status-badge status-pass">PASS</span>

        <h4>Objective</h4>
        <p>Verify that a duplicate pattern can be deleted with confirmation dialog.</p>

        <h4>Steps Taken</h4>
        <div class="steps">
            <ol>
                <li>Locate "test automation pattern EDITED" in the list</li>
                <li>Click the delete (trash) icon</li>
                <li>Verify confirmation dialog appears</li>
                <li>Click "Yes" to confirm deletion</li>
            </ol>
        </div>

        <h4>Expected Result</h4>
        <p>Confirmation dialog should appear, and upon confirmation, pattern should be removed from the list.</p>

        <h4>Actual Result</h4>
        <p class="pass">Confirmation dialog displayed correctly. Pattern was successfully deleted and removed from the list.</p>

        <h4>Screenshots</h4>
        <p><strong>Delete Confirmation Dialog:</strong></p>
        <img src="Search Crawling Duplicate Pattern Management_step10_delete_confirm.png" alt="Delete confirmation">

        <p><strong>Pattern Deleted:</strong></p>
        <img src="Search Crawling Duplicate Pattern Management_step11_delete_success.png" alt="Delete success">
    </div>

    <!-- Test 5 -->
    <div class="test-scenario">
        <h3>Test 5: View List of All Duplicate Patterns</h3>
        <span class="status-badge status-pass">PASS</span>

        <h4>Objective</h4>
        <p>Verify that all existing duplicate patterns are displayed correctly in the list.</p>

        <h4>Steps Taken</h4>
        <div class="steps">
            <ol>
                <li>Navigate to Site Settings > Search > Crawling</li>
                <li>Scroll through the Duplicates section</li>
                <li>Verify all patterns are visible with descriptions and regex patterns</li>
            </ol>
        </div>

        <h4>Expected Result</h4>
        <p>All duplicate patterns should be displayed with Description and Regex Pattern columns, along with edit/delete icons.</p>

        <h4>Actual Result</h4>
        <p class="pass">All 13 default patterns are displayed correctly: tabid, ctl terms, ctl privacy, linkclick, dnn forum, dnn blog, active forum, multi page content, multilanguage, dnn wiki, dnn wiki index, test pattern, custom product.</p>

        <h4>Screenshots</h4>
        <img src="Search Crawling Duplicate Pattern Management_step02_crawling_duplicates.png" alt="All duplicate patterns">
    </div>

    <!-- Summary -->
    <div class="summary">
        <h2>Test Summary</h2>
        <table style="background-color: white; color: black;">
            <tr>
                <th>Test Scenario</th>
                <th>Status</th>
            </tr>
            <tr>
                <td>Add New Duplicate Pattern</td>
                <td class="pass">PASS</td>
            </tr>
            <tr>
                <td>Validation for Empty Fields</td>
                <td class="pass">PASS</td>
            </tr>
            <tr>
                <td>Edit Existing Duplicate Pattern</td>
                <td class="pass">PASS</td>
            </tr>
            <tr>
                <td>Delete Duplicate Pattern</td>
                <td class="pass">PASS</td>
            </tr>
            <tr>
                <td>View List of All Duplicate Patterns</td>
                <td class="pass">PASS</td>
            </tr>
        </table>

        <h3 style="color: #27ae60; margin-top: 20px;">Overall Result: 5/5 Tests Passed (100%)</h3>

        <h3>Observations</h3>
        <ul>
            <li>The Duplicate Pattern Management feature works as expected</li>
            <li>All CRUD operations (Create, Read, Update, Delete) function correctly</li>
            <li>Field validation properly prevents saving empty values</li>
            <li>Delete operation includes confirmation dialog to prevent accidental deletion</li>
            <li>UI is responsive and provides clear feedback for user actions</li>
        </ul>

        <h3>Notes</h3>
        <ul>
            <li>No regex pattern validation is performed on the client-side beyond empty check</li>
            <li>Patterns are stored in XML configuration file (SearchSpiderDuplicatePatterns.xml)</li>
            <li>The feature requires Admin/Host permissions to access</li>
        </ul>
    </div>

</body>
</html>
