{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.SiteSettings",
    "extension_type": "PersonaBar Module",
    "feature_name": "Excluded File Extension Management",
    "feature_description": "Manages file extensions that should be excluded from indexing and crawling",
    "feature_priority": "High",
    "test_date": "2026-02-09T16:45:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "View list of all excluded extensions",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Site Settings > Search > File Extensions tab",
          "expected": "File Extensions tab displays with Included and Excluded File Extensions sections",
          "actual": "File Extensions tab opened successfully showing both Included and Excluded File Extensions sections",
          "screenshot": "Excluded File Extension Management_step01_view_excluded_list.png"
        },
        {
          "step_number": 2,
          "action": "View the Excluded File Extensions list",
          "expected": "List of excluded extensions is displayed with delete icons",
          "actual": "Excluded extensions list displayed: .css, .eot, .htmtemplate, .ico, .rar, .template, .ttf, .woff, .xml, .xsd, .xsl with trash icons for each",
          "screenshot": "Excluded File Extension Management_step02_add_form_visible.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Add new excluded file extension with leading dot",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add File Type button in Excluded File Extensions section",
          "expected": "Add form appears with File Extension input field",
          "actual": "Add form displayed with File Extension textbox and Cancel/Save buttons",
          "screenshot": "Excluded File Extension Management_step02_add_form_visible.png"
        },
        {
          "step_number": 2,
          "action": "Enter '.zip' in the File Extension field and click Save",
          "expected": "Extension is added to the excluded list",
          "actual": ".zip was successfully added to the excluded file extensions list",
          "screenshot": "Excluded File Extension Management_step05_zip_added_success.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test extension validation format - without leading dot",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add File Type and enter 'tmp' (without leading dot)",
          "expected": "Validation error shown - extension must start with a dot",
          "actual": "Red validation error indicator appeared next to the textbox, form not submitted",
          "screenshot": "Excluded File Extension Management_step06_validation_no_dot.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test with empty extension value",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Clear the File Extension field and click Save",
          "expected": "Validation error shown - extension cannot be empty",
          "actual": "Red validation error indicator appeared, form not submitted - empty values are rejected",
          "screenshot": "Excluded File Extension Management_step07_validation_empty.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Add duplicate excluded extension and verify error",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter '.css' (which already exists) in the File Extension field and click Save",
          "expected": "Error message shown indicating duplicate extension",
          "actual": "Server returned error (500) - duplicate extension rejected. Form remained open with .css value, indicating the save was blocked",
          "screenshot": "Excluded File Extension Management_step08_duplicate_error.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Delete excluded file extension",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click the delete (trash) icon next to .zip extension",
          "expected": "Confirmation dialog appears",
          "actual": "Confirmation dialog displayed: 'Are you sure you want to delete .zip?' with No/Yes buttons",
          "screenshot": "Excluded File Extension Management_step10_delete_confirmation.png"
        },
        {
          "step_number": 2,
          "action": "Click Yes to confirm deletion",
          "expected": ".zip is removed from the excluded extensions list",
          "actual": ".zip was successfully removed from the list - list now ends with .xsl",
          "screenshot": "Excluded File Extension Management_step11_after_delete.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Add extension not in whitelist",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter '.tmp' in the File Extension field and click Save",
          "expected": "Extension is added to the excluded list",
          "actual": "Server returned error - extension not in allowed whitelist (errorNotAllowedFileExtension)",
          "screenshot": "Excluded File Extension Management_step04_save_error.png"
        }
      ],
      "issues": ["Adding .tmp extension failed with 'not allowed file extension' error. This appears to be by design - only extensions in the host whitelist can be added to excluded list. However, this behavior is not clearly communicated to users in the UI."]
    }
  ],
  "observations": [
    "The excluded file extensions feature depends on the host's allowed file extensions whitelist (DotNetNuke.Professional.SearchCrawler.FileCrawling). Extensions not in the whitelist cannot be added to the excluded list.",
    "Client-side validation correctly requires: 1) non-empty value, 2) leading dot character, 3) alphabetic characters only after the dot",
    "The validation regex is: /^[A-Za-z]+$/ applied to characters after the leading dot",
    "Server-side validation checks for duplicates and whitelist membership",
    "Delete confirmation uses a modal dialog with clear warning message including the extension name",
    "Extensions are displayed with leading dot format (e.g., '.css' not 'css')"
  ],
  "summary": {
    "total_scenarios": 7,
    "passed": 6,
    "failed": 1,
    "pass_rate": "86%"
  }
}
