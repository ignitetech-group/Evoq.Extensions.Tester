{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.SiteSettings",
    "extension_type": "PersonaBar Module",
    "feature_name": "Search Crawling URL Path Management",
    "feature_description": "Manages URL paths that should be crawled for search indexing, including authentication settings and sitemap configuration",
    "feature_priority": "Top",
    "test_date": "2026-01-16T12:00:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "View URL path list with existing data",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Admin > Settings > Site Settings > Search > Crawling tab",
          "expected": "URL Paths list is displayed with existing URL paths",
          "actual": "URL Paths list displayed showing multiple existing URLs including http://localhost:8081/sitemap-parse-test, http://localhost:8081/test-winauth-config, and others with their Active status and DNN Role assignments",
          "screenshot": "Search Crawling URL Path Management_step01_navigate_url_paths.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Add new URL path with valid URL",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add URL button to open the add URL form",
          "expected": "Add URL path form opens with empty fields",
          "actual": "Add URL path form opened with empty URL field, Sitemap URL field, DNN Role Impersonation dropdown, and authentication settings",
          "screenshot": "Search Crawling URL Path Management_step02_add_url_form_open.png"
        },
        {
          "step_number": 2,
          "action": "Enter valid URL: http://localhost:8081/test-url-jan2026",
          "expected": "URL is entered in the text field",
          "actual": "URL was successfully entered in the Url field",
          "screenshot": "Search Crawling URL Path Management_step03_enter_valid_url.png"
        },
        {
          "step_number": 3,
          "action": "Click Save button",
          "expected": "URL path is saved and appears in the list",
          "actual": "URL path was saved successfully and appeared in the URL Paths list",
          "screenshot": "Search Crawling URL Path Management_step04_url_saved_success.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Add URL path with empty URL validation",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add URL button and leave URL field empty",
          "expected": "Form opens with empty URL field",
          "actual": "Form opened with empty fields",
          "screenshot": "Search Crawling URL Path Management_step02_add_url_form_open.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button with empty URL field",
          "expected": "Validation error shown, URL is required",
          "actual": "Validation error displayed - URL field showed red border and error icon indicating the field is required",
          "screenshot": "Search Crawling URL Path Management_step05_empty_url_validation.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Add duplicate URL path validation",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add URL and enter an existing URL: http://localhost:8081/test-url-jan2026",
          "expected": "Form accepts the URL input",
          "actual": "URL was entered successfully",
          "screenshot": "Search Crawling URL Path Management_step06_duplicate_url_error.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Duplicate URL error message displayed",
          "actual": "Error message displayed: 'URL already exists. Please enter a different URL.' - Server-side validation correctly prevented duplicate URL",
          "screenshot": "Search Crawling URL Path Management_step06b_duplicate_url_error_fullpage.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Edit existing URL path",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click edit icon on an existing URL path (http://localhost:8081/test-url-jan2026)",
          "expected": "Edit form opens with URL path details populated",
          "actual": "Edit form opened showing all fields: Url field with the URL, Sitemap URL field, DNN Role Impersonation dropdown, Enable Spidering switch, and Windows Authentication settings",
          "screenshot": "Search Crawling URL Path Management_step07_edit_form_open.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Enable/disable URL path active status (Enable Spidering)",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click edit on URL path and toggle the Enable Spidering switch to ON",
          "expected": "Enable Spidering toggle changes state",
          "actual": "Enable Spidering switch was toggled ON successfully - the switch moved to the active/checked position",
          "screenshot": "Search Crawling URL Path Management_step08_enable_spidering_toggle.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Configure Windows authentication",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Open URL path edit form and verify Windows Authentication settings are visible",
          "expected": "Windows Authentication toggle and related fields (Domain, User, Password) are displayed",
          "actual": "Windows Authentication settings section visible with Windows Authentication toggle switch, Windows Domain field, Windows User field, and Windows Password field",
          "screenshot": "Search Crawling URL Path Management_step07_edit_form_open.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Configure DNN role impersonation",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Open URL path edit form and verify DNN Role Impersonation dropdown is present",
          "expected": "DNN Role Impersonation dropdown is available with portal roles",
          "actual": "DNN Role Impersonation dropdown is displayed in the edit form, allowing selection of portal roles for authenticated crawling",
          "screenshot": "Search Crawling URL Path Management_step07_edit_form_open.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Add sitemap URL to URL path",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Open URL path edit form and verify Sitemap URL field is present",
          "expected": "Sitemap URL field is available for input",
          "actual": "Sitemap URL field is displayed in the edit form, allowing specification of a sitemap URL for the crawler to use",
          "screenshot": "Search Crawling URL Path Management_step07_edit_form_open.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Delete URL path",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click delete (trash) icon on URL path http://localhost:8081/test-url-jan2026",
          "expected": "Delete confirmation dialog appears",
          "actual": "Confirmation dialog displayed with message: 'Are you sure you want to delete http://localhost:8081/test-url-jan2026?' with No and Yes buttons",
          "screenshot": "Search Crawling URL Path Management_step09_delete_confirmation.png"
        },
        {
          "step_number": 2,
          "action": "Click Yes to confirm deletion",
          "expected": "URL path is removed from the list",
          "actual": "URL path was successfully deleted and no longer appears in the URL Paths list",
          "screenshot": "Search Crawling URL Path Management_step10_delete_success.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "Client-side URL validation only checks if URL is non-empty (validationHelpers.js). More comprehensive URL format validation is handled server-side by IndexUrlHelper.ValidateUrl.",
    "Server-side validation includes duplicate URL checking via IndexUrlHelper.ExistsOtherIndexWithSameUrl, which correctly prevents duplicate URLs with a user-friendly error message.",
    "The Windows Authentication section allows configuration of domain credentials for crawling pages behind Windows authentication, with fields for domain, username, and password.",
    "DNN Role Impersonation allows the crawler to impersonate a specific DNN portal role when crawling authenticated content.",
    "Enable Spidering toggle controls whether the URL path is actively crawled (urlActive property).",
    "Password field for Windows Authentication appears to be masked (password type input), and based on code review, passwords are encrypted before storage using PortalSecurity.Encrypt.",
    "UI uses React components with redux state management for the URL path list and edit forms.",
    "Cancel button and toggle switches required JavaScript evaluation workarounds due to element interception issues in the PersonaBar iframe UI."
  ],
  "summary": {
    "total_scenarios": 10,
    "passed": 10,
    "failed": 0,
    "pass_rate": "100%"
  }
}
