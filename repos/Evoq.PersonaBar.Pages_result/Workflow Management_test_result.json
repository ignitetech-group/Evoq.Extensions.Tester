{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.Pages",
    "extension_type": "PersonaBar Module",
    "feature_name": "Workflow Management",
    "feature_description": "Manage content workflows for page approval and publishing",
    "feature_priority": "Top",
    "test_date": "2026-02-28T09:36:00.000Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Get available workflows",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Pages section in PersonaBar",
          "expected": "Pages panel should load with page list",
          "actual": "Pages panel loaded successfully with list of all pages",
          "screenshot": "Workflow Management_step00_login_confirmed.png"
        },
        {
          "step_number": 2,
          "action": "Click on Workflow dropdown for Home page",
          "expected": "Dropdown should show available workflows",
          "actual": "Dropdown displayed 5 workflows: Direct Publish, Save Draft, Content Approval, Test Workflow, Test & <> \"Special\" Chars!",
          "screenshot": "Workflow Management_step01_available_workflows.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Assign workflow to page",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Select Content Approval workflow from dropdown",
          "expected": "Workflow should change and show unsaved indicator",
          "actual": "Workflow changed to Content Approval, 'Changes have not been saved' message appeared, Save button enabled",
          "screenshot": "Workflow Management_step02_workflow_changed.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Page should save with new workflow assignment",
          "actual": "Page saved successfully with 'Page updated successfully' notification",
          "screenshot": "Workflow Management_step03_workflow_saved.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test Direct Publish workflow",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Change workflow to Direct Publish",
          "expected": "Direct Publish workflow should be selected",
          "actual": "Direct Publish workflow selected successfully, 'Apply setting to all subpages' option hidden for Direct Publish",
          "screenshot": "Workflow Management_step05_direct_publish_selected.png"
        },
        {
          "step_number": 2,
          "action": "Save the workflow change",
          "expected": "Workflow should save successfully",
          "actual": "Workflow saved with success notification",
          "screenshot": "Workflow Management_step04_workflow_info_header.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify workflow state transitions",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Select Workflow Test Page and navigate to view it",
          "expected": "Page should load with workflow assigned",
          "actual": "Workflow Test Page loaded with Content Approval workflow assigned",
          "screenshot": "Workflow Management_step06_workflow_test_page.png"
        },
        {
          "step_number": 2,
          "action": "Enable edit mode on page",
          "expected": "Edit mode should show workflow control buttons",
          "actual": "Edit mode enabled showing Discard, Reject, and Close workflow buttons at bottom",
          "screenshot": "Workflow Management_step08_edit_mode_workflow_controls.png"
        },
        {
          "step_number": 3,
          "action": "Click Reject button",
          "expected": "Rejection dialog should appear",
          "actual": "Reject Change dialog appeared with comment field and attachment option",
          "screenshot": "Workflow Management_step09_reject_dialog.png"
        },
        {
          "step_number": 4,
          "action": "Enter rejection comment",
          "expected": "Comment should be accepted",
          "actual": "Comment entered successfully: 'This content needs revision - test rejection comment'",
          "screenshot": "Workflow Management_step10_reject_comment_entered.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test unpublished changes detection",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Change workflow selection without saving",
          "expected": "System should track unsaved changes",
          "actual": "System showed 'Changes have not been saved' message",
          "screenshot": "Workflow Management_step02_workflow_changed.png"
        },
        {
          "step_number": 2,
          "action": "Click Cancel with unsaved changes",
          "expected": "Warning dialog should appear",
          "actual": "Warning dialog appeared: 'Are you sure you want to close? Changes have been made and will be lost.'",
          "screenshot": "Workflow Management_step13_unsaved_changes_warning.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test workflow permissions",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Permissions tab for Workflow Test Page",
          "expected": "Permissions matrix should be displayed",
          "actual": "Permissions tab showed role-based permissions matrix with View, Add, Content, Copy, Delete, Export, Import, Manage, Navigate, Edit Tab columns",
          "screenshot": "Workflow Management_step11_permissions_tab.png"
        },
        {
          "step_number": 2,
          "action": "Verify permissions for different roles",
          "expected": "Administrators, Content Editors, Content Managers should have full permissions",
          "actual": "Administrators, Content Editors, Content Managers all have full permissions checked; Everyone and Registered Users have no permissions",
          "screenshot": "Workflow Management_step11_permissions_tab.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test workflow with special characters name",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Select workflow with special characters: Test & <> \"Special\" Chars!",
          "expected": "Workflow with special characters should be selectable",
          "actual": "Workflow 'Test & <> \"Special\" Chars!' selected successfully and displayed correctly in dropdown",
          "screenshot": "Workflow Management_step12_special_chars_workflow.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify Apply setting to all subpages option",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Change workflow to Content Approval",
          "expected": "Apply setting to all subpages toggle should appear",
          "actual": "Toggle appeared below workflow dropdown with Off state",
          "screenshot": "Workflow Management_step02_workflow_changed.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify workflow controls in edit mode",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter edit mode on page with workflow",
          "expected": "Workflow action buttons should be visible",
          "actual": "Discard, Reject, Close buttons visible at bottom of page, along with module editing controls",
          "screenshot": "Workflow Management_step08_edit_mode_workflow_controls.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "The page info header shows 'Workflow: Off' even when a workflow is assigned in the dropdown. This appears to indicate that page versioning/workflow tracking is not enabled for the page content, while the workflow selection affects new content submissions.",
    "Five workflows are available in the system: Direct Publish, Save Draft, Content Approval, Test Workflow, and Test & <> \"Special\" Chars!",
    "The system properly handles special characters in workflow names, displaying them correctly in dropdowns and UI elements.",
    "The 'Apply setting to all subpages' option only appears for non-Direct Publish workflows.",
    "Workflow permissions are managed through the standard page permissions system with role-based access control."
  ],
  "summary": {
    "total_scenarios": 9,
    "passed": 9,
    "failed": 0,
    "pass_rate": "100%"
  }
}
