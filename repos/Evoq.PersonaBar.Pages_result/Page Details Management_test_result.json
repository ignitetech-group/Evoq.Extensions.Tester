{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.Pages",
    "extension_type": "PersonaBar Module",
    "feature_name": "Page Details Management",
    "feature_description": "Retrieve and save page settings including metadata, appearance, and permissions",
    "feature_priority": "Top",
    "test_date": "2026-02-09T16:15:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "Get page details by ID",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Content > Pages in PersonaBar",
          "expected": "Pages panel opens with page tree visible",
          "actual": "Pages panel opened successfully showing page tree with Home, Our Products, Activity Feed, News, etc.",
          "screenshot": "Page Details Management_step01_pages_interface.png"
        },
        {
          "step_number": 2,
          "action": "Click on Our Products page in the tree",
          "expected": "Page details panel shows Our Products page information including Page ID",
          "actual": "Page details displayed showing Page ID: 22, Created date, Status: Visible, Page Type options",
          "screenshot": "Page Details Management_step02_get_page_details.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Save page details with all fields",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter Title, Description, and Keywords for Our Products page",
          "expected": "Fields accept input and Save button becomes enabled",
          "actual": "Title set to 'Our Products - Cavalier Electronics', Description and Keywords entered, Save button enabled",
          "screenshot": "Page Details Management_step03_modified_fields.png"
        },
        {
          "step_number": 2,
          "action": "Click Save button",
          "expected": "Page saves successfully with confirmation message",
          "actual": "Page updated successfully message displayed, Save button disabled indicating all changes saved",
          "screenshot": "Page Details Management_step04_save_success.png"
        },
        {
          "step_number": 3,
          "action": "Navigate away and return to verify persistence",
          "expected": "Previously entered data is retained",
          "actual": "All entered values (Title, Description, Keywords) persisted correctly after navigating back",
          "screenshot": "Page Details Management_step05_verify_persistence.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test page type changes",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add Page to create new page and observe page type options",
          "expected": "Page type options visible: Standard, Existing, URL, File",
          "actual": "All four page type options displayed: Standard, Existing, URL, File",
          "screenshot": "Page Details Management_step06_page_type_options.png"
        },
        {
          "step_number": 2,
          "action": "Select URL page type",
          "expected": "Form changes to show URL-specific fields",
          "actual": "Form updated with External Url field, Open Link In New Window toggle, Permanent Redirect option",
          "screenshot": "Page Details Management_step08_url_page_type.png"
        },
        {
          "step_number": 3,
          "action": "Select File page type",
          "expected": "Form changes to show file selection fields",
          "actual": "Form updated with Link to a file on the local file system section with file picker",
          "screenshot": "Page Details Management_step09_file_page_type.png"
        },
        {
          "step_number": 4,
          "action": "Select Existing page type",
          "expected": "Form changes to show existing page selection",
          "actual": "Form updated with 'Link to an existing page' dropdown to select target page",
          "screenshot": "Page Details Management_step10_existing_page_type.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Verify workflow assignment",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Select News page and view Workflow dropdown",
          "expected": "Workflow dropdown shows available workflows",
          "actual": "Workflow dropdown displayed with options: Direct Publish, Save Draft, Content Approval, Test Workflow",
          "screenshot": "Page Details Management_step11_workflow_dropdown.png"
        },
        {
          "step_number": 2,
          "action": "Change workflow from Direct Publish to Content Approval",
          "expected": "Workflow selection changes and Save button enables",
          "actual": "Workflow changed to Content Approval, Save button enabled",
          "screenshot": "Page Details Management_step12_workflow_changed.png"
        },
        {
          "step_number": 3,
          "action": "Save the workflow change",
          "expected": "Page saves successfully with new workflow",
          "actual": "Page updated successfully message displayed, workflow persisted",
          "screenshot": "Page Details Management_step13_workflow_saved.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test empty name validation",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Clear the Name field which is required",
          "expected": "Save button becomes disabled or validation message appears",
          "actual": "Save button disabled when Name field is empty, preventing save of invalid page",
          "screenshot": "Page Details Management_step14_empty_name_validation.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test special characters in page name",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Enter special characters in page name: Test <Page> & \"Special\" 'Chars'",
          "expected": "Special characters are accepted in the name field",
          "actual": "Special characters including <, >, &, quotes accepted and displayed in page name",
          "screenshot": "Page Details Management_step15_special_chars.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test timezone conversion (scheduling)",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click Add Page and locate Enable Scheduling toggle",
          "expected": "Enable Scheduling toggle is visible in the Details tab",
          "actual": "Enable Scheduling toggle found with Off state, along with Link Tracking toggle",
          "screenshot": "Page Details Management_step17_add_page_scheduling.png"
        },
        {
          "step_number": 2,
          "action": "Enable the scheduling toggle",
          "expected": "Start Date and End Date fields appear",
          "actual": "Start Date and End Date fields appeared with date picker (MM/DD/YYYY) and time fields (hh:mm AM/PM)",
          "screenshot": "Page Details Management_step18_scheduling_enabled.png"
        },
        {
          "step_number": 3,
          "action": "Enter a start date (02/09/2026 09:30 PM)",
          "expected": "Date fields accept input",
          "actual": "Date and time entered successfully, displayed as 02/09/2026 09:30 PM",
          "screenshot": "Page Details Management_step19_date_entered.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test disabled link pages",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Select Wiki Test page and navigate to Advanced > More tab",
          "expected": "Security settings with Disable Page toggle visible",
          "actual": "More tab showed Security section with Secure Connection and Disable Page toggles, both Off",
          "screenshot": "Page Details Management_step20_disable_page_option.png"
        },
        {
          "step_number": 2,
          "action": "Enable the Disable Page toggle",
          "expected": "Toggle changes to On and Save button enables",
          "actual": "Disable Page toggle changed to On, Save button enabled, 'Changes have not been saved' message shown",
          "screenshot": "Page Details Management_step21_disable_page_enabled.png"
        },
        {
          "step_number": 3,
          "action": "Save the disabled page setting",
          "expected": "Page saves successfully with disabled state",
          "actual": "Page updated successfully message displayed, disabled setting persisted",
          "screenshot": "Page Details Management_step22_disable_page_saved.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test cache settings",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Verify Output Cache Provider dropdown in More tab",
          "expected": "Cache provider dropdown is accessible",
          "actual": "Output Cache Provider dropdown visible with 'None' selected as default",
          "screenshot": "Page Details Management_step16_more_tab.png"
        }
      ],
      "issues": []
    }
  ],
  "observations": [
    "The FixTimeZone method in EvoqPagesController.cs converts dates with DateTimeKind.Unspecified to UTC on the server side, ensuring consistent timezone handling for page scheduling",
    "Page permission checks are enforced via ISecurityService.CanManagePage() and CanSavePageDetails() methods before allowing page operations",
    "The GetPageDetails API returns a 404 NotFound response with message 'Page doesn't exists.' when an invalid page ID is provided - this is handled by PageNotFoundException",
    "Workflow assignment is managed through WorkflowHelper.AssignWorkflowToTab() with option to propagate workflow to child pages via ApplyWorkflowToChildren setting",
    "DisableLink pages are handled in SavePageDetails - when DisableLink is true, the system automatically uses Direct Publish workflow and publishes immediately",
    "Page validation is handled through PageValidationException which returns validation errors with field name and message",
    "EvoqPageSettings extends base PageSettings with Evoq-specific properties: Thumbnail, WorkflowId, IsWorkflowCompleted, TrackLinks, TabTemplates"
  ],
  "summary": {
    "total_scenarios": 9,
    "passed": 9,
    "failed": 0,
    "pass_rate": "100%"
  }
}
