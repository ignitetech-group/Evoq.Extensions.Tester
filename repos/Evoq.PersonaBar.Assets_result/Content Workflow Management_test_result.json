{
  "metadata": {
    "extension_name": "Evoq.PersonaBar.Assets",
    "extension_type": "PersonaBar Module",
    "feature_name": "Content Workflow Management",
    "feature_description": "Manages content workflows including draft, submit, approve, publish, and reject states with history tracking",
    "feature_priority": "High",
    "test_date": "2026-02-09T16:00:00Z",
    "tester": "Claude"
  },
  "test_scenarios": [
    {
      "scenario_name": "View workflow configuration",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Settings > Workflow",
          "expected": "Workflow configuration page displays available workflows",
          "actual": "Workflow page displayed showing Direct Publish, Save Draft, Content Approval, and Test Workflow options",
          "screenshot": "Content Workflow Management_step05_workflow_settings.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "View workflow states",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click on Content Approval workflow to expand it",
          "expected": "Workflow states should be displayed",
          "actual": "Content Approval workflow expanded showing states: Draft, Ready For Review, Published",
          "screenshot": "Content Workflow Management_step06_workflow_states.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Edit workflow state permissions",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Click edit button on Ready For Review state",
          "expected": "State edit dialog should open with reviewer configuration",
          "actual": "Workflow State Edit dialog opened showing state name, reviewers (roles and users), and notification options",
          "screenshot": "Content Workflow Management_step07_state_edit.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Configure folder workflow",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Open folder details for TestFolder01",
          "expected": "Folder settings should show workflow dropdown",
          "actual": "Folder settings displayed with Workflow dropdown showing options: Direct Publish, Save Draft, Content Approval, Test Workflow",
          "screenshot": "Content Workflow Management_step08_folder_workflow_setting.png"
        },
        {
          "step_number": 2,
          "action": "Change workflow to Content Approval and enable versioning",
          "expected": "Settings should update and save successfully",
          "actual": "Workflow changed to Content Approval, versioning enabled, Pending Items option displayed with Publish All/Discard All choices",
          "screenshot": "Content Workflow Management_step09_workflow_changed.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "View file workflow status",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Open file details for test_upload_file.txt",
          "expected": "File details should show workflow-related information",
          "actual": "File details opened showing Details and Versioning tabs",
          "screenshot": "Content Workflow Management_step03_file_details.png"
        },
        {
          "step_number": 2,
          "action": "Click on Versioning tab",
          "expected": "Version history with workflow state should be displayed",
          "actual": "Versioning tab shows version history with State column indicating Published status",
          "screenshot": "Content Workflow Management_step13_file_versioning.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Upload file to workflow-enabled folder",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate into TestFolder01 with Content Approval workflow",
          "expected": "Folder should open showing contents",
          "actual": "Successfully navigated to TestFolder01",
          "screenshot": "Content Workflow Management_step10_inside_testfolder.png"
        },
        {
          "step_number": 2,
          "action": "Click Add Asset to upload a file",
          "expected": "Upload dialog should open",
          "actual": "Upload dialog opened with drag-and-drop area",
          "screenshot": "Content Workflow Management_step11_upload_dialog.png"
        },
        {
          "step_number": 3,
          "action": "Upload test file",
          "expected": "File should upload and enter Draft workflow state",
          "actual": "Upload failed with error: Value cannot be null. Parameter name: folder",
          "screenshot": "Content Workflow Management_step12_upload_error.png"
        }
      ],
      "issues": ["File upload failed with 'Value cannot be null. Parameter name: folder' error when uploading to a folder with Content Approval workflow enabled"]
    },
    {
      "scenario_name": "View version history",
      "status": "PASS",
      "steps": [
        {
          "step_number": 1,
          "action": "Open Versioning tab for an existing file",
          "expected": "Version history table should display",
          "actual": "Version history displayed with columns: Version, Date, User, State, Default. Shows version 1 with Published state.",
          "screenshot": "Content Workflow Management_step04_versioning_tab.png"
        }
      ],
      "issues": []
    },
    {
      "scenario_name": "Test workflow state transitions",
      "status": "FAIL",
      "steps": [
        {
          "step_number": 1,
          "action": "Attempt to test workflow state transitions by uploading file to workflow-enabled folder",
          "expected": "File should enter Draft state, then progress through Ready For Review to Published",
          "actual": "Could not test due to upload error preventing file creation in workflow-enabled folder",
          "screenshot": "Content Workflow Management_step12_upload_error.png"
        }
      ],
      "issues": ["Unable to test workflow state transitions due to upload error in workflow-enabled folder"]
    }
  ],
  "observations": [
    "Workflow management is configured at the folder level - each folder can have a different workflow assigned",
    "The Versioning tab in file details shows workflow state (e.g., Draft, Ready For Review, Published) for each version",
    "Workflow State Edit dialog allows configuration of reviewers by role and individual user, with notification options",
    "When changing a folder's workflow, the system provides options for handling pending items (Publish All or Discard All)",
    "The Direct Publish workflow is the default and only has a Published state, allowing immediate publishing",
    "Content Approval workflow has three states: Draft -> Ready For Review -> Published",
    "File upload to folders with Content Approval workflow failed with a null reference error - this may be a bug in the workflow initialization code",
    "Code review shows workflow actions are triggered via AssetsWorkflowController with CompleteWorkflowState and DiscardWorkflowState endpoints"
  ],
  "summary": {
    "total_scenarios": 8,
    "passed": 6,
    "failed": 2,
    "pass_rate": "75%"
  }
}
